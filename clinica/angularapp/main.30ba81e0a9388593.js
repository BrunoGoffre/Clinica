var NP=Object.defineProperty,kP=Object.defineProperties,FP=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertySymbols,LP=Object.prototype.hasOwnProperty,VP=Object.prototype.propertyIsEnumerable,FS=(lt,Se,F)=>Se in lt?NP(lt,Se,{enumerable:!0,configurable:!0,writable:!0,value:F}):lt[Se]=F,LS=(lt,Se)=>{for(var F in Se||(Se={}))LP.call(Se,F)&&FS(lt,F,Se[F]);if(kS)for(var F of kS(Se))VP.call(Se,F)&&FS(lt,F,Se[F]);return lt},VS=(lt,Se)=>kP(lt,FP(Se));(self.webpackChunkclinica=self.webpackChunkclinica||[]).push([[179],{2011:(lt,Se,F)=>{"use strict";F.d(Se,{Dh:()=>ne,GT:()=>J,cc:()=>ke,hO:()=>$e,on:()=>ee,pX:()=>B,xv:()=>re});var p=F(5e3),u=F(127),j=F(5813);lt=F.hmd(lt);const ae=["ngOnDestroy"],B=(ce,Ye,et,Le={})=>new Proxy(ce,{get:(Z,De)=>et.runOutsideAngular(()=>{var ue;if(ce[De])return(null===(ue=null==Le?void 0:Le.spy)||void 0===ue?void 0:ue.get)&&Le.spy.get(De,ce[De]),ce[De];if(ae.indexOf(De)>-1)return()=>{};const Ce=Ye.toPromise().then(oe=>{const He=oe&&oe[De];return"function"==typeof He?He.bind(oe):He&&He.then?He.then(_e=>et.run(()=>_e)):et.run(()=>He)});return new Proxy(()=>{},{get:(oe,He)=>Ce[He],apply:(oe,He,_e)=>Ce.then(Me=>{var Oe;const ze=Me&&Me(..._e);return(null===(Oe=null==Le?void 0:Le.spy)||void 0===Oe?void 0:Oe.apply)&&Le.spy.apply(De,_e,ze),ze})})})}),J=(ce,Ye)=>{Ye.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Le=>{Object.defineProperty(ce.prototype,Le,Object.getOwnPropertyDescriptor(et.prototype||et,Le))})})};class Q{constructor(Ye){return Ye}}const ne=new p.OlP("angularfire2.app.options"),re=new p.OlP("angularfire2.app.name");function ee(ce,Ye,et){const Z="object"==typeof et&&et||{};Z.name=Z.name||"string"==typeof et&&et||"[DEFAULT]";const ue=u.Z.apps.filter(Ce=>Ce&&Ce.name===Z.name)[0]||Ye.runOutsideAngular(()=>u.Z.initializeApp(ce,Z));try{JSON.stringify(ce)!==JSON.stringify(ue.options)&&X("error",`${ue.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ce){}return new Q(ue)}const X=(ce,...Ye)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ce](...Ye)},fe={provide:Q,useFactory:ee,deps:[ne,p.R0b,[new p.FiY,re]]};let $e=(()=>{class ce{constructor(et){u.Z.registerVersion("angularfire",j.q4.full,"core"),u.Z.registerVersion("angularfire",j.q4.full,"app-compat"),u.Z.registerVersion("angular",p.q4F.full,et.toString())}static initializeApp(et,Le){return{ngModule:ce,providers:[{provide:ne,useValue:et},{provide:re,useValue:Le}]}}}return ce.\u0275fac=function(et){return new(et||ce)(p.LFG(p.Lbi))},ce.\u0275mod=p.oAB({type:ce}),ce.\u0275inj=p.cJS({providers:[fe]}),ce})();function ke(ce,Ye,et,Le,Z){const[,De,ue]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===ce)||[];if(De)return function Fe(ce,Ye){try{return ce.toString()===Ye.toString()}catch(et){return ce===Ye}}(Z,ue)||(me("error",`${Ye} was already initialized on the ${et} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Z,was:ue})),De;{const Ce=Le();return globalThis.\u0275AngularfireInstanceCache.push([ce,Ce,Z]),Ce}}const Be=!!lt.hot,me=(ce,...Ye)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ce](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Se,F)=>{"use strict";F.d(Se,{q4:()=>Pu,iC:()=>Oc,fc:()=>Ba,HU:()=>kd,vb:()=>Nd,JM:()=>wa});var p=F(5e3),u=F(5867),j=F(5861),ae=F(9681),B=F(2090),J=F(4859),Q=F(1877),ne=F(8766);const re="@firebase/installations",fe="w:0.5.9",$e="FIS_v2",Ye=new B.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(x){return x instanceof B.ZR&&x.code.includes("request-failed")}function Le({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Z(x){return{token:x.token,requestStatus:2,expiresIn:Me(x.expiresIn),creationTime:Date.now()}}function De(x,N){return ue.apply(this,arguments)}function ue(){return(ue=(0,j.Z)(function*(x,N){const le=(yield N.json()).error;return Ye.create("request-failed",{requestName:x,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function Ce({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function oe(x,{refreshToken:N}){const W=Ce(x);return W.append("Authorization",function Oe(x){return`${$e} ${x}`}(N)),W}function He(x){return _e.apply(this,arguments)}function _e(){return(_e=(0,j.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function Me(x){return Number(x.replace("s","000"))}function ze(x,N){return je.apply(this,arguments)}function je(){return(je=(0,j.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:W}){const le=Le(x),Re=Ce(x),Ge=N.getImmediate({optional:!0});if(Ge){const rn=yield Ge.getHeartbeatsHeader();rn&&Re.append("x-firebase-client",rn)}const Pt={method:"POST",headers:Re,body:JSON.stringify({fid:W,authVersion:$e,appId:x.appId,sdkVersion:fe})},Lt=yield He(()=>fetch(le,Pt));if(Lt.ok){const rn=yield Lt.json();return{fid:rn.fid||W,registrationStatus:2,refreshToken:rn.refreshToken,authToken:Z(rn.authToken)}}throw yield De("Create Installation",Lt)})).apply(this,arguments)}function at(x){return new Promise(N=>{setTimeout(N,x)})}const wn=/^[cdef][\w-]{21}$/;function Ve(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const W=function Ct(x){return function Nt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return wn.test(W)?W:""}catch(x){return""}}function Ie(x){return`${x.appName}!${x.appId}`}const ct=new Map;function ft(x,N){const W=Ie(x);Yt(W,N),function An(x,N){const W=function Zn(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=x=>{Yt(x.data.key,x.data.fid)}),mn}();W&&W.postMessage({key:x,fid:N}),function oi(){0===ct.size&&mn&&(mn.close(),mn=null)}()}(W,N)}function Yt(x,N){const W=ct.get(x);if(W)for(const le of W)le(N)}let mn=null;const Ci="firebase-installations-store";let Or=null;function $t(){return Or||(Or=(0,ne.X3)("firebase-installations-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(Ci)}})),Or}function yr(x,N){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,j.Z)(function*(x,N){const W=Ie(x),Re=(yield $t()).transaction(Ci,"readwrite"),Ge=Re.objectStore(Ci),dt=yield Ge.get(W);return yield Ge.put(N,W),yield Re.done,(!dt||dt.fid!==N.fid)&&ft(x,N.fid),N})).apply(this,arguments)}function bn(x){return ss.apply(this,arguments)}function ss(){return(ss=(0,j.Z)(function*(x){const N=Ie(x),le=(yield $t()).transaction(Ci,"readwrite");yield le.objectStore(Ci).delete(N),yield le.done})).apply(this,arguments)}function Pr(x,N){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,j.Z)(function*(x,N){const W=Ie(x),Re=(yield $t()).transaction(Ci,"readwrite"),Ge=Re.objectStore(Ci),dt=yield Ge.get(W),Pt=N(dt);return void 0===Pt?yield Ge.delete(W):yield Ge.put(Pt,W),yield Re.done,Pt&&(!dt||dt.fid!==Pt.fid)&&ft(x,Pt.fid),Pt})).apply(this,arguments)}function vi(x){return ar.apply(this,arguments)}function ar(){return(ar=(0,j.Z)(function*(x){let N;const W=yield Pr(x.appConfig,le=>{const Re=Mi(le),Ge=_t(x,Re);return N=Ge.registrationPromise,Ge.installationEntry});return""===W.fid?{installationEntry:yield N}:{installationEntry:W,registrationPromise:N}})).apply(this,arguments)}function Mi(x){return ro(x||{fid:Ve(),registrationStatus:0})}function _t(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Ye.create("app-offline"))};const W={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},le=function kt(x,N){return Ft.apply(this,arguments)}(x,W);return{installationEntry:W,registrationPromise:le}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Ti(x)}:{installationEntry:N}}function Ft(){return(Ft=(0,j.Z)(function*(x,N){try{const W=yield ze(x,N);return yr(x.appConfig,W)}catch(W){throw et(W)&&409===W.customData.serverCode?yield bn(x.appConfig):yield yr(x.appConfig,{fid:N.fid,registrationStatus:0}),W}})).apply(this,arguments)}function Ti(x){return vr.apply(this,arguments)}function vr(){return(vr=(0,j.Z)(function*(x){let N=yield Dn(x.appConfig);for(;1===N.registrationStatus;)yield at(100),N=yield Dn(x.appConfig);if(0===N.registrationStatus){const{installationEntry:W,registrationPromise:le}=yield vi(x);return le||W}return N})).apply(this,arguments)}function Dn(x){return Pr(x,N=>{if(!N)throw Ye.create("installation-not-found");return ro(N)})}function ro(x){return function Ji(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function ai(x,N){return he.apply(this,arguments)}function he(){return(he=(0,j.Z)(function*({appConfig:x,heartbeatServiceProvider:N},W){const le=be(x,W),Re=oe(x,W),Ge=N.getImmediate({optional:!0});if(Ge){const rn=yield Ge.getHeartbeatsHeader();rn&&Re.append("x-firebase-client",rn)}const Pt={method:"POST",headers:Re,body:JSON.stringify({installation:{sdkVersion:fe,appId:x.appId}})},Lt=yield He(()=>fetch(le,Pt));if(Lt.ok)return Z(yield Lt.json());throw yield De("Generate Auth Token",Lt)})).apply(this,arguments)}function be(x,{fid:N}){return`${Le(x)}/${N}/authTokens:generate`}function Ee(x){return tt.apply(this,arguments)}function tt(){return(tt=(0,j.Z)(function*(x,N=!1){let W;const le=yield Pr(x.appConfig,Ge=>{if(!qt(Ge))throw Ye.create("not-registered");const dt=Ge.authToken;if(!N&&ii(dt))return Ge;if(1===dt.requestStatus)return W=pe(x,N),Ge;{if(!navigator.onLine)throw Ye.create("app-offline");const Pt=mi(Ge);return W=vt(x,Pt),Pt}});return W?yield W:le.authToken})).apply(this,arguments)}function pe(x,N){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,j.Z)(function*(x,N){let W=yield it(x.appConfig);for(;1===W.authToken.requestStatus;)yield at(100),W=yield it(x.appConfig);const le=W.authToken;return 0===le.requestStatus?Ee(x,N):le})).apply(this,arguments)}function it(x){return Pr(x,N=>{if(!qt(N))throw Ye.create("not-registered");return function Ui(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function vt(x,N){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,j.Z)(function*(x,N){try{const W=yield ai(x,N),le=Object.assign(Object.assign({},N),{authToken:W});return yield yr(x.appConfig,le),W}catch(W){if(!et(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const le=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield yr(x.appConfig,le)}else yield bn(x.appConfig);throw W}})).apply(this,arguments)}function qt(x){return void 0!==x&&2===x.registrationStatus}function ii(x){return 2===x.requestStatus&&!function Zt(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function mi(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function $n(){return($n=(0,j.Z)(function*(x){const N=x,{installationEntry:W,registrationPromise:le}=yield vi(N);return le?le.catch(console.error):Ee(N).catch(console.error),W.fid})).apply(this,arguments)}function xe(){return(xe=(0,j.Z)(function*(x,N=!1){const W=x;return yield li(W),(yield Ee(W,N)).token})).apply(this,arguments)}function li(x){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,j.Z)(function*(x){const{registrationPromise:N}=yield vi(x);N&&(yield N)})).apply(this,arguments)}function Hr(x){return Ye.create("missing-app-config-values",{valueName:x})}const Bi="installations",Mt=x=>{const N=x.getProvider("app").getImmediate(),W=function di(x){if(!x||!x.options)throw Hr("App Configuration");if(!x.name)throw Hr("App Name");const N=["projectId","apiKey","appId"];for(const W of N)if(!x.options[W])throw Hr(W);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:W,heartbeatServiceProvider:(0,ae._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Sn=x=>{const N=x.getProvider("app").getImmediate(),W=(0,ae._getProvider)(N,Bi).getImmediate();return{getId:()=>function fo(x){return $n.apply(this,arguments)}(W),getToken:Re=>function Tt(x){return xe.apply(this,arguments)}(W,Re)}};(function bi(){(0,ae._registerComponent)(new J.wA(Bi,Mt,"PUBLIC")),(0,ae._registerComponent)(new J.wA("installations-internal",Sn,"PRIVATE"))})(),(0,ae.registerVersion)(re,"0.5.9"),(0,ae.registerVersion)(re,"0.5.9","esm2017");const $r="@firebase/remote-config",Jn=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class so{constructor(N,W,le,Re){this.client=N,this.storage=W,this.storageCache=le,this.logger=Re}isCachedDataFresh(N,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-W,Re=le<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Re}.`),Re}fetch(N){var W=this;return(0,j.Z)(function*(){const[le,Re]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Re&&W.isCachedDataFresh(N.cacheMaxAgeMillis,le))return Re;N.eTag=Re&&Re.eTag;const Ge=yield W.client.fetch(N),dt=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ge.status&&dt.push(W.storage.setLastSuccessfulFetchResponse(Ge)),yield Promise.all(dt),Ge})()}}function ls(x=navigator){return x.languages&&x.languages[0]||x.language}class yi{constructor(N,W,le,Re,Ge,dt){this.firebaseInstallations=N,this.sdkVersion=W,this.namespace=le,this.projectId=Re,this.apiKey=Ge,this.appId=dt}fetch(N){var W=this;return(0,j.Z)(function*(){const[le,Re]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Lt={sdk_version:W.sdkVersion,app_instance_id:le,app_instance_id_token:Re,app_id:W.appId,language_code:ls()},rn={method:"POST",headers:Pt,body:JSON.stringify(Lt)},Vn=fetch(dt,rn),hn=new Promise((Qs,$s)=>{N.signal.addEventListener(()=>{const ja=new Error("The operation was aborted.");ja.name="AbortError",$s(ja)})});let Ir;try{yield Promise.race([Vn,hn]),Ir=yield Vn}catch(Qs){let $s="fetch-client-network";throw"AbortError"===Qs.name&&($s="fetch-timeout"),Jn.create($s,{originalErrorMessage:Qs.message})}let rr=Ir.status;const ba=Ir.headers.get("ETag")||void 0;let Ea,lo;if(200===Ir.status){let Qs;try{Qs=yield Ir.json()}catch($s){throw Jn.create("fetch-client-parse",{originalErrorMessage:$s.message})}Ea=Qs.entries,lo=Qs.state}if("INSTANCE_STATE_UNSPECIFIED"===lo?rr=500:"NO_CHANGE"===lo?rr=304:("NO_TEMPLATE"===lo||"EMPTY_CONFIG"===lo)&&(Ea={}),304!==rr&&200!==rr)throw Jn.create("fetch-status",{httpStatus:rr});return{status:rr,eTag:ba,config:Ea}})()}}class ll{constructor(N,W){this.client=N,this.storage=W}fetch(N){var W=this;return(0,j.Z)(function*(){const le=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(N,le)})()}attemptFetch(N,{throttleEndTimeMillis:W,backoffCount:le}){var Re=this;return(0,j.Z)(function*(){yield function ur(x,N){return new Promise((W,le)=>{const Re=Math.max(N-Date.now(),0),Ge=setTimeout(W,Re);x.addEventListener(()=>{clearTimeout(Ge),le(Jn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,W);try{const Ge=yield Re.client.fetch(N);return yield Re.storage.deleteThrottleMetadata(),Ge}catch(Ge){if(!function Lo(x){if(!(x instanceof B.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Ge))throw Ge;const dt={throttleEndTimeMillis:Date.now()+(0,B.$s)(le),backoffCount:le+1};return yield Re.storage.setThrottleMetadata(dt),Re.attemptFetch(N,dt)}})()}}class Vo{constructor(N,W,le,Re,Ge){this.app=N,this._client=W,this._storageCache=le,this._storage=Re,this._logger=Ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oo(x,N){const W=x.target.error||void 0;return Jn.create(N,{originalErrorMessage:W&&W.message})}const us="app_namespace_store";class _o{constructor(N,W,le,Re=function cr(){return new Promise((x,N)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=le=>{N(oo(le,"storage-open"))},W.onsuccess=le=>{x(le.target.result)},W.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(us,{keyPath:"compositeKey"})}}catch(W){N(Jn.create("storage-open",{originalErrorMessage:W}))}})}()){this.appId=N,this.appName=W,this.namespace=le,this.openDbPromise=Re}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var W=this;return(0,j.Z)(function*(){const le=yield W.openDbPromise;return new Promise((Re,Ge)=>{const Pt=le.transaction([us],"readonly").objectStore(us),Lt=W.createCompositeKey(N);try{const rn=Pt.get(Lt);rn.onerror=Vn=>{Ge(oo(Vn,"storage-get"))},rn.onsuccess=Vn=>{const hn=Vn.target.result;Re(hn?hn.value:void 0)}}catch(rn){Ge(Jn.create("storage-get",{originalErrorMessage:rn&&rn.message}))}})})()}set(N,W){var le=this;return(0,j.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((Ge,dt)=>{const Lt=Re.transaction([us],"readwrite").objectStore(us),rn=le.createCompositeKey(N);try{const Vn=Lt.put({compositeKey:rn,value:W});Vn.onerror=hn=>{dt(oo(hn,"storage-set"))},Vn.onsuccess=()=>{Ge()}}catch(Vn){dt(Jn.create("storage-set",{originalErrorMessage:Vn&&Vn.message}))}})})()}delete(N){var W=this;return(0,j.Z)(function*(){const le=yield W.openDbPromise;return new Promise((Re,Ge)=>{const Pt=le.transaction([us],"readwrite").objectStore(us),Lt=W.createCompositeKey(N);try{const rn=Pt.delete(Lt);rn.onerror=Vn=>{Ge(oo(Vn,"storage-delete"))},rn.onsuccess=()=>{Re()}}catch(rn){Ge(Jn.create("storage-delete",{originalErrorMessage:rn&&rn.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class yo{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,j.Z)(function*(){const W=N.storage.getLastFetchStatus(),le=N.storage.getLastSuccessfulFetchTimestampMillis(),Re=N.storage.getActiveConfig(),Ge=yield W;Ge&&(N.lastFetchStatus=Ge);const dt=yield le;dt&&(N.lastSuccessfulFetchTimestampMillis=dt);const Pt=yield Re;Pt&&(N.activeConfig=Pt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function ks(){return wo.apply(this,arguments)}function wo(){return(wo=(0,j.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch(x){return!1}})).apply(this,arguments)}!function cs(){(0,ae._registerComponent)(new J.wA("remote-config",function x(N,{instanceIdentifier:W}){const le=N.getProvider("app").getImmediate(),Re=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Jn.create("registration-window");if(!(0,B.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:Ge,apiKey:dt,appId:Pt}=le.options;if(!Ge)throw Jn.create("registration-project-id");if(!dt)throw Jn.create("registration-api-key");if(!Pt)throw Jn.create("registration-app-id");const Lt=new _o(Pt,le.name,W=W||"firebase"),rn=new yo(Lt),Vn=new Q.Yd($r);Vn.logLevel=Q.in.ERROR;const hn=new yi(Re,ae.SDK_VERSION,W,Ge,dt,Pt),Ir=new ll(hn,Lt),rr=new so(Ir,Lt,rn,Vn),ba=new Vo(le,rr,rn,Lt,Vn);return function Un(x){const N=(0,B.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(ba),ba},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)($r,"0.3.8"),(0,ae.registerVersion)($r,"0.3.8","esm2017")}();const Uo="/firebase-messaging-sw.js",Ei="/firebase-cloud-messaging-push-scope",Ii="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Is="google.c.a.c_id",bo="google.c.a.c_l",Gr="google.c.a.ts",ca="google.c.a.e";var hs=(()=>{return(x=hs||(hs={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",hs;var x})();function ir(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fs(x){const W=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(W),Re=new Uint8Array(le.length);for(let Ge=0;Ge<le.length;++Ge)Re[Ge]=le.charCodeAt(Ge);return Re}const Hi="fcm_token_details_db",wi="fcm_token_object_Store";function Bo(x){return zr.apply(this,arguments)}function zr(){return zr=(0,j.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ge=>Ge.name).includes(Hi))return null;let N=null;return(yield(0,ne.X3)(Hi,5,{upgrade:(le=(0,j.Z)(function*(Re,Ge,dt,Pt){var Lt;if(Ge<2||!Re.objectStoreNames.contains(wi))return;const rn=Pt.objectStore(wi),Vn=yield rn.index("fcmSenderId").get(x);if(yield rn.clear(),Vn)if(2===Ge){const hn=Vn;if(!hn.auth||!hn.p256dh||!hn.endpoint)return;N={token:hn.fcmToken,createTime:null!==(Lt=hn.createTime)&&void 0!==Lt?Lt:Date.now(),subscriptionOptions:{auth:hn.auth,p256dh:hn.p256dh,endpoint:hn.endpoint,swScope:hn.swScope,vapidKey:"string"==typeof hn.vapidKey?hn.vapidKey:ir(hn.vapidKey)}}}else if(3===Ge){const hn=Vn;N={token:hn.fcmToken,createTime:hn.createTime,subscriptionOptions:{auth:ir(hn.auth),p256dh:ir(hn.p256dh),endpoint:hn.endpoint,swScope:hn.swScope,vapidKey:ir(hn.vapidKey)}}}else if(4===Ge){const hn=Vn;N={token:hn.fcmToken,createTime:hn.createTime,subscriptionOptions:{auth:ir(hn.auth),p256dh:ir(hn.p256dh),endpoint:hn.endpoint,swScope:hn.swScope,vapidKey:ir(hn.vapidKey)}}}}),function(Ge,dt,Pt,Lt){return le.apply(this,arguments)})})).close(),yield(0,ne.Lj)(Hi),yield(0,ne.Lj)("fcm_vapid_details_db"),yield(0,ne.Lj)("undefined"),Zs(N)?N:null;var le}),zr.apply(this,arguments)}function Zs(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const kr="firebase-messaging-store";let Fr=null;function Cn(){return Fr||(Fr=(0,ne.X3)("firebase-messaging-database",1,{upgrade:(x,N)=>{0===N&&x.createObjectStore(kr)}})),Fr}function R(x){return G.apply(this,arguments)}function G(){return(G=(0,j.Z)(function*(x){const N=nt(x),le=yield(yield Cn()).transaction(kr).objectStore(kr).get(N);if(le)return le;{const Re=yield Bo(x.appConfig.senderId);if(Re)return yield P(x,Re),Re}})).apply(this,arguments)}function P(x,N){return K.apply(this,arguments)}function K(){return(K=(0,j.Z)(function*(x,N){const W=nt(x),Re=(yield Cn()).transaction(kr,"readwrite");return yield Re.objectStore(kr).put(N,W),yield Re.done,N})).apply(this,arguments)}function ge(x){return qe.apply(this,arguments)}function qe(){return(qe=(0,j.Z)(function*(x){const N=nt(x),le=(yield Cn()).transaction(kr,"readwrite");yield le.objectStore(kr).delete(N),yield le.done})).apply(this,arguments)}function nt({appConfig:x}){return x.appId}const Jt=new B.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function On(x,N){return nn.apply(this,arguments)}function nn(){return(nn=(0,j.Z)(function*(x,N){const W=yield dr(x),le=hr(N),Re={method:"POST",headers:W,body:JSON.stringify(le)};let Ge;try{Ge=yield(yield fetch($i(x.appConfig),Re)).json()}catch(dt){throw Jt.create("token-subscribe-failed",{errorInfo:dt})}if(Ge.error)throw Jt.create("token-subscribe-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Jt.create("token-subscribe-no-token");return Ge.token})).apply(this,arguments)}function _n(x,N){return ei.apply(this,arguments)}function ei(){return(ei=(0,j.Z)(function*(x,N){const W=yield dr(x),le=hr(N.subscriptionOptions),Re={method:"PATCH",headers:W,body:JSON.stringify(le)};let Ge;try{Ge=yield(yield fetch(`${$i(x.appConfig)}/${N.token}`,Re)).json()}catch(dt){throw Jt.create("token-update-failed",{errorInfo:dt})}if(Ge.error)throw Jt.create("token-update-failed",{errorInfo:Ge.error.message});if(!Ge.token)throw Jt.create("token-update-no-token");return Ge.token})).apply(this,arguments)}function kn(x,N){return jn.apply(this,arguments)}function jn(){return(jn=(0,j.Z)(function*(x,N){const le={method:"DELETE",headers:yield dr(x)};try{const Ge=yield(yield fetch(`${$i(x.appConfig)}/${N}`,le)).json();if(Ge.error)throw Jt.create("token-unsubscribe-failed",{errorInfo:Ge.error.message})}catch(Re){throw Jt.create("token-unsubscribe-failed",{errorInfo:Re})}})).apply(this,arguments)}function $i({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function dr(x){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,j.Z)(function*({appConfig:x,installations:N}){const W=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function hr({p256dh:x,auth:N,endpoint:W,vapidKey:le}){const Re={web:{endpoint:W,auth:N,p256dh:x}};return le!==Ii&&(Re.web.applicationPubKey=le),Re}const jo=6048e5;function Ws(x){return Di.apply(this,arguments)}function Di(){return(Di=(0,j.Z)(function*(x){const N=yield an(x.swRegistration,x.vapidKey),W={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:ir(N.getKey("auth")),p256dh:ir(N.getKey("p256dh"))},le=yield R(x.firebaseDependencies);if(le){if(Tr(le.subscriptionOptions,W))return Date.now()>=le.createTime+jo?A(x,{token:le.token,createTime:Date.now(),subscriptionOptions:W}):le.token;try{yield kn(x.firebaseDependencies,le.token)}catch(Re){console.warn(Re)}return de(x.firebaseDependencies,W)}return de(x.firebaseDependencies,W)})).apply(this,arguments)}function k(x){return O.apply(this,arguments)}function O(){return(O=(0,j.Z)(function*(x){const N=yield R(x.firebaseDependencies);N&&(yield kn(x.firebaseDependencies,N.token),yield ge(x.firebaseDependencies));const W=yield x.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function A(x,N){return q.apply(this,arguments)}function q(){return(q=(0,j.Z)(function*(x,N){try{const W=yield _n(x.firebaseDependencies,N),le=Object.assign(Object.assign({},N),{token:W,createTime:Date.now()});return yield P(x.firebaseDependencies,le),W}catch(W){throw yield k(x),W}})).apply(this,arguments)}function de(x,N){return st.apply(this,arguments)}function st(){return(st=(0,j.Z)(function*(x,N){const le={token:yield On(x,N),createTime:Date.now(),subscriptionOptions:N};return yield P(x,le),le.token})).apply(this,arguments)}function an(x,N){return xn.apply(this,arguments)}function xn(){return(xn=(0,j.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fs(N)})})).apply(this,arguments)}function Tr(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function fs(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function fr(x,N){if(!N.notification)return;x.notification={};const W=N.notification.title;W&&(x.notification.title=W);const le=N.notification.body;le&&(x.notification.body=le);const Re=N.notification.image;Re&&(x.notification.image=Re)}(N,x),function As(x,N){!N.data||(x.data=N.data)}(N,x),function Ls(x,N){if(!N.fcmOptions)return;x.fcmOptions={};const W=N.fcmOptions.link;W&&(x.fcmOptions.link=W);const le=N.fcmOptions.analytics_label;le&&(x.fcmOptions.analyticsLabel=le)}(N,x),N}function Tu(x){return"object"==typeof x&&!!x&&Is in x}function Iu(x,N){const W=[];for(let le=0;le<x.length;le++)W.push(x.charAt(le)),le<N.length&&W.push(N.charAt(le));return W.join("")}function Eo(x){return Jt.create("missing-app-config-values",{valueName:x})}Iu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Iu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lr{constructor(N,W,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Re=function Cc(x){if(!x||!x.options)throw Eo("App Configuration Object");if(!x.name)throw Eo("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:W}=x;for(const le of N)if(!W[le])throw Eo(le);return{appName:x.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Re,installations:W,analyticsProvider:le}}_delete(){return Promise.resolve()}}function xs(x){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,j.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(Uo,{scope:Ei}),x.swRegistration.update().catch(()=>{})}catch(N){throw Jt.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function Ks(x,N){return ps.apply(this,arguments)}function ps(){return(ps=(0,j.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield xs(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Jt.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function Hl(x,N){return ul.apply(this,arguments)}function ul(){return(ul=(0,j.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=Ii)})).apply(this,arguments)}function $l(){return($l=(0,j.Z)(function*(x,N){if(!navigator)throw Jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jt.create("permission-blocked");return yield Hl(x,null==N?void 0:N.vapidKey),yield Ks(x,null==N?void 0:N.serviceWorkerRegistration),Ws(x)})).apply(this,arguments)}function da(x,N,W){return ha.apply(this,arguments)}function ha(){return(ha=(0,j.Z)(function*(x,N,W){const le=Gl(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:W[Is],message_name:W[bo],message_time:W[Gr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gl(x){switch(x){case hs.NOTIFICATION_CLICKED:return"notification_open";case hs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function dl(){return(dl=(0,j.Z)(function*(x,N){const W=N.data;if(!W.isFirebaseMessaging)return;x.onMessageHandler&&W.messageType===hs.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(fs(W)):x.onMessageHandler.next(fs(W)));const le=W.data;Tu(le)&&"1"===le[ca]&&(yield da(x,W.messageType,le))})).apply(this,arguments)}const fa="@firebase/messaging",hl=x=>{const N=new Lr(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function Pa(x,N){return dl.apply(this,arguments)}(N,W)),N},To=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:le=>function cl(x,N){return $l.apply(this,arguments)}(N,le)}};function pl(){return pa.apply(this,arguments)}function pa(){return(pa=(0,j.Z)(function*(){try{yield(0,B.eu)()}catch(x){return!1}return"undefined"!=typeof window&&(0,B.hl)()&&(0,B.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fl(){(0,ae._registerComponent)(new J.wA("messaging",hl,"PUBLIC")),(0,ae._registerComponent)(new J.wA("messaging-internal",To,"PRIVATE")),(0,ae.registerVersion)(fa,"0.9.13"),(0,ae.registerVersion)(fa,"0.9.13","esm2017")}();const zl="analytics",Tc="firebase_id",Ys="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ma="https://www.googletagmanager.com/gtag/js",Hn=new Q.Yd("@firebase/analytics");function ql(x){return Promise.all(x.map(N=>N.catch(W=>W)))}function Du(x,N){const W=document.createElement("script");W.src=`${ma}?l=${x}&id=${N}`,W.async=!0,document.head.appendChild(W)}function Gi(x,N,W,le,Re,Ge){return zi.apply(this,arguments)}function zi(){return(zi=(0,j.Z)(function*(x,N,W,le,Re,Ge){const dt=le[Re];try{if(dt)yield N[dt];else{const Lt=(yield ql(W)).find(rn=>rn.measurementId===Re);Lt&&(yield N[Lt.appId])}}catch(Pt){Hn.error(Pt)}x("config",Re,Ge)})).apply(this,arguments)}function Vs(x,N,W,le,Re){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,j.Z)(function*(x,N,W,le,Re){try{let Ge=[];if(Re&&Re.send_to){let dt=Re.send_to;Array.isArray(dt)||(dt=[dt]);const Pt=yield ql(W);for(const Lt of dt){const rn=Pt.find(hn=>hn.measurementId===Lt),Vn=rn&&N[rn.appId];if(!Vn){Ge=[];break}Ge.push(Vn)}}0===Ge.length&&(Ge=Object.values(N)),yield Promise.all(Ge),x("event",le,Re||{})}catch(Ge){Hn.error(Ge)}})).apply(this,arguments)}function $o(){const x=window.document.getElementsByTagName("script");for(const N of Object.values(x))if(N.src&&N.src.includes(ma))return N;return null}const ci=new B.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Na=new class Ms{constructor(N={},W=1e3){this.throttleMetadata=N,this.intervalMillis=W}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,W){this.throttleMetadata[N]=W}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function ka(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Si(x){return zo.apply(this,arguments)}function zo(){return(zo=(0,j.Z)(function*(x){var N;const{appId:W,apiKey:le}=x,Re={method:"GET",headers:ka(le)},Ge=Ys.replace("{app-id}",W),dt=yield fetch(Ge,Re);if(200!==dt.status&&304!==dt.status){let Pt="";try{const Lt=yield dt.json();(null===(N=Lt.error)||void 0===N?void 0:N.message)&&(Pt=Lt.error.message)}catch(Lt){}throw ci.create("config-fetch-failed",{httpStatus:dt.status,responseMessage:Pt})}return dt.json()})).apply(this,arguments)}function Ri(x){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,j.Z)(function*(x,N=Na,W){const{appId:le,apiKey:Re,measurementId:Ge}=x.options;if(!le)throw ci.create("no-app-id");if(!Re){if(Ge)return{measurementId:Ge,appId:le};throw ci.create("no-api-key")}const dt=N.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new tn;return setTimeout((0,j.Z)(function*(){Pt.abort()}),void 0!==W?W:6e4),qo({appId:le,apiKey:Re,measurementId:Ge},dt,Pt,N)})).apply(this,arguments)}function qo(x,N,W){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,j.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:W},le,Re=Na){const{appId:Ge,measurementId:dt}=x;try{yield St(le,N)}catch(Pt){if(dt)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${Pt.message}]`),{appId:Ge,measurementId:dt};throw Pt}try{const Pt=yield Si(x);return Re.deleteThrottleMetadata(Ge),Pt}catch(Pt){if(!yl(Pt)){if(Re.deleteThrottleMetadata(Ge),dt)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${Pt.message}]`),{appId:Ge,measurementId:dt};throw Pt}const Lt=503===Number(Pt.customData.httpStatus)?(0,B.$s)(W,Re.intervalMillis,30):(0,B.$s)(W,Re.intervalMillis),rn={throttleEndTimeMillis:Date.now()+Lt,backoffCount:W+1};return Re.setThrottleMetadata(Ge,rn),Hn.debug(`Calling attemptFetch again in ${Lt} millis`),qo(x,rn,le,Re)}})).apply(this,arguments)}function St(x,N){return new Promise((W,le)=>{const Re=Math.max(N-Date.now(),0),Ge=setTimeout(W,Re);x.addEventListener(()=>{clearTimeout(Ge),le(ci.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function yl(x){if(!(x instanceof B.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class tn{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}function Fa(){return La.apply(this,arguments)}function La(){return(La=(0,j.Z)(function*(){if(!(0,B.hl)())return Hn.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,B.eu)()}catch(x){return Hn.warn(ci.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function _a(){return(_a=(0,j.Z)(function*(x,N,W,le,Re,Ge,dt){var Pt;const Lt=Ri(x);Lt.then(rr=>{W[rr.measurementId]=rr.appId,x.options.measurementId&&rr.measurementId!==x.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>Hn.error(rr)),N.push(Lt);const rn=Fa().then(rr=>{if(rr)return le.getId()}),[Vn,hn]=yield Promise.all([Lt,rn]);$o()||Du(Ge,Vn.measurementId),Re("js",new Date);const Ir=null!==(Pt=null==dt?void 0:dt.config)&&void 0!==Pt?Pt:{};return Ir.origin="firebase",Ir.update=!0,null!=hn&&(Ir[Tc]=hn),Re("config",Vn.measurementId,Ir),Vn.measurementId})).apply(this,arguments)}class Do{constructor(N){this.app=N}_delete(){return delete I[this.app.options.appId],Promise.resolve()}}let I={},C=[];const w={};let z,se,M="dataLayer",ye=!1;function dn(x,N,W){!function Et(){const x=[];if((0,B.ru)()&&x.push("This is a browser extension environment."),(0,B.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((le,Re)=>`(${Re+1}) ${le}`).join(" "),W=ci.create("invalid-analytics-context",{errorInfo:N});Hn.warn(W.message)}}();const le=x.options.appId;if(!le)throw ci.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw ci.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=I[le])throw ci.create("already-exists",{id:le});if(!ye){!function Zr(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(M);const{wrappedGtag:Ge,gtagCore:dt}=function Ra(x,N,W,le,Re){let Ge=function(...dt){window[le].push(arguments)};return window[Re]&&"function"==typeof window[Re]&&(Ge=window[Re]),window[Re]=function ao(x,N,W,le){function Ge(){return(Ge=(0,j.Z)(function*(dt,Pt,Lt){try{"event"===dt?yield Vs(x,N,W,Pt,Lt):"config"===dt?yield Gi(x,N,W,le,Pt,Lt):x("set",Pt)}catch(rn){Hn.error(rn)}})).apply(this,arguments)}return function Re(dt,Pt,Lt){return Ge.apply(this,arguments)}}(Ge,x,N,W),{gtagCore:Ge,wrappedGtag:window[Re]}}(I,C,w,M,"gtag");se=Ge,z=dt,ye=!0}return I[le]=function gs(x,N,W,le,Re,Ge,dt){return _a.apply(this,arguments)}(x,C,w,N,z,M,W),new Do(x)}function Fn(){return(Fn=(0,j.Z)(function*(x,N,W,le,Re){if(Re&&Re.global)x("event",W,le);else{const Ge=yield N;x("event",W,Object.assign(Object.assign({},le),{send_to:Ge}))}})).apply(this,arguments)}function Va(){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,j.Z)(function*(){if((0,B.ru)()||!(0,B.zI)()||!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch(x){return!1}})).apply(this,arguments)}const Dc="@firebase/analytics";!function jp(){(0,ae._registerComponent)(new J.wA(zl,(N,{options:W})=>dn(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,ae._registerComponent)(new J.wA("analytics-internal",function x(N){try{const W=N.getProvider(zl).getImmediate();return{logEvent:(le,Re,Ge)=>function Hh(x,N,W,le){x=(0,B.m9)(x),function Ot(x,N,W,le,Re){return Fn.apply(this,arguments)}(se,I[x.app.options.appId],N,W,le).catch(Re=>Hn.error(Re))}(W,le,Re,Ge)}}catch(W){throw ci.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,ae.registerVersion)(Dc,"0.7.9"),(0,ae.registerVersion)(Dc,"0.7.9","esm2017")}();var $h=F(4408),Mu=F(7565);const Ua=new class Zi extends Mu.v{}(class ya extends $h.o{constructor(N,W){super(N,W),this.scheduler=N,this.work=W}schedule(N,W=0){return W>0?super.schedule(N,W):(this.delay=W,this.state=N,this.scheduler.flush(this),this)}execute(N,W){return W>0||this.closed?super.execute(N,W):this._execute(N,W)}requestAsyncId(N,W,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(N,W,le):N.flush(this)}});var Pd=F(4986),Ac=F(8505),Kr=F(5363),Bs=F(9468);const Pu=new p.GfV("7.3.0"),Wi="__angularfire_symbol__analyticsIsSupportedValue",js="__angularfire_symbol__analyticsIsSupported",va="__angularfire_symbol__remoteConfigIsSupportedValue",Hs="__angularfire_symbol__remoteConfigIsSupported",Zl="__angularfire_symbol__messagingIsSupportedValue",Rd="__angularfire_symbol__messagingIsSupported";function wa(x,N,W){if(N){if(1===N.length)return N[0];const Ge=N.filter(dt=>dt.app===W);if(1===Ge.length)return Ge[0]}return W.container.getProvider(x).getImmediate({optional:!0})}globalThis[js]||(globalThis[js]=Va().then(x=>globalThis[Wi]=x).catch(()=>globalThis[Wi]=!1)),globalThis[Rd]||(globalThis[Rd]=pl().then(x=>globalThis[Zl]=x).catch(()=>globalThis[Zl]=!1)),globalThis[Hs]||(globalThis[Hs]=ks().then(x=>globalThis[va]=x).catch(()=>globalThis[va]=!1));const Nd=(x,N)=>{const W=N?[N]:(0,u.C6)(),le=[];return W.forEach(Re=>{Re.container.getProvider(x).instances.forEach(dt=>{le.includes(dt)||le.push(dt)})}),le};function So(){}class xc{constructor(N,W=Ua){this.zone=N,this.delegate=W}now(){return this.delegate.now()}schedule(N,W,le){const Re=this.zone;return this.delegate.schedule(function(dt){Re.runGuarded(()=>{N.apply(this,[dt])})},W,le)}}class Mc{constructor(N){this.zone=N,this.task=null}call(N,W){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),W.pipe((0,Ac.b)({next:le,complete:le,error:le})).subscribe(N).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kd=(()=>{class x{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new xc(Zone.current)),this.insideAngular=W.run(()=>new xc(Zone.current,Pd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(W){return new(W||x)(p.LFG(p.R0b))},x.\u0275prov=p.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Ao(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Ba(x){return x.pipe((0,Kr.Q)(Ao().outsideAngular))}function Oc(x){return Ao(),function Qo(x){return function(W){return(W=W.lift(new Mc(x.ngZone))).pipe((0,Bs.R)(x.outsideAngular),(0,Kr.Q)(x.insideAngular))}}(Ao())(x)}},2090:(lt,Se,F)=>{"use strict";F.d(Se,{$s:()=>Dn,BH:()=>$e,G6:()=>Ce,L:()=>ne,LL:()=>je,Mn:()=>De,Sg:()=>ke,UG:()=>me,US:()=>J,ZB:()=>X,ZR:()=>ze,b$:()=>et,d:()=>Le,eu:()=>He,hl:()=>oe,jU:()=>ce,m9:()=>ai,ne:()=>Or,pd:()=>or,r3:()=>Xt,ru:()=>Ye,tV:()=>re,uI:()=>Be,vZ:()=>mn,w1:()=>Z,xO:()=>oi,xb:()=>Yt,z$:()=>Fe,zI:()=>_e,zd:()=>Li});const ae=function(he){const be=[];let Ee=0;for(let tt=0;tt<he.length;tt++){let pe=he.charCodeAt(tt);pe<128?be[Ee++]=pe:pe<2048?(be[Ee++]=pe>>6|192,be[Ee++]=63&pe|128):55296==(64512&pe)&&tt+1<he.length&&56320==(64512&he.charCodeAt(tt+1))?(pe=65536+((1023&pe)<<10)+(1023&he.charCodeAt(++tt)),be[Ee++]=pe>>18|240,be[Ee++]=pe>>12&63|128,be[Ee++]=pe>>6&63|128,be[Ee++]=63&pe|128):(be[Ee++]=pe>>12|224,be[Ee++]=pe>>6&63|128,be[Ee++]=63&pe|128)}return be},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,be){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ee=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let pe=0;pe<he.length;pe+=3){const Ae=he[pe],it=pe+1<he.length,vt=it?he[pe+1]:0,Ut=pe+2<he.length,qt=Ut?he[pe+2]:0;let mi=(15&vt)<<2|qt>>6,Ui=63&qt;Ut||(Ui=64,it||(mi=64)),tt.push(Ee[Ae>>2],Ee[(3&Ae)<<4|vt>>4],Ee[mi],Ee[Ui])}return tt.join("")},encodeString(he,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(he):this.encodeByteArray(ae(he),be)},decodeString(he,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(he):function(he){const be=[];let Ee=0,tt=0;for(;Ee<he.length;){const pe=he[Ee++];if(pe<128)be[tt++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const Ae=he[Ee++];be[tt++]=String.fromCharCode((31&pe)<<6|63&Ae)}else if(pe>239&&pe<365){const Ut=((7&pe)<<18|(63&he[Ee++])<<12|(63&he[Ee++])<<6|63&he[Ee++])-65536;be[tt++]=String.fromCharCode(55296+(Ut>>10)),be[tt++]=String.fromCharCode(56320+(1023&Ut))}else{const Ae=he[Ee++],it=he[Ee++];be[tt++]=String.fromCharCode((15&pe)<<12|(63&Ae)<<6|63&it)}}return be.join("")}(this.decodeStringToByteArray(he,be))},decodeStringToByteArray(he,be){this.init_();const Ee=be?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let pe=0;pe<he.length;){const Ae=Ee[he.charAt(pe++)],vt=pe<he.length?Ee[he.charAt(pe)]:0;++pe;const qt=pe<he.length?Ee[he.charAt(pe)]:64;++pe;const Zt=pe<he.length?Ee[he.charAt(pe)]:64;if(++pe,null==Ae||null==vt||null==qt||null==Zt)throw Error();tt.push(Ae<<2|vt>>4),64!==qt&&(tt.push(vt<<4&240|qt>>2),64!==Zt&&tt.push(qt<<6&192|Zt))}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}},ne=function(he){return function(he){const be=ae(he);return J.encodeByteArray(be,!0)}(he).replace(/\./g,"")},re=function(he){try{return J.decodeString(he,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function X(he,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===he&&(he={});break;case Array:he=[];break;default:return be}for(const Ee in be)!be.hasOwnProperty(Ee)||!fe(Ee)||(he[Ee]=X(he[Ee],be[Ee]));return he}function fe(he){return"__proto__"!==he}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Ee)=>{this.resolve=be,this.reject=Ee})}wrapCallback(be){return(Ee,tt)=>{Ee?this.reject(Ee):this.resolve(tt),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Ee):be(Ee,tt))}}}function ke(he,be){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const tt=be||"demo-project",pe=he.iat||0,Ae=he.sub||he.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const it=Object.assign({iss:`https://securetoken.google.com/${tt}`,aud:tt,iat:pe,exp:pe+3600,auth_time:pe,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},he);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(it)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(he){return!1}}function ce(){return"object"==typeof self&&self.self===self}function Ye(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return Fe().indexOf("Electron/")>=0}function Z(){const he=Fe();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function De(){return Fe().indexOf("MSAppHost/")>=0}function Ce(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){return"object"==typeof indexedDB}function He(){return new Promise((he,be)=>{try{let Ee=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(tt);pe.onsuccess=()=>{pe.result.close(),Ee||self.indexedDB.deleteDatabase(tt),he(!0)},pe.onupgradeneeded=()=>{Ee=!1},pe.onerror=()=>{var Ae;be((null===(Ae=pe.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(Ee){be(Ee)}})}function _e(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ze extends Error{constructor(be,Ee,tt){super(Ee),this.code=be,this.customData=tt,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(be,Ee,tt){this.service=be,this.serviceName=Ee,this.errors=tt}create(be,...Ee){const tt=Ee[0]||{},pe=`${this.service}/${be}`,Ae=this.errors[be],it=Ae?function at(he,be){return he.replace(Nt,(Ee,tt)=>{const pe=be[tt];return null!=pe?String(pe):`<${tt}?>`})}(Ae,tt):"Error";return new ze(pe,`${this.serviceName}: ${it} (${pe}).`,tt)}}const Nt=/\{\$([^}]+)}/g;function Xt(he,be){return Object.prototype.hasOwnProperty.call(he,be)}function Yt(he){for(const be in he)if(Object.prototype.hasOwnProperty.call(he,be))return!1;return!0}function mn(he,be){if(he===be)return!0;const Ee=Object.keys(he),tt=Object.keys(be);for(const pe of Ee){if(!tt.includes(pe))return!1;const Ae=he[pe],it=be[pe];if(Zn(Ae)&&Zn(it)){if(!mn(Ae,it))return!1}else if(Ae!==it)return!1}for(const pe of tt)if(!Ee.includes(pe))return!1;return!0}function Zn(he){return null!==he&&"object"==typeof he}function oi(he){const be=[];for(const[Ee,tt]of Object.entries(he))Array.isArray(tt)?tt.forEach(pe=>{be.push(encodeURIComponent(Ee)+"="+encodeURIComponent(pe))}):be.push(encodeURIComponent(Ee)+"="+encodeURIComponent(tt));return be.length?"&"+be.join("&"):""}function Li(he){const be={};return he.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[pe,Ae]=tt.split("=");be[decodeURIComponent(pe)]=decodeURIComponent(Ae)}}),be}function or(he){const be=he.indexOf("?");if(!be)return"";const Ee=he.indexOf("#",be);return he.substring(be,Ee>0?Ee:void 0)}function Or(he,be){const Ee=new $t(he,be);return Ee.subscribe.bind(Ee)}class $t{constructor(be,Ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ee,this.task.then(()=>{be(this)}).catch(tt=>{this.error(tt)})}next(be){this.forEachObserver(Ee=>{Ee.next(be)})}error(be){this.forEachObserver(Ee=>{Ee.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Ee,tt){let pe;if(void 0===be&&void 0===Ee&&void 0===tt)throw new Error("Missing Observer.");pe=function Bn(he,be){if("object"!=typeof he||null===he)return!1;for(const Ee of be)if(Ee in he&&"function"==typeof he[Ee])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Ee,complete:tt},void 0===pe.next&&(pe.next=bn),void 0===pe.error&&(pe.error=bn),void 0===pe.complete&&(pe.complete=bn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch(it){}}),this.observers.push(pe),Ae}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Ee=0;Ee<this.observers.length;Ee++)this.sendOne(Ee,be)}sendOne(be,Ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Ee(this.observers[be])}catch(tt){"undefined"!=typeof console&&console.error&&console.error(tt)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function Dn(he,be=1e3,Ee=2){const tt=be*Math.pow(Ee,he),pe=Math.round(.5*tt*(Math.random()-.5)*2);return Math.min(144e5,tt+pe)}function ai(he){return he&&he._delegate?he._delegate:he}},2544:(lt,Se,F)=>{"use strict";F.d(Se,{T:()=>J});var p=F(9808),u=F(5503),j=F(2382),ae=F(441),B=F(5e3);let J=(()=>{class Q{}return Q.\u0275fac=function(re){return new(re||Q)},Q.\u0275mod=B.oAB({type:Q}),Q.\u0275inj=B.cJS({imports:[[p.ez,ae.Bz.forChild([]),u.D,j.u5]]}),Q})()},5503:(lt,Se,F)=>{"use strict";F.d(Se,{D:()=>j});var p=F(9808),u=F(5e3);let j=(()=>{class ae{}return ae.\u0275fac=function(J){return new(J||ae)},ae.\u0275mod=u.oAB({type:ae}),ae.\u0275inj=u.cJS({imports:[[p.ez]]}),ae})()},855:(lt,Se,F)=>{"use strict";var p=F(9808),u=F(5e3);class j extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends j{static makeCurrent(){(0,p.HT)(new ae)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function J(){return B=B||document.querySelector("base"),B?B.getAttribute("href"):null}();return null==t?null:function ne(n){Q=Q||document.createElement("a"),Q.setAttribute("href",n);const e=Q.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,p.Mx)(document.cookie,e)}}let Q,B=null;const re=new u.OlP("TRANSITION_ID"),X=[{provide:u.ip1,useFactory:function ee(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=(0,p.q)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[re,p.K0,u.zs3],multi:!0}];class fe{static init(){(0,u.VLi)(new fe)}addToWindow(e){u.dqk.getAngularTestability=(i,o=!0)=>{const l=e.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const _=function(E){h=h||E,l--,0==l&&i(h)};o.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:i?(0,p.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $e=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ke=new u.OlP("EventManagerPlugins");let Fe=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,o){return this._findPluginFor(i).addEventListener(t,i,o)}addGlobalEventListener(t,i,o){return this._findPluginFor(i).addGlobalEventListener(t,i,o)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ke),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Be{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const o=(0,p.q)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,i)}}let me=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ce=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(i.appendChild(h))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Ye),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(t,o,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ye))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p.K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ye(n){(0,p.q)().remove(n)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Le=/%COMP%/g;function _e(n,e,t){for(let i=0;i<e.length;i++){let o=e[i];Array.isArray(o)?_e(n,o,t):(o=o.replace(Le,n),t.push(o))}return t}function Me(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ze=(()=>{class n{constructor(t,i,o){this.eventManager=t,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new je(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new wn(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new un(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const o=_e(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fe),u.LFG(ce),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class je{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,o){if(o){t=o+":"+t;const l=et[o];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const o=et[i];o?e.removeAttributeNS(o,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,o&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Me(i)):this.eventManager.addEventListener(e,t,Me(i))}}class wn extends je{constructor(e,t,i,o){super(e),this.component=i;const l=_e(o+"-"+i.id,i.styles,[]);t.addStyles(l),this.contentAttr=function oe(n){return"_ngcontent-%COMP%".replace(Le,n)}(o+"-"+i.id),this.hostAttr=function He(n){return"_nghost-%COMP%".replace(Le,n)}(o+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class un extends je{constructor(e,t,i,o){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=_e(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const _=document.createElement("style");_.textContent=l[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ve=(()=>{class n extends Be{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,o){return t.addEventListener(i,o,!1),()=>this.removeEventListener(t,i,o)}removeEventListener(t,i,o){return t.removeEventListener(i,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p.K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ct=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let jt=(()=>{class n extends Be{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,o){const l=n.parseEventName(i),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const i=t.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let h="";if(Ct.forEach(E=>{const S=i.indexOf(E);S>-1&&(i.splice(S,1),h+=E+".")}),h+=l,0!=i.length||0===l.length)return null;const _={};return _.domEventName=o,_.fullKey=h,_}static getEventFullKey(t){let i="",o=function Yt(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return ct[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ct.forEach(l=>{l!=o&&Xt[l](t)&&(i+=l+".")}),i+=o,i}static eventCallback(t,i,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p.K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Li=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:p.bD},{provide:u.g9A,useValue:function An(){ae.makeCurrent(),fe.init()},multi:!0},{provide:p.K0,useFactory:function Zn(){return(0,u.RDi)(document),document},deps:[]}]),or=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function mn(){return new u.qLn},deps:[]},{provide:ke,useClass:Ve,multi:!0,deps:[p.K0,u.R0b,u.Lbi]},{provide:ke,useClass:jt,multi:!0,deps:[p.K0]},{provide:ze,useClass:ze,deps:[Fe,ce,u.AFp]},{provide:u.FYo,useExisting:ze},{provide:me,useExisting:ce},{provide:ce,useClass:ce,deps:[p.K0]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Fe,useClass:Fe,deps:[ke,u.R0b]},{provide:p.JF,useClass:$e,deps:[]}];let Ci=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:re,useExisting:u.AFp},X]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:or,imports:[p.ez,u.hGG]}),n})();"undefined"!=typeof window&&window;var $n=F(441),Tt=F(1777),xe=F(5861),li=F(1135),Wn=F(9681),Dt=F(2090),Qn=F(4859);const Xi="firebasestorage.googleapis.com",qs="storageBucket";class En extends Dt.ZR{constructor(e,t){super(di(e),`Firebase Storage: ${t} (${di(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}_codeEquals(e){return di(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function di(n){return"storage/"+n}function Hr(){return new En("unknown","An unknown error occurred, please check the error payload for server response.")}function ui(){return new En("canceled","User canceled the upload/download.")}function Jn(){return new En("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ji(n){return new En("invalid-argument",n)}function Ns(){return new En("app-deleted","The Firebase app was deleted.")}function br(n){return new En("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xn(n,e){return new En("invalid-format","String does not match format '"+n+"': "+e)}function hi(n){throw new En("internal-error","Internal error: "+n)}class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Mn.makeFromUrl(e,t)}catch(o){return new Mn(e,"")}if(""===i.path)return i;throw function Rn(n){return new En("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+o+"(/(.*))?$","i");function S(At){At.path_=decodeURIComponent(At.path)}const te=t.replace(/[.]/g,"\\."),Ht=[{regex:_,indices:{bucket:1,path:3},postModify:function l(At){"/"===At.path.charAt(At.path.length-1)&&(At.path_=At.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${te}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${t===Xi?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let At=0;At<Ht.length;At++){const pn=Ht[At],gn=pn.regex.exec(e);if(gn){let Cs=gn[pn.indices.path];Cs||(Cs=""),i=new Mn(gn[pn.indices.bucket],Cs),pn.postModify(i);break}}if(null==i)throw function Rr(n){return new En("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class _i{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function as(n){return"string"==typeof n||n instanceof String}function Fo(n){return lr()&&n instanceof Blob}function lr(){return"undefined"!=typeof Blob}function Er(n,e,t,i){if(i<e)throw ji(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ji(`Invalid value for '${n}'. Expected ${t} or less.`)}function tr(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function so(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var ls=(()=>{return(n=ls||(ls={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",ls;var n})();class yi{constructor(e,t,i,o,l,h,_,E,S,$,te){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=E,this.timeout_=S,this.progressCallback_=$,this.connectionFactory_=te,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((we,Ue)=>{this.resolve_=we,this.reject_=Ue,this.start_()})}start_(){const t=(i,o)=>{const l=this.resolve_,h=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const E=this.callback_(_,_.getResponse());!function er(n){return void 0!==n}(E)?l():l(E)}catch(E){h(E)}else if(null!==_){const E=Hr();E.serverResponse=_.getErrorText(),h(this.errorCallback_?this.errorCallback_(_,E):E)}else h(o.canceled?this.appDelete_?Ns():ui():function $r(){return new En("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new ur(!1,null,!0)):this.backoffId_=function Un(n,e,t){let i=1,o=null,l=null,h=!1,_=0;function E(){return 2===_}let S=!1;function $(...ut){S||(S=!0,e.apply(null,ut))}function te(ut){o=setTimeout(()=>{o=null,n(Ue,E())},ut)}function we(){l&&clearTimeout(l)}function Ue(ut,...Kt){if(S)return void we();if(ut)return we(),void $.call(null,ut,...Kt);if(E()||h)return we(),void $.call(null,ut,...Kt);let Ht;i<64&&(i*=2),1===_?(_=2,Ht=0):Ht=1e3*(i+Math.random()),te(Ht)}let Pe=!1;function Xe(ut){Pe||(Pe=!0,we(),!S&&(null!==o?(ut||(_=2),clearTimeout(o),te(0)):ut||(_=1)))}return te(0),l=setTimeout(()=>{h=!0,Xe(!0)},t),Xe}((i,o)=>{if(o)return void i(!1,new ur(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const _=l.getErrorCode()===ls.NO_ERROR,E=l.getStatus();if(!_||this.isRetryStatusCode_(E)){const $=l.getErrorCode()===ls.ABORT;return void i(!1,new ur(!1,null,$))}const S=-1!==this.successCodes_.indexOf(E);i(!0,new ur(S,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function po(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||l}}class ur{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function us(...n){const e=function oo(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(lr())return new Blob(n);throw new En("unsupported-environment","This browser doesn't seem to support creating Blobs")}const cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _o{constructor(e,t){this.data=e,this.contentType=t||null}}function yo(n,e){switch(n){case cr.RAW:return new _o(cs(e));case cr.BASE64:case cr.BASE64URL:return new _o(ds(n,e));case cr.DATA_URL:return new _o(function wo(n){const e=new ks(n);return e.base64?ds(cr.BASE64,e.rest):function vo(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Xn(cr.DATA_URL,"Malformed data URL.")}return cs(e)}(e.rest)}(e),function Uo(n){return new ks(n).contentType}(e))}throw Hr()}function cs(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function ds(n,e){switch(n){case cr.BASE64:{const o=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(o||l)throw Xn(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case cr.BASE64URL:{const o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l)throw Xn(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function mo(n){return atob(n)}(e)}catch(o){throw Xn(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class ks{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Xn(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Ei(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ii{constructor(e,t){let i=0,o="";Fo(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Fo(this.data_)){const o=function Ma(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Ii(o)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ii(i,!0)}}static getBlob(...e){if(lr()){const t=e.map(i=>i instanceof Ii?i.data_:i);return new Ii(us.apply(null,t))}{const t=e.map(h=>as(h)?yo(cr.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const o=new Uint8Array(i);let l=0;return t.forEach(h=>{for(let _=0;_<h.length;_++)o[l++]=h[_]}),new Ii(o,!0)}}uploadData(){return this.data_}}function Cr(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function Nr(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Gr(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function ca(n,e){return e}class Nn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||ca}}let hs=null;function Fs(){if(hs)return hs;const n=[];n.push(new Nn("bucket")),n.push(new Nn("generation")),n.push(new Nn("metageneration")),n.push(new Nn("name","fullPath",!0));const t=new Nn("name");t.xform=function e(l,h){return function ir(n){return!as(n)||n.length<2?n:Gr(n)}(h)},n.push(t);const o=new Nn("size");return o.xform=function i(l,h){return void 0!==h?Number(h):h},n.push(o),n.push(new Nn("timeCreated")),n.push(new Nn("updated")),n.push(new Nn("md5Hash",null,!0)),n.push(new Nn("cacheControl",null,!0)),n.push(new Nn("contentDisposition",null,!0)),n.push(new Nn("contentEncoding",null,!0)),n.push(new Nn("contentLanguage",null,!0)),n.push(new Nn("contentType",null,!0)),n.push(new Nn("metadata","customMetadata",!0)),hs=n,hs}function wi(n,e,t){const i=Cr(e);return null===i?null:function Ds(n,e,t){const i={type:"file"},o=t.length;for(let l=0;l<o;l++){const h=t[l];i[h.local]=h.xform(i,e[h.server])}return function Hi(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new Mn(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(i,n),i}(n,i,t)}function zr(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const Zs="prefixes";class Fr{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Cn(n){if(!n)throw Hr()}function R(n,e){return function t(i,o){const l=wi(n,o,e);return Cn(null!==l),l}}function K(n){return function e(t,i){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Sn(){return new En("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Mt(){return new En("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function mt(n){return new En("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function bi(n){return new En("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,o.serverResponse=i.serverResponse,o}}function ge(n){const e=K(n);return function t(i,o){let l=e(i,o);return 404===i.getStatus()&&(l=function Bi(n){return new En("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function qe(n,e,t){const o=tr(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new Fr(o,"GET",R(n,t),h);return _.errorHandler=ge(e),_}function nt(n,e,t,i,o){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),o&&(l.maxResults=o);const _=tr(e.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,$=new Fr(_,"GET",function G(n,e){return function t(i,o){const l=function kr(n,e,t){const i=Cr(t);return null===i?null:function qr(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Zs])for(const o of t[Zs]){const l=o.replace(/\/$/,""),h=n._makeStorageReference(new Mn(e,l));i.prefixes.push(h)}if(t.items)for(const o of t.items){const l=n._makeStorageReference(new Mn(e,o.name));i.items.push(l)}return i}(n,e,i)}(n,e,o);return Cn(null!==l),l}}(n,e.bucket),S);return $.urlParams=l,$.errorHandler=K(e),$}function ei(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function _n(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class jn{constructor(e,t,i,o){this.current=e,this.total=t,this.finalized=!!i,this.metadata=o||null}}function $i(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Cn(!1)}return Cn(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Ws={STATE_CHANGED:"state_changed"},Di={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k(n){switch(n){case"running":case"pausing":case"canceling":return Di.RUNNING;case"paused":return Di.PAUSED;case"success":return Di.SUCCESS;case"canceled":return Di.CANCELED;default:return Di.ERROR}}class O{constructor(e,t,i){if(function Oi(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function A(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class st extends class de{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw hi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hi("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw hi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function an(){return new st}class As{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Fs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function dr(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),h=ei(e,i,o),_={name:h.fullPath},E=tr(l,n.host,n._protocol),$={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},te=zr(h,t),Pe=new Fr(E,"POST",function Ue(Xe){let ut;$i(Xe);try{ut=Xe.getResponseHeader("X-Goog-Upload-URL")}catch(Kt){Cn(!1)}return Cn(as(ut)),ut},n.maxUploadRetryTime);return Pe.urlParams=_,Pe.headers=$,Pe.body=te,Pe.errorHandler=K(e),Pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,an,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const o=function Gt(n,e,t,i){const E=new Fr(t,"POST",function l(S){const $=$i(S,["active","final"]);let te=null;try{te=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Ue){Cn(!1)}te||Cn(!1);const we=Number(te);return Cn(!isNaN(we)),new jn(we,i.size(),"final"===$)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=K(e),E}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,an,t,i);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new jn(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=function jo(n,e,t,i,o,l,h,_){const E=new jn(0,0);if(h?(E.current=h.current,E.total=h.total):(E.current=0,E.total=i.size()),i.size()!==E.total)throw function en(){return new En("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const S=E.total-E.current;let $=S;o>0&&($=Math.min($,o));const te=E.current,Pe={"X-Goog-Upload-Command":$===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},Xe=i.slice(te,te+$);if(null===Xe)throw Jn();const Ht=new Fr(t,"POST",function ut(At,pn){const gn=$i(At,["active","final"]),ni=E.current+$,Cs=i.size();let ol;return ol="final"===gn?R(e,l)(At,pn):null,new jn(ni,Cs,"final"===gn,ol)},e.maxUploadRetryTime);return Ht.headers=Pe,Ht.body=Xe.uploadData(),Ht.progressCallback=_||null,Ht.errorHandler=K(n),Ht}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const _=this._ref.storage._makeRequest(h,an,o,l);this._request=_,_.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=qe(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(i,an,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function kn(n,e,t,i,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},E=function _(){let Ht="";for(let At=0;At<2;At++)Ht+=Math.random().toString().slice(2);return Ht}();h["Content-Type"]="multipart/related; boundary="+E;const S=ei(e,i,o),$=zr(S,t),Ue=Ii.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$+"\r\n--"+E+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",i,"\r\n--"+E+"--");if(null===Ue)throw Jn();const Pe={name:S.fullPath},Xe=tr(l,n.host,n._protocol),Kt=n.maxUploadRetryTime,on=new Fr(Xe,"POST",R(n,t),Kt);return on.urlParams=Pe,on.headers=h,on.body=Ue.uploadData(),on.errorHandler=K(e),on}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,an,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ui(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=k(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,o){const l=new O(t||void 0,i||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(k(this._state)){case Di.SUCCESS:A(this._resolve.bind(null,this.snapshot))();break;case Di.CANCELED:case Di.ERROR:A(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(k(this._state)){case Di.RUNNING:case Di.PAUSED:e.next&&A(e.next.bind(e,this.snapshot))();break;case Di.SUCCESS:e.complete&&A(e.complete.bind(e))();break;default:e.error&&A(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ls{constructor(e,t){this._service=e,this._location=t instanceof Mn?t:Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ls(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gr(this._location.path)}get storage(){return this._service}get parent(){const e=function Is(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Mn(this._location.bucket,e);return new Ls(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw br(e)}}function Oa(n,e,t){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,xe.Z)(function*(n,e,t){const o=yield ps(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield Oa(n,e,o.nextPageToken))})).apply(this,arguments)}function ps(n,e){null!=e&&"number"==typeof e.maxResults&&Er("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=nt(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,an)}function cl(n){n._throwIfRoot("getDownloadURL");const e=function Jt(n,e,t){const o=tr(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new Fr(o,"GET",function P(n,e){return function t(i,o){const l=wi(n,o,e);return Cn(null!==l),function Bo(n,e,t,i){const o=Cr(e);if(null===o||!as(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(S=>{const te=n.fullPath;return tr("/b/"+h(n.bucket)+"/o/"+h(te),t,i)+so({alt:"media",token:S})})[0]}(l,o,n.host,n._protocol)}}(n,t),h);return _.errorHandler=ge(e),_}(n.storage,n._location,Fs());return n.storage.makeRequestWithTokens(e,an).then(t=>{if(null===t)throw function Ts(){return new En("no-download-url","The given file does not have any download URLs.")}();return t})}function da(n,e){const t=function bo(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Mn(n._location.bucket,t);return new Ls(n.storage,i)}function Pa(n,e){if(n instanceof hl){const t=n;if(null==t._bucket)throw function wr(){return new En("no-default-bucket","No default bucket found. Did you set the '"+qs+"' property when initializing the app?")}();const i=new Ls(t,t._bucket);return null!=e?Pa(i,e):i}return void 0!==e?da(n,e):n}function dl(n,e){if(e&&function ha(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof hl)return function Gl(n,e){return new Ls(n,e)}(n,e);throw ji("To use ref(service, url), the first argument must be a Storage instance.")}return Pa(n,e)}function fa(n,e){const t=null==e?void 0:e[qs];return null==t?null:Mn.makeFromBucketSpec(t,n)}class hl{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Xi,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Mn.makeFromBucketSpec(o,this._host):fa(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Mn.makeFromBucketSpec(this._url,e):fa(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Er("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Er("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,xe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,xe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ls(this,e)}_makeRequest(e,t,i,o){if(this._deleted)return new _i(Ns());{const l=function Vo(n,e,t,i,o,l){const h=so(n.urlParams),_=n.url+h,E=Object.assign({},n.headers);return function nr(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function Lo(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function ll(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(E,l),function go(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,i),new yi(_,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,i,o,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,xe.Z)(function*(){const[o,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,o,l).getPromise()})()}}const To="@firebase/storage",pl="storage";function Tc(n,e){return dl(n=(0,Dt.m9)(n),e)}function ql(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new hl(t,i,o,e,Wn.SDK_VERSION)}!function Du(){(0,Wn._registerComponent)(new Qn.wA(pl,ql,"PUBLIC").setMultipleInstances(!0)),(0,Wn.registerVersion)(To,"0.9.6",""),(0,Wn.registerVersion)(To,"0.9.6","esm2017")}();var Zr=F(4986),Gi=F(8306),zi=F(8996),Vs=F(9646),Gn=F(5813),ao=F(8675),Ra=F(4482),$o=F(5403);function _l(){return(0,Ra.e)((n,e)=>{let t,i=!1;n.subscribe((0,$o.x)(e,o=>{const l=t;t=o,i&&e.next([l,o]),i=!0}))})}var ci=F(4004),Io=F(5026),Go=F(4671);function Ms(n,e=Go.y){return n=null!=n?n:Na,(0,Ra.e)((t,i)=>{let o,l=!0;t.subscribe((0,$o.x)(i,h=>{const _=e(h);(l||!n(o,_))&&(l=!1,o=_,i.next(h))}))})}function Na(n,e){return n===e}var St,ka=F(9300),Si=F(2011),Ri=(F(8775),F(3942)),Ur=F(1877),qo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wr={},yl=yl||{},tn=qo||self;function Fa(){}function La(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gs(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Do="closure_uid_"+(1e9*Math.random()>>>0),I=0;function C(n,e,t){return n.call.apply(n.bind,arguments)}function w(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function M(n,e,t){return(M=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:w).apply(null,arguments)}function L(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function z(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,o,l){for(var h=Array(arguments.length-2),_=2;_<arguments.length;_++)h[_-2]=arguments[_];return e.prototype[o].apply(i,h)}}function se(){this.s=this.s,this.o=this.o}var Qe={};se.prototype.s=!1,se.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function _a(n){return Object.prototype.hasOwnProperty.call(n,Do)&&n[Do]||(n[Do]=++I)}(this);delete Qe[n]}},se.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Et=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},dn=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in o&&e.call(t,o[l],l,n)};function Fn(n){return Array.prototype.concat.apply([],arguments)}function Ln(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Ni(n){return/^[\s\xa0]*$/.test(n)}var ri,Us=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ai(n,e){return-1!=n.indexOf(e)}function Zo(n,e){return n<e?-1:n>e?1:0}e:{var Wo=tn.navigator;if(Wo){var Ko=Wo.userAgent;if(Ko){ri=Ko;break e}}ri=""}function vl(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Su(n){const e={};for(const t in n)e[t]=n[t];return e}var Va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ic(n,e){let t,i;for(let o=1;o<arguments.length;o++){for(t in i=arguments[o],i)n[t]=i[t];for(let l=0;l<Va.length;l++)t=Va[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Au(n){return Au[" "](n),n}Au[" "]=Fa;var ya,n,Bp=Ai(ri,"Opera"),xu=Ai(ri,"Trident")||Ai(ri,"MSIE"),Hh=Ai(ri,"Edge"),Dc=Hh||xu,Sc=Ai(ri,"Gecko")&&!(Ai(ri.toLowerCase(),"webkit")&&!Ai(ri,"Edge"))&&!(Ai(ri,"Trident")||Ai(ri,"MSIE"))&&!Ai(ri,"Edge"),jp=Ai(ri.toLowerCase(),"webkit")&&!Ai(ri,"Edge");function $h(){var n=tn.document;return n?n.documentMode:void 0}e:{var Mu="",Zi=(n=ri,Sc?/rv:([^\);]+)(\)|;)/.exec(n):Hh?/Edge\/([\d\.]+)/.exec(n):xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jp?/WebKit\/(\S+)/.exec(n):Bp?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zi&&(Mu=Zi?Zi[1]:""),xu){var Ua=$h();if(null!=Ua&&Ua>parseFloat(Mu)){ya=String(Ua);break e}}ya=Mu}var Ou={};var Bs=tn.document&&xu&&($h()||parseInt(ya,10))||void 0,Pu=function(){if(!tn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tn.addEventListener("test",Fa,e),tn.removeEventListener("test",Fa,e)}catch(t){}return n}();function Wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function js(n,e){if(Wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Sc){e:{try{Au(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:va[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&js.Z.h.call(this)}}Wi.prototype.h=function(){this.defaultPrevented=!0},z(js,Wi);var va={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hs="closure_listenable_"+(1e6*Math.random()|0),Zl=0;function Rd(n,e,t,i,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=o,this.key=++Zl,this.ca=this.fa=!1}function Wl(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ru(n){this.src=n,this.g={},this.h=0}function Yr(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],o=Et(i,e);(l=0<=o)&&Array.prototype.splice.call(i,o,1),l&&(Wl(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Kl(n,e,t,i){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==i)return o}return-1}Ru.prototype.add=function(n,e,t,i,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Kl(n,e,i,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new Rd(e,this.src,l,!!i,o)).fa=t,n.push(e)),e};var wa="closure_lm_"+(1e6*Math.random()|0),Nd={};function So(n,e,t,i,o){if(i&&i.once)return kd(n,e,t,i,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)So(n,e[l],t,i,o);return null}return t=Qo(t),n&&n[Hs]?n.N(e,t,gs(i)?!!i.capture:!!i,o):xc(n,e,t,!1,i,o)}function xc(n,e,t,i,o,l){if(!e)throw Error("Invalid event type");var h=gs(o)?!!o.capture:!!o,_=Ql(n);if(_||(n[wa]=_=new Ru(n)),(t=_.add(e,t,i,h,l)).proxy)return t;if(i=function Mc(){var e=Ba;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Pu||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),i,o);else if(n.attachEvent)n.attachEvent(Yo(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function kd(n,e,t,i,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)kd(n,e[l],t,i,o);return null}return t=Qo(t),n&&n[Hs]?n.O(e,t,gs(i)?!!i.capture:!!i,o):xc(n,e,t,!0,i,o)}function Ao(n,e,t,i,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ao(n,e[l],t,i,o);else i=gs(i)?!!i.capture:!!i,t=Qo(t),n&&n[Hs]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Kl(l=n.g[e],t,i,o))&&(Wl(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Ql(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Kl(e,t,i,o)),(t=-1<n?e[n]:null)&&Yl(t))}function Yl(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Hs])Yr(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Yo(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Ql(e))?(Yr(t,n),0==t.h&&(t.src=null,e[wa]=null)):Wl(n)}}}function Yo(n){return n in Nd?Nd[n]:Nd[n]="on"+n}function Ba(n,e){if(n.ca)n=!0;else{e=new js(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Yl(n),n=t.call(i,e)}return n}function Ql(n){return(n=n[wa])instanceof Ru?n:null}var Oc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qo(n){return"function"==typeof n?n:(n[Oc]||(n[Oc]=function(e){return n.handleEvent(e)}),n[Oc])}function ki(){se.call(this),this.i=new Ru(this),this.P=this,this.I=null}function Ki(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Wi(e,n);else if(e instanceof Wi)e.target=e.target||n;else{var o=e;Ic(e=new Wi(i,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=x(h,i,!0,e)&&o}if(o=x(h=e.g=n,i,!0,e)&&o,o=x(h,i,!1,e)&&o,t)for(l=0;l<t.length;l++)o=x(h=e.g=t[l],i,!1,e)&&o}function x(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var _=h.listener,E=h.ia||h.src;h.fa&&Yr(n.i,h),o=!1!==_.call(E,i)&&o}}return o&&!i.defaultPrevented}z(ki,se),ki.prototype[Hs]=!0,ki.prototype.removeEventListener=function(n,e,t,i){Ao(this,n,e,t,i)},ki.prototype.M=function(){if(ki.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Wl(t[i]);delete n.g[e],n.h--}}this.I=null},ki.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ki.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var N=tn.JSON.stringify;function W(){var n=hn;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Lt,Re=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ge,n=>n.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dt(n){tn.setTimeout(()=>{throw n},0)}function Pt(n,e){Lt||function rn(){var n=tn.Promise.resolve(void 0);Lt=function(){n.then(Ir)}}(),Vn||(Lt(),Vn=!0),hn.add(n,e)}var Vn=!1,hn=new class le{constructor(){this.h=this.g=null}add(e,t){const i=Re.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function Ir(){for(var n;n=W();){try{n.h.call(n.g)}catch(t){dt(t)}var e=Re;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vn=!1}function rr(n,e){ki.call(this),this.h=n||1,this.g=e||tn,this.j=M(this.kb,this),this.l=Date.now()}function ba(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ea(n,e,t){if("function"==typeof n)t&&(n=M(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=M(n.handleEvent,n)}return 2147483647<Number(e)?-1:tn.setTimeout(n,e||0)}function lo(n){n.g=Ea(()=>{n.g=null,n.i&&(n.i=!1,lo(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}z(rr,ki),(St=rr.prototype).da=!1,St.S=null,St.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ki(this,"tick"),this.da&&(ba(this),this.start()))}},St.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.M=function(){rr.Z.M.call(this),ba(this),delete this.g};class Qs extends se{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lo(this)}M(){super.M(),this.g&&(tn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(n){se.call(this),this.h=n,this.g={}}z($s,se);var ja=[];function Gh(n,e,t,i){Array.isArray(t)||(t&&(ja[0]=t.toString()),t=ja);for(var o=0;o<t.length;o++){var l=So(e,t[o],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Fd(n){vl(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yl(e)},n),n.g={}}function Jl(){this.g=!0}function wl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nu(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return N(t)}catch(_){return e}}(n,t)+(i?" "+i:"")})}$s.prototype.M=function(){$s.Z.M.call(this),Fd(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jl.prototype.Aa=function(){this.g=!1},Jl.prototype.info=function(){};var Jo={},Vd=null;function qh(){return Vd=Vd||new ki}function Zh(n){Wi.call(this,Jo.Ma,n)}function ku(n){const e=qh();Ki(e,new Zh(e,n))}function Qm(n,e){Wi.call(this,Jo.STAT_EVENT,n),this.stat=e}function Qr(n){const e=qh();Ki(e,new Qm(e,n))}function Hp(n,e){Wi.call(this,Jo.Na,n),this.size=e}function Pc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tn.setTimeout(function(){n()},e)}Jo.Ma="serverreachability",z(Zh,Wi),Jo.STAT_EVENT="statevent",z(Qm,Wi),Jo.Na="timingevent",z(Hp,Wi);var Xl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ud={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bl(){}function Gp(){}bl.prototype.h=null;var jd,Bd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function El(){Wi.call(this,"d")}function Rc(){Wi.call(this,"c")}function Nc(){}function Fu(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new $s(this),this.P=zp,this.W=new rr(n=Dc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wh}function Wh(){this.i=null,this.g="",this.h=!1}z(El,Wi),z(Rc,Wi),z(Nc,bl),Nc.prototype.g=function(){return new XMLHttpRequest},Nc.prototype.i=function(){return{}},jd=new Nc;var zp=45e3,Kh={},Hd={};function Yh(n,e,t){n.K=1,n.v=nf(Dr(e)),n.s=t,n.U=!0,qp(n,null)}function qp(n,e){n.F=Date.now(),$d(n),n.A=Dr(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),zd(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Wh,n.g=Ke(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Qs(M(n.Ia,n,n.g),n.O)),Gh(n.V,n.g,"readystatechange",n.gb),e=n.H?Su(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ku(1),function Ld(n,e,t,i,o,l){n.info(function(){if(n.g)if(l)for(var h="",_=l.split("&"),E=0;E<_.length;E++){var S=_[E].split("=");if(1<S.length){var $=S[0];S=S[1];var te=$.split("_");h=2<=te.length&&"type"==te[1]?h+($+"=")+S+"&":h+($+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Xo(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Lu(n,e,t){let o,i=!0;for(;!n.I&&n.C<t.length;){if(o=Qh(n,t),o==Hd){4==e&&(n.o=4,Qr(14),i=!1),wl(n.j,n.m,null,"[Incomplete Response]");break}if(o==Kh){n.o=4,Qr(15),wl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}wl(n.j,n.m,o,null),kc(n,o)}Xo(n)&&o!=Hd&&o!=Kh&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Qr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dl(e),e.L=!0,Qr(11))):(wl(n.j,n.m,t,"[Invalid Chunked Response]"),Uu(n),Vu(n))}function Qh(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Hd:(t=Number(e.substring(t,i)),isNaN(t)?Kh:(i+=1)+t>e.length?Hd:(e=e.substr(i,t),n.C=i+t,e))}function $d(n){n.Y=Date.now()+n.P,Zp(n,n.P)}function Zp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pc(M(n.eb,n),e)}function Jh(n){n.B&&(tn.clearTimeout(n.B),n.B=null)}function Vu(n){0==n.l.G||n.I||m(n.l,n)}function Uu(n){Jh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ba(n.W),Fd(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||af(t.i,n)))if(t.I=n.N,!n.J&&af(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(S){i=null}if(Array.isArray(i)&&3==i.length){var o=i;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Pc(M(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;f(t),Qd(t)}hf(t),Qr(18)}if(1>=Xp(t.i)&&t.ka){try{t.ka()}catch(S){}t.ka=void 0}}else V(t,11)}else if((n.J||t.g==n)&&f(t),!Ni(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const $=S[3];null!=$&&(t.ma=$,t.h.info("VER="+t.ma));const te=S[4];null!=te&&(t.za=te,t.h.info("SVER="+t.za));const we=S[5];null!=we&&"number"==typeof we&&0<we&&(t.K=i=1.5*we,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const Ue=n.g;if(Ue){const Pe=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pe){var l=i.i;!l.g&&(Ai(Pe,"spdy")||Ai(Pe,"quic")||Ai(Pe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(lf(l,l.h),l.h=null))}if(i.D){const Xe=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Xe&&(i.sa=Xe,xi(i.F,i.D,Xe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((i=t).oa=Te(i,i.H?i.la:null,i.W),h.J){ju(i.i,h);var _=h,E=i.K;E&&_.setTimeout(E),_.B&&(Jh(_),$d(_)),i.g=h}else ag(i);0<t.l.length&&Gc(t)}else"stop"!=S[0]&&"close"!=S[0]||V(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?V(t,7):$c(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}ku(4)}catch(S){}}function Xh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(La(n)||"string"==typeof n)dn(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(La(n)||"string"==typeof n){t=[];for(var i=n.length,o=0;o<i;o++)t.push(o)}else for(o in t=[],i=0,n)t[i++]=o;i=function Wp(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(La(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),o=i.length;for(var l=0;l<o;l++)e.call(void 0,i[l],t&&t[l],n)}}function Bu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Bu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function ef(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Fc(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Fc(o,i=n.g[e])||(n.g[t++]=i,o[i]=1),e++;n.g.length=t}}function Fc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(St=Fu.prototype).setTimeout=function(n){this.P=n},St.gb=function(n){n=n.target;const e=this.L;e&&3==$a(n)?e.l():this.Ia(n)},St.Ia=function(n){try{if(n==this.g)e:{const $=$a(this.g);var e=this.g.Da();const te=this.g.ba();if(!(3>$)&&(3!=$||Dc||this.g&&(this.h.h||this.g.ga()||ig(this.g)))){this.I||4!=$||7==e||ku(8==e||0>=te?3:2),Jh(this);var t=this.g.ba();this.N=t;t:if(Xo(this)){var i=ig(this.g);n="";var o=i.length,l=4==$a(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uu(this),Vu(this);var h="";break t}this.h.i=new tn.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==o-1});i.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function zh(n,e,t,i,o,l,h){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,$,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,E=this.g;if((_=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ni(_)){var S=_;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Qr(12),Uu(this),Vu(this);break e}wl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kc(this,t)}this.U?(Lu(this,$,h),Dc&&this.i&&3==$&&(Gh(this.V,this.W,"tick",this.fb),this.W.start())):(wl(this.j,this.m,h,null),kc(this,h)),4==$&&Uu(this),this.i&&!this.I&&(4==$?m(this.l,this):(this.i=!1,$d(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Qr(12)):(this.o=0,Qr(13)),Uu(this),Vu(this)}}}catch($){}},St.fb=function(){if(this.g){var n=$a(this.g),e=this.g.ga();this.C<e.length&&(Jh(this),Lu(this,n,e),this.i&&4!=n&&$d(this))}},St.cancel=function(){this.I=!0,Uu(this)},St.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ym(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ku(3),Qr(17)),Uu(this),this.o=2,Vu(this)):Zp(this,this.Y-n)},(St=Bu.prototype).R=function(){ef(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},St.T=function(){return ef(this),this.g.concat()},St.get=function(n,e){return Fc(this.h,n)?this.h[n]:e},St.set=function(n,e){Fc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},St.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var o=t[i],l=this.get(o);n.call(e,l,o,this)}};var Cl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Tl){this.g=void 0!==e?e:n.g,Il(this,n.j),this.s=n.s,eu(this,n.i),Lc(this,n.m),this.l=n.l,e=n.h;var t=new Uc;t.i=e.i,e.g&&(t.g=new Bu(e.g),t.h=e.h),tf(this,t),this.o=n.o}else n&&(t=String(n).match(Cl))?(this.g=!!e,Il(this,t[1]||"",!0),this.s=tu(t[2]||""),eu(this,t[3]||"",!0),Lc(this,t[4]),this.l=tu(t[5]||"",!0),tf(this,t[6]||"",!0),this.o=tu(t[7]||"")):(this.g=!!e,this.h=new Uc(null,this.g))}function Dr(n){return new Tl(n)}function Il(n,e,t){n.j=t?tu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function eu(n,e,t){n.i=t?tu(e,!0):e}function Lc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function tf(n,e,t){e instanceof Uc?(n.h=e,function Sr(n,e){e&&!n.j&&(ea(n),n.i=null,n.g.forEach(function(t,i){var o=i.toLowerCase();i!=o&&(iu(this,i),zd(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=nu(e,rf)),n.h=new Uc(e,n.g))}function xi(n,e,t){n.h.set(e,t)}function nf(n){return xi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function nu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Xv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Tl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(nu(e,Jm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(nu(e,Jm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(nu(t,"/"==t.charAt(0)?Yp:Kp,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",nu(t,Xm)),n.join("")};var Jm=/[#\/\?@]/g,Kp=/[#\?:]/g,Yp=/[#\?]/g,rf=/[#\?@]/g,Xm=/#/g;function Uc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ea(n){n.g||(n.g=new Bu,n.h=0,n.i&&function Gd(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),o=null;if(0<=i){var l=n[t].substring(0,i);o=n[t].substring(i+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function iu(n,e){ea(n),e=Ha(n,e),Fc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Fc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ef(n)))}function Qp(n,e){return ea(n),e=Ha(n,e),Fc(n.g.h,e)}function zd(n,e,t){iu(n,e),0<t.length&&(n.i=null,n.g.set(Ha(n,e),Ln(t)),n.h+=t.length)}function Ha(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jp(n){this.l=n||qd,n=tn.PerformanceNavigationTiming?0<(n=tn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tn.g&&tn.g.Ea&&tn.g.Ea()&&tn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=Uc.prototype).add=function(n,e){ea(this),this.i=null,n=Ha(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},St.forEach=function(n,e){ea(this),this.g.forEach(function(t,i){dn(t,function(o){n.call(e,o,i,this)},this)},this)},St.T=function(){ea(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var o=n[i],l=0;l<o.length;l++)t.push(e[i]);return t},St.R=function(n){ea(this);var e=[];if("string"==typeof n)Qp(this,n)&&(e=Fn(e,this.g.get(Ha(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Fn(e,n[t])}return e},St.set=function(n,e){return ea(this),this.i=null,Qp(this,n=Ha(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},St.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],o=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var h=o;""!==i[l]&&(h+="="+encodeURIComponent(String(i[l]))),n.push(h)}}return this.i=n.join("&")};var qd=10;function sf(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Xp(n){return n.h?1:n.g?n.g.size:0}function af(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lf(n,e){n.g?n.g.add(e):n.h=e}function ju(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function eg(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ln(n.i)}function uf(){}function e0(){this.g=new uf}function Bc(n,e,t){const i=t||"";try{Xh(n,function(o,l){let h=o;gs(o)&&(h=N(o)),e.push(i+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function Hu(n,e,t,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch(l){}}function ru(n){this.l=n.$b||null,this.j=n.ib||!1}function su(n,e){ki.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ar,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jp.prototype.cancel=function(){if(this.i=eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},uf.prototype.stringify=function(n){return tn.JSON.stringify(n,void 0)},uf.prototype.parse=function(n){return tn.JSON.parse(n,void 0)},z(ru,bl),ru.prototype.g=function(){return new su(this.l,this.j)},ru.prototype.i=function(n){return function(){return n}}({}),z(su,ki);var Ar=0;function ou(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function au(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lu(n)}function lu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(St=su.prototype).open=function(n,e){if(this.readyState!=Ar)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lu(this)},St.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||tn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,au(this)),this.readyState=Ar},St.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lu(this)),this.g&&(this.readyState=3,lu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==tn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ou(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},St.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?au(this):lu(this),3==this.readyState&&ou(this)}},St.Ua=function(n){this.g&&(this.response=this.responseText=n,au(this))},St.Ta=function(n){this.g&&(this.response=n,au(this))},St.ha=function(){this.g&&au(this)},St.setRequestHeader=function(n,e){this.v.append(n,e)},St.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(su.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var t_=tn.JSON.parse;function Kn(n){ki.call(this),this.headers=new Bu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$u,this.K=this.L=!1}z(Kn,ki);var $u="",cf=/^https?$/i,n_=["POST","PUT"];function df(n){return"content-type"==n.toLowerCase()}function tg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jc(n),ta(n)}function jc(n){n.D||(n.D=!0,Ki(n,"complete"),Ki(n,"error"))}function ng(n){if(n.h&&void 0!==yl&&(!n.C[1]||4!=$a(n)||2!=n.ba()))if(n.v&&4==$a(n))Ea(n.Fa,0,n);else if(Ki(n,"readystatechange"),4==$a(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===_){var o=String(n.H).match(Cl)[1]||null;if(!o&&tn.self&&tn.self.location){var l=tn.self.location.protocol;o=l.substr(0,l.length-1)}i=!cf.test(o?o.toLowerCase():"")}t=i}if(t)Ki(n,"complete"),Ki(n,"success");else{n.m=6;try{var h=2<$a(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",jc(n)}}finally{ta(n)}}}function ta(n,e){if(n.g){Hc(n);const t=n.g,i=n.C[0]?Fa:null;n.g=null,n.C=null,e||Ki(n,"ready");try{t.onreadystatechange=i}catch(o){}}}function Hc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(tn.clearTimeout(n.A),n.A=null)}function $a(n){return n.g?n.g.readyState:0}function ig(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $u:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Kd(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function Wd(n){let e="";return vl(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xi(n,e,t))}function Jr(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Yd(n){this.za=0,this.l=[],this.h=new Jl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Jr("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Jr("baseRetryDelayMs",5e3,n),this.$a=Jr("retryDelaySeedMs",1e4,n),this.Ya=Jr("forwardChannelMaxRetries",2,n),this.ra=Jr("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Jp(n&&n.concurrentRequestLimit),this.Ca=new e0,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function $c(n){if(na(n),3==n.G){var e=n.V++,t=Dr(n.F);xi(t,"SID",n.J),xi(t,"RID",e),xi(t,"TYPE","terminate"),cu(n,t),(e=new Fu(n,n.h,e,void 0)).K=2,e.v=nf(Dr(t)),t=!1,tn.navigator&&tn.navigator.sendBeacon&&(t=tn.navigator.sendBeacon(e.v.toString(),"")),!t&&tn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ke(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$d(e)}Y(n)}function Qd(n){n.g&&(Dl(n),n.g.cancel(),n.g=null)}function na(n){Qd(n),n.u&&(tn.clearTimeout(n.u),n.u=null),f(n),n.i.cancel(),n.m&&("number"==typeof n.m&&tn.clearTimeout(n.m),n.m=null)}function uu(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Gc(n)}function Gc(n){sf(n.i)||n.m||(n.m=!0,Pt(n.Ha,n),n.C=0)}function sg(n,e){var t;t=e?e.m:n.V++;const i=Dr(n.F);xi(i,"SID",n.J),xi(i,"RID",t),xi(i,"AID",n.U),cu(n,i),n.o&&n.s&&Kd(i,n.o,n.s),t=new Fu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=og(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),lf(n.i,t),Yh(t,i,e)}function cu(n,e){n.j&&Xh({},function(t,i){xi(e,i,t)})}function og(n,e,t){t=Math.min(n.l.length,t);var i=n.j?M(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let _=!0;for(let E=0;E<t;E++){let S=o[E].h;const $=o[E].g;if(S-=l,0>S)l=Math.max(0,o[E].h-100),_=!1;else try{Bc($,h,"req"+S+"_")}catch(te){i&&i($)}}if(_){i=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function ag(n){n.g||n.u||(n.Y=1,Pt(n.Ga,n),n.A=0)}function hf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Pc(M(n.Ga,n),b(n,n.A)),n.A++,0))}function Dl(n){null!=n.B&&(tn.clearTimeout(n.B),n.B=null)}function y(n){n.g=new Fu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Dr(n.oa);xi(e,"RID","rpc"),xi(e,"SID",n.J),xi(e,"CI",n.N?"0":"1"),xi(e,"AID",n.U),cu(n,e),xi(e,"TYPE","xmlhttp"),n.o&&n.s&&Kd(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=nf(Dr(e)),t.s=null,t.U=!0,qp(t,n)}function f(n){null!=n.v&&(tn.clearTimeout(n.v),n.v=null)}function m(n,e){var t=null;if(n.g==e){f(n),Dl(n),n.g=null;var i=2}else{if(!af(n.i,e))return;t=e.D,ju(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Ki(i=qh(),new Hp(i,t,e,o)),Gc(n)}else ag(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==i&&function rg(n,e){return!(Xp(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Pc(M(n.Ha,n,e),b(n,n.C)),n.C++,0)))}(n,e)||2==i&&hf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:V(n,5);break;case 4:V(n,10);break;case 3:V(n,6);break;default:V(n,2)}}function b(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function V(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=M(n.jb,n);t||(t=new Tl("//www.google.com/images/cleardot.gif"),tn.location&&"http"==tn.location.protocol||Il(t,"https"),nf(t)),function Gs(n,e){const t=new Jl;if(tn.Image){const i=new Image;i.onload=L(Hu,t,i,"TestLoadImage: loaded",!0,e),i.onerror=L(Hu,t,i,"TestLoadImage: error",!1,e),i.onabort=L(Hu,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=L(Hu,t,i,"TestLoadImage: timeout",!1,e),tn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Qr(2);n.G=0,n.j&&n.j.va(e),Y(n),na(n)}function Y(n){n.G=0,n.I=-1,n.j&&((0!=eg(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ln(n.l),n.l.length=0),n.j.ua())}function Te(n,e,t){let i=function Jv(n){return n instanceof Tl?Dr(n):new Tl(n,void 0)}(t);if(""!=i.i)e&&eu(i,e+"."+i.i),Lc(i,i.m);else{const o=tn.location;i=function Vc(n,e,t,i){var o=new Tl(null,void 0);return n&&Il(o,n),e&&eu(o,e),t&&Lc(o,t),i&&(o.l=i),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&vl(n.aa,function(o,l){xi(i,l,o)}),t=n.sa,(e=n.D)&&t&&xi(i,e,t),xi(i,"VER",n.ma),cu(n,i),i}function Ke(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kn(t&&n.Ba&&!n.qa?new ru({ib:!0}):n.qa)).L=n.H,e}function gt(){}function It(){if(xu&&!(10<=Number(Bs)))throw Error("Environmental error: no available transport.")}function Rt(n,e){ki.call(this),this.g=new Yd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ni(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ni(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xr(this)}function Wt(n){El.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function pr(){Rc.call(this),this.status=1}function Xr(n){this.g=n}(St=Kn.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jd.g(),this.C=function $p(n){return n.h||(n.h=n.i())}(this.u?this.u:jd),this.g.onreadystatechange=M(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void tg(this,l)}n=t||"";const o=new Bu(this.headers);i&&Xh(i,function(l,h){o.set(h,l)}),i=function Ot(n){e:{var e=df;const t=n.length,i="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in i&&e.call(void 0,i[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=tn.FormData&&n instanceof tn.FormData,!(0<=Et(n_,e))||i||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hc(this),0<this.B&&((this.K=function Zd(n){return xu&&function Pd(){return function qi(n){var e=Ou;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Us(String(ya)).split("."),t=Us("9").split("."),i=Math.max(e.length,t.length);for(let h=0;0==n&&h<i;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Zo(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Zo(0==o[2].length,0==l[2].length)||Zo(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=M(this.pa,this)):this.A=Ea(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){tg(this,l)}},St.pa=function(){void 0!==yl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ki(this,"timeout"),this.abort(8))},St.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ki(this,"complete"),Ki(this,"abort"),ta(this))},St.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ta(this,!0)),Kn.Z.M.call(this)},St.Fa=function(){this.s||(this.F||this.v||this.l?ng(this):this.cb())},St.cb=function(){ng(this)},St.ba=function(){try{return 2<$a(this)?this.g.status:-1}catch(n){return-1}},St.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},St.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),t_(e)}},St.Da=function(){return this.m},St.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=Yd.prototype).ma=8,St.G=1,St.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},St.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Fu(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Su(l),Ic(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=og(this,o,e),xi(t=Dr(this.F),"RID",n),xi(t,"CVER",22),this.D&&xi(t,"X-HTTP-Session-Id",this.D),cu(this,t),this.o&&l&&Kd(t,this.o,l),lf(this.i,o),this.Ra&&xi(t,"TYPE","init"),this.ja?(xi(t,"$req",e),xi(t,"SID","null"),o.$=!0,Yh(o,t,null)):Yh(o,t,e),this.G=2}}else 3==this.G&&(n?sg(this,n):0==this.l.length||sf(this.i)||sg(this))},St.Ga=function(){if(this.u=null,y(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Pc(M(this.bb,this),n)}},St.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qr(10),Qd(this),y(this))},St.ab=function(){null!=this.v&&(this.v=null,Qd(this),hf(this),Qr(19))},St.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Qr(2)):(this.h.info("Failed to ping google.com"),Qr(1))},(St=gt.prototype).xa=function(){},St.wa=function(){},St.va=function(){},St.ua=function(){},St.Oa=function(){},It.prototype.g=function(n,e){return new Rt(n,e)},z(Rt,ki),Rt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Pt(M(n.hb,n,e))),Qr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Te(n,null,n.W),Gc(n)},Rt.prototype.close=function(){$c(this.g)},Rt.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,uu(this.g,e)}else this.v?((e={}).__data__=N(n),uu(this.g,e)):uu(this.g,n)},Rt.prototype.M=function(){this.g.j=null,delete this.j,$c(this.g),delete this.g,Rt.Z.M.call(this)},z(Wt,El),z(pr,Rc),z(Xr,gt),Xr.prototype.xa=function(){Ki(this.g,"a")},Xr.prototype.wa=function(n){Ki(this.g,new Wt(n))},Xr.prototype.va=function(n){Ki(this.g,new pr(n))},Xr.prototype.ua=function(){Ki(this.g,"b")},It.prototype.createWebChannel=It.prototype.g,Rt.prototype.send=Rt.prototype.u,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,Xl.NO_ERROR=0,Xl.TIMEOUT=8,Xl.HTTP_ERROR=6,Ud.COMPLETE="complete",Gp.EventType=Bd,Bd.OPEN="a",Bd.CLOSE="b",Bd.ERROR="c",Bd.MESSAGE="d",ki.prototype.listen=ki.prototype.N,Kn.prototype.listenOnce=Kn.prototype.O,Kn.prototype.getLastError=Kn.prototype.La,Kn.prototype.getLastErrorCode=Kn.prototype.Da,Kn.prototype.getStatus=Kn.prototype.ba,Kn.prototype.getResponseJson=Kn.prototype.Qa,Kn.prototype.getResponseText=Kn.prototype.ga,Kn.prototype.send=Kn.prototype.ea;var Gu=Wr.createWebChannelTransport=function(){return new It},ff=Wr.getStatEventTarget=function(){return qh()},Jd=Wr.ErrorCode=Xl,du=Wr.EventType=Ud,Xd=Wr.Event=Jo,zc=Wr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lg=Wr.FetchXmlHttpFactory=ru,hu=Wr.WebChannel=Gp,pf=Wr.XhrIo=Kn;const gf="@firebase/firestore";class ms{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");let Sl="9.8.0";const Al=new Ur.Yd("@firebase/firestore");function i_(){return Al.logLevel}function ht(n,...e){if(Al.logLevel<=Ur.in.DEBUG){const t=e.map(r_);Al.debug(`Firestore (${Sl}): ${n}`,...t)}}function Br(n,...e){if(Al.logLevel<=Ur.in.ERROR){const t=e.map(r_);Al.error(`Firestore (${Sl}): ${n}`,...t)}}function qc(n,...e){if(Al.logLevel<=Ur.in.WARN){const t=e.map(r_);Al.warn(`Firestore (${Sl}): ${n}`,...t)}}function r_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Bt(n="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function fn(n,e){n||Bt()}function yt(n,e){return n}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Dt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ms.UNAUTHENTICATED))}shutdown(){}}class r0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s0{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let o=this.i;const l=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let h=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Os,e.enqueueRetryable(()=>l(this.currentUser))};const _=()=>{const S=h;e.enqueueRetryable((0,xe.Z)(function*(){yield S.promise,yield l(i.currentUser)}))},E=S=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(S=>E(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?E(S):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Os)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn("string"==typeof i.accessToken),new mf(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new ms(e)}}class o0{constructor(e,t,i){this.type="FirstParty",this.user=ms.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class s_{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new o0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ug{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=l=>{null!=l.error&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.p;return this.p=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?o(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn("string"==typeof t.token),this.p=t.token,new o_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class xo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function l_(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}xo.A=-1;class u_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=l_(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function In(n,e){return n<e?-1:n>e?1:0}function xl(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}function a0(n){return n+"\0"}class xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ot(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ot(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ot(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?In(this.nanoseconds,e.nanoseconds):In(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cn(e)}static min(){return new cn(new xr(0,0))}static max(){return new cn(new xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function l0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class eh{constructor(e,t,i){void 0===t?t=0:t>e.length&&Bt(),void 0===i?i=e.length-t:i>e.length-t&&Bt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class si extends eh{construct(e,t,i){return new si(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ot(We.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new si(t)}static emptyPath(){return new si([])}}const u0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _s extends eh{construct(e,t,i){return new _s(e,t,i)}static isValidIdentifier(e){return u0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_s.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _s(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(0===i.length)throw new ot(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const _=e[o];if("\\"===_){if(o+1===e.length)throw new ot(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new ot(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=E,o+=2}else"`"===_?(h=!h,o++):"."!==_||h?(i+=_,o++):(l(),o++)}if(l(),h)throw new ot(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _s(t)}static emptyPath(){return new _s([])}}class Zc{constructor(e){this.fields=e,e.sort(_s.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class ys{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ys(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new ys(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return In(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ys.EMPTY_BYTE_STRING=new ys("");const Ga=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qu(n){if(fn(!!n),"string"==typeof n){let e=0;const t=Ga.exec(n);if(fn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wc(n){return"string"==typeof n?ys.fromBase64String(n):ys.fromUint8Array(n)}function c_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function c0(n){const e=n.mapValue.fields.__previous_value__;return c_(e)?c0(e):e}function _f(n){const e=qu(n.mapValue.fields.__local_write_time__.timestampValue);return new xr(e.seconds,e.nanos)}class d0{constructor(e,t,i,o,l,h,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=E}}class fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}function yf(n){return null==n}function vf(n){return 0===n&&1/n==-1/0}function Tn(n){return"number"==typeof n&&Number.isInteger(n)&&!vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(si.fromString(e))}static fromName(e){return new wt(si.fromString(e).popFirst(5))}static empty(){return new wt(si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===si.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return si.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new si(e.slice()))}}const pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wf={nullValue:"NULL_VALUE"};function Ml(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c_(n)?4:fg(n)?9007199254740991:10:Bt()}function es(n,e){if(n===e)return!0;const t=Ml(n);if(t!==Ml(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _f(n).isEqual(_f(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=qu(i.timestampValue),h=qu(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Wc(n.bytesValue).isEqual(Wc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return gr(i.geoPointValue.latitude)===gr(o.geoPointValue.latitude)&&gr(i.geoPointValue.longitude)===gr(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return gr(i.integerValue)===gr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=gr(i.doubleValue),h=gr(o.doubleValue);return l===h?vf(l)===vf(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return xl(n.arrayValue.values||[],e.arrayValue.values||[],es);case 10:return function(i,o){const l=i.mapValue.fields||{},h=o.mapValue.fields||{};if(l0(l)!==l0(h))return!1;for(const _ in l)if(l.hasOwnProperty(_)&&(void 0===h[_]||!es(l[_],h[_])))return!1;return!0}(n,e);default:return Bt()}var o}function th(n,e){return void 0!==(n.values||[]).find(t=>es(t,e))}function Zu(n,e){if(n===e)return 0;const t=Ml(n),i=Ml(e);if(t!==i)return In(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return In(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=gr(o.integerValue||o.doubleValue),_=gr(l.integerValue||l.doubleValue);return h<_?-1:h>_?1:h===_?0:isNaN(h)?isNaN(_)?0:-1:1}(n,e);case 3:return dg(n.timestampValue,e.timestampValue);case 4:return dg(_f(n),_f(e));case 5:return In(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Wc(o),_=Wc(l);return h.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),_=l.split("/");for(let E=0;E<h.length&&E<_.length;E++){const S=In(h[E],_[E]);if(0!==S)return S}return In(h.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=In(gr(o.latitude),gr(l.latitude));return 0!==h?h:In(gr(o.longitude),gr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],_=l.values||[];for(let E=0;E<h.length&&E<_.length;++E){const S=Zu(h[E],_[E]);if(S)return S}return In(h.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===pu.mapValue&&l===pu.mapValue)return 0;if(o===pu.mapValue)return 1;if(l===pu.mapValue)return-1;const h=o.fields||{},_=Object.keys(h),E=l.fields||{},S=Object.keys(E);_.sort(),S.sort();for(let $=0;$<_.length&&$<S.length;++$){const te=In(_[$],S[$]);if(0!==te)return te;const we=Zu(h[_[$]],E[S[$]]);if(0!==we)return we}return In(_.length,S.length)}(n.mapValue,e.mapValue);default:throw Bt()}}function dg(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return In(n,e);const t=qu(n),i=qu(e),o=In(t.seconds,i.seconds);return 0!==o?o:In(t.nanos,i.nanos)}function Mo(n){return bf(n)}function bf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const o=qu(i);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wc(n.bytesValue).toBase64():"referenceValue"in n?wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let o="[",l=!0;for(const h of i.values||[])l?l=!1:o+=",",o+=bf(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(i){const o=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const _ of o)h?h=!1:l+=",",l+=`${_}:${bf(i.fields[_])}`;return l+"}"}(n.mapValue):Bt();var e}function Wu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ef(n){return!!n&&"integerValue"in n}function hg(n){return!!n&&"arrayValue"in n}function d_(n){return!!n&&"nullValue"in n}function BE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kc(n){return!!n&&"mapValue"in n}function Ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ku(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function h_(n){return"nullValue"in n?wf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Wu(fu.empty(),wt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Bt()}function f_(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Wu(fu.empty(),wt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pu:Bt()}function jE(n,e){const t=Zu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function h0(n,e){const t=Zu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Js{constructor(e){this.value=e}static empty(){return new Js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Kc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ku(t)}setAll(e){let t=_s.emptyPath(),i={},o=[];e.forEach((h,_)=>{if(!t.isImmediateParentOf(_)){const E=this.getFieldsMap(t);this.applyChanges(E,i,o),i={},o=[],t=_.popLast()}h?i[_.lastSegment()]=Ku(h):o.push(_.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());Kc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zu(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Js(Ku(this.value))}}function f0(n){const e=[];return zu(n.fields,(t,i)=>{const o=new _s([t]);if(Kc(i)){const l=f0(i.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Zc(e)}class Yi{constructor(e,t,i,o,l,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Yi(e,0,cn.min(),cn.min(),Js.empty(),0)}static newFoundDocument(e,t,i){return new Yi(e,1,t,cn.min(),i,0)}static newNoDocument(e,t){return new Yi(e,2,t,cn.min(),Js.empty(),0)}static newUnknownDocument(e,t){return new Yi(e,3,t,cn.min(),Js.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cf{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}}function p0(n){return n.fields.find(e=>2===e.kind)}function Yc(n){return n.fields.filter(e=>2!==e.kind)}Cf.UNKNOWN_ID=-1;class p_{constructor(e,t){this.fieldPath=e,this.kind=t}}class nh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nh(0,ia.min())}}function g_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=cn.fromTimestamp(1e9===i?new xr(t+1,0):new xr(t,i));return new ia(o,wt.empty(),e)}function HE(n){return new ia(n.readTime,n.key,-1)}class ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ia(cn.min(),wt.empty(),-1)}static max(){return new ia(cn.max(),wt.empty(),-1)}}function $E(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=wt.comparator(n.documentKey,e.documentKey),0!==t?t:In(n.largestBatchId,e.largestBatchId))}class ts{constructor(e,t){this.comparator=e,this.root=t||Xs.EMPTY}insert(e,t){return new ts(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(e){return new ts(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(0===o)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new m_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new m_(this.root,e,this.comparator,!1)}getReverseIterator(){return new m_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new m_(this.root,e,this.comparator,!0)}}class m_{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xs{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=null!=i?i:Xs.RED,this.left=null!=o?o:Xs.EMPTY,this.right=null!=l?l:Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Xs(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xs.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(n,e,t,i,o){return this}insert(n,e,t){return new Xs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qi{constructor(e){this.comparator=e,this.data=new ts(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qi(this.comparator);return t.data=e,t}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tf(n){return n.hasNext()?n.getNext():void 0}class OI{constructor(e,t=null,i=[],o=[],l=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=_,this.P=null}}function zE(n,e=null,t=[],i=[],o=null,l=null,h=null){return new OI(n,e,t,i,o,l,h)}function ih(n){const e=yt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(o=i).field.canonicalString()+o.op.toString()+Mo(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mo(i)).join(",")),e.P=t}return e.P}function Qc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!rh(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(i=e.filters[o]).op||!t.field.isEqual(i.field)||!es(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jc(n.startAt,e.startAt)&&Jc(n.endAt,e.endAt)}function pg(n){return wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function If(n,e){return n.filters.filter(t=>t instanceof vs&&t.field.isEqual(e))}function gg(n,e,t){let i=wf,o=!0;for(const l of If(n,e)){let h=wf,_=!0;switch(l.op){case"<":case"<=":h=h_(l.value);break;case"==":case"in":case">=":h=l.value;break;case">":h=l.value,_=!1;break;case"!=":case"not-in":h=wf}jE({value:i,inclusive:o},{value:h,inclusive:_})<0&&(i=h,o=_)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const h=t.position[l];jE({value:i,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(i=h,o=t.inclusive);break}return{value:i,inclusive:o}}function __(n,e,t){let i=pu,o=!0;for(const l of If(n,e)){let h=pu,_=!0;switch(l.op){case">=":case">":h=f_(l.value),_=!1;break;case"==":case"in":case"<=":h=l.value;break;case"<":h=l.value,_=!1;break;case"!=":case"not-in":h=pu}h0({value:i,inclusive:o},{value:h,inclusive:_})>0&&(i=h,o=_)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const h=t.position[l];h0({value:i,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(i=h,o=t.inclusive);break}return{value:i,inclusive:o}}class vs extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new qE(e,t,i):"array-contains"===t?new y_(e,i):"in"===t?new ZE(e,i):"not-in"===t?new _0(e,i):"array-contains-any"===t?new WE(e,i):new vs(e,t,i)}static V(e,t,i){return"in"===t?new Qu(e,i):new g0(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Zu(t,this.value)):null!==t&&Ml(this.value)===Ml(t)&&this.v(Zu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qE extends vs{constructor(e,t,i){super(e,t,i),this.key=wt.fromName(i.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.v(t)}}class Qu extends vs{constructor(e,t){super(e,"in",t),this.keys=m0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class g0 extends vs{constructor(e,t){super(e,"not-in",t),this.keys=m0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>wt.fromName(i.referenceValue))}class y_ extends vs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&th(t.arrayValue,this.value)}}class ZE extends vs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&th(this.value.arrayValue,t)}}class _0 extends vs{constructor(e,t){super(e,"not-in",t)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!th(this.value.arrayValue,t)}}class WE extends vs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>th(this.value.arrayValue,i))}}class Ju{constructor(e,t){this.position=e,this.inclusive=t}}class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function rh(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function mg(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(i=l.field.isKeyField()?wt.comparator(wt.fromName(h.referenceValue),t.key):Zu(h,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function Jc(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!es(n.position[t],e.position[t]))return!1;return!0}class ra{constructor(e,t=null,i=[],o=[],l=null,h="F",_=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=_,this.endAt=E,this.D=null,this.C=null}}function Xc(n,e,t,i,o,l,h,_){return new ra(n,e,t,i,o,l,h,_)}function sh(n){return new ra(n)}function _g(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Df(n){for(const e of n.filters)if(e.S())return e.field;return null}function Sf(n){return null!==n.collectionGroup}function ed(n){const e=yt(n);if(null===e.D){e.D=[];const t=Df(e),i=_g(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Ol(t)),e.D.push(new Ol(_s.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ol(_s.keyField(),l))}}}return e.D}function uo(n){const e=yt(n);if(!e.C)if("F"===e.limitType)e.C=zE(e.path,e.collectionGroup,ed(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ed(e))t.push(new Ol(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new Ju(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Ju(e.startAt.position,e.startAt.inclusive):null;e.C=zE(e.path,e.collectionGroup,t,e.filters,e.limit,i,o)}return e.C}function v0(n,e,t){return new ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return Qc(uo(n),uo(e))&&n.limitType===e.limitType}function KE(n){return`${ih(uo(n))}|lt:${n.limitType}`}function yg(n){return`Query(target=${function Yu(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Mo(i.value)}`;var i}).join(", ")}]`),yf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Mo(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Mo(t)).join(",")),`Target(${e})`}(uo(n))}; limitType=${n.limitType})`}function vg(n,e){return e.isFoundDocument()&&function(t,i){const o=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):wt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,i){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(t,i){for(const o of t.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(o,l,h){const _=mg(o,l,h);return o.inclusive?_<=0:_<0}(t.startAt,ed(t),i)||t.endAt&&!function(o,l,h){const _=mg(o,l,h);return o.inclusive?_>=0:_>0}(t.endAt,ed(t),i)));var t,i}function w0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function v_(n){return(e,t)=>{let i=!1;for(const o of ed(n)){const l=YE(o,e,t);if(0!==l)return l;i=i||o.field.isKeyField()}return 0}}function YE(n,e,t){const i=n.field.isKeyField()?wt.comparator(e.key,t.key):function(o,l,h){const _=l.data.field(o),E=h.data.field(o);return null!==_&&null!==E?Zu(_,E):Bt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Bt()}}function b0(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function Oo(n){return{integerValue:""+n}}function E0(n,e){return Tn(e)?Oo(e):b0(n,e)}class wg{constructor(){this._=void 0}}function PI(n,e,t){return n instanceof Af?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof td?bg(n,e):n instanceof Xu?C0(n,e):function(i,o){const l=w_(i,o),h=T0(l)+T0(i.k);return Ef(l)&&Ef(i.k)?Oo(h):b0(i.M,h)}(n,e)}function RI(n,e,t){return n instanceof td?bg(n,e):n instanceof Xu?C0(n,e):t}function w_(n,e){return n instanceof ah?Ef(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Af extends wg{}class td extends wg{constructor(e){super(),this.elements=e}}function bg(n,e){const t=b_(e);for(const i of n.elements)t.some(o=>es(o,i))||t.push(i);return{arrayValue:{values:t}}}class Xu extends wg{constructor(e){super(),this.elements=e}}function C0(n,e){let t=b_(e);for(const i of n.elements)t=t.filter(o=>!es(o,i));return{arrayValue:{values:t}}}class ah extends wg{constructor(e,t){super(),this.M=e,this.k=t}}function T0(n){return gr(n.integerValue||n.doubleValue)}function b_(n){return hg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xf{constructor(e,t){this.field=e,this.transform=t}}class QE{constructor(e,t){this.version=e,this.transformResults=t}}class ns{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Of{}function JE(n,e,t){n instanceof Eg?function(i,o,l){const h=i.value.clone(),_=x0(i.fieldTransforms,o,l.transformResults);h.setAll(_),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ec?function(i,o,l){if(!Mf(i.precondition,o))return void o.convertToUnknownDocument(l.version);const h=x0(i.fieldTransforms,o,l.transformResults),_=o.data;_.setAll(A0(i)),_.setAll(h),o.convertToFoundDocument(l.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ca(n,e,t){var o;n instanceof Eg?function(i,o,l){if(!Mf(i.precondition,o))return;const h=i.value.clone(),_=M0(i.fieldTransforms,l,o);h.setAll(_),o.convertToFoundDocument(S0(o),h).setHasLocalMutations()}(n,e,t):n instanceof ec?function(i,o,l){if(!Mf(i.precondition,o))return;const h=M0(i.fieldTransforms,l,o),_=o.data;_.setAll(A0(i)),_.setAll(h),o.convertToFoundDocument(S0(o),_).setHasLocalMutations()}(n,e,t):Mf(n.precondition,o=e)&&o.convertToNoDocument(cn.min())}function E_(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=w_(i.transform,o||null);null!=l&&(null==t&&(t=Js.empty()),t.set(i.field,l))}return t||null}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&xl(t,i,(o,l)=>function I0(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof td&&i instanceof td||t instanceof Xu&&i instanceof Xu?xl(t.elements,i.elements,es):t instanceof ah&&i instanceof ah?es(t.k,i.k):t instanceof Af&&i instanceof Af);var t,i}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function S0(n){return n.isFoundDocument()?n.version:cn.min()}class Eg extends Of{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}}class ec extends Of{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}}function A0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function x0(n,e,t){const i=new Map;fn(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,_=e.data.field(l.field);i.set(l.field,RI(h,_,t[o]))}return i}function M0(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,PI(l,h,e))}return i}class nd extends Of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class C_ extends Of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class XE{constructor(e){this.count=e}}var mr,zn;function O0(n){switch(n){default:return Bt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function Cg(n){if(void 0===n)return Br("GRPC error has no .code"),We.UNKNOWN;switch(n){case mr.OK:return We.OK;case mr.CANCELLED:return We.CANCELLED;case mr.UNKNOWN:return We.UNKNOWN;case mr.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case mr.INTERNAL:return We.INTERNAL;case mr.UNAVAILABLE:return We.UNAVAILABLE;case mr.UNAUTHENTICATED:return We.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case mr.NOT_FOUND:return We.NOT_FOUND;case mr.ALREADY_EXISTS:return We.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return We.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case mr.ABORTED:return We.ABORTED;case mr.OUT_OF_RANGE:return We.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return We.UNIMPLEMENTED;case mr.DATA_LOSS:return We.DATA_LOSS;default:return Bt()}}(zn=mr||(mr={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";class Pl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[o,l]of i)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(void 0===o)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return 1===i.length?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zu(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return cg(this.inner)}size(){return this.innerSize}}const P0=new ts(wt.comparator);function za(){return P0}const NI=new ts(wt.comparator);function Pf(...n){let e=NI;for(const t of n)e=e.insert(t.key,t);return e}function Tg(){return new Pl(n=>n.toString(),(n,e)=>n.isEqual(e))}const eC=new ts(wt.comparator),R0=new Qi(wt.comparator);function fi(...n){let e=R0;for(const t of n)e=e.add(t);return e}const N0=new Qi(In);function Rf(){return N0}class lh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,t)),new lh(cn.min(),i,Rf(),za(),fi())}}class sa{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new sa(ys.EMPTY_BYTE_STRING,t,fi(),fi(),fi())}}class id{constructor(e,t,i,o){this.O=e,this.removedTargetIds=t,this.key=i,this.F=o}}class k0{constructor(e,t){this.targetId=e,this.$=t}}class F0{constructor(e,t,i=ys.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class tC{constructor(){this.B=0,this.L=Ig(),this.U=ys.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=fi(),t=fi(),i=fi();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Bt()}}),new sa(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=Ig()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class T_{constructor(e){this.nt=e,this.st=new Map,this.it=za(),this.rt=I_(),this.ot=new Qi(In)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:Bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,i=e.$.count,o=this.wt(t);if(o){const l=o.target;if(pg(l))if(0===i){const h=new wt(l.path);this.ct(t,h,Yi.newNoDocument(h,cn.min()))}else fn(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,h)=>{const _=this.wt(h);if(_){if(l.current&&pg(_.target)){const E=new wt(_.target.path);null!==this.it.get(E)||this.It(h,E)||this.ct(h,E,Yi.newNoDocument(E,e))}l.j&&(t.set(h,l.H()),l.J())}});let i=fi();this.rt.forEach((l,h)=>{let _=!0;h.forEachWhile(E=>{const S=this.wt(E);return!S||2===S.purpose||(_=!1,!1)}),_&&(i=i.add(l))}),this.it.forEach((l,h)=>h.setReadTime(e));const o=new lh(e,t,this.ot,this.it,i);return this.it=za(),this.rt=I_(),this.ot=new Qi(In),o}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new tC,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Qi(In),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ht("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new tC),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function I_(){return new ts(wt.comparator)}function Ig(){return new ts(wt.comparator)}const Nf={asc:"ASCENDING",desc:"DESCENDING"},nC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class D_{constructor(e,t){this.databaseId=e,this.N=t}}function uh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S_(n,e){return n.N?e.toBase64():e.toUint8Array()}function L0(n,e){return uh(n,e.toTimestamp())}function Ps(n){return fn(!!n),cn.fromTimestamp(function(e){const t=qu(e);return new xr(t.seconds,t.nanos)}(n))}function kf(n,e){return(t=n,new si(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function V0(n){const e=si.fromString(n);return fn(G0(e)),e}function Ff(n,e){return kf(n.databaseId,e.path)}function qa(n,e){const t=V0(e);if(t.get(1)!==n.databaseId.projectId)throw new ot(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ot(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new wt(U0(t))}function tc(n,e){return kf(n.databaseId,e)}function A_(n){const e=V0(n);return 4===e.length?si.emptyPath():U0(e)}function Lf(n){return new si(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U0(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rd(n,e,t){return{name:Ff(n,e),fields:t.value.mapValue.fields}}function B0(n,e,t){const i=qa(n,e.name),o=Ps(e.updateTime),l=new Js({mapValue:{fields:e.fields}}),h=Yi.newFoundDocument(i,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Vf(n,e){let t;if(e instanceof Eg)t={update:rd(n,e.key,e.value)};else if(e instanceof nd)t={delete:Ff(n,e.key)};else if(e instanceof ec)t={update:rd(n,e.key,e.data),updateMask:aC(e.fieldMask)};else{if(!(e instanceof C_))return Bt();t={verify:Ff(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const h=l.transform;if(h instanceof Af)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof td)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Xu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ah)return{fieldPath:l.field.canonicalString(),increment:h.k};throw Bt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:L0(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Bt()),t;var o}function Ta(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ns.updateTime(Ps(o.updateTime)):void 0!==o.exists?ns.exists(o.exists):ns.none():ns.none(),i=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let _=null;"setToServerValue"in h?(fn("REQUEST_TIME"===h.setToServerValue),_=new Af):"appendMissingElements"in h?_=new td(h.appendMissingElements.values||[]):"removeAllFromArray"in h?_=new Xu(h.removeAllFromArray.values||[]):"increment"in h?_=new ah(l,h.increment):Bt();const E=_s.fromServerFormat(h.fieldPath);return new xf(E,_)}(n,o)):[];var o;if(e.update){const o=qa(n,e.update.name),l=new Js({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Zc((e.updateMask.fieldPaths||[]).map(S=>_s.fromServerFormat(S)));return new ec(o,l,h,t,i)}return new Eg(o,l,t,i)}if(e.delete){const o=qa(n,e.delete);return new nd(o,t)}if(e.verify){const o=qa(n,e.verify);return new C_(o,t)}return Bt()}function M_(n,e){return{documents:[tc(n,e.path)]}}function O_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=tc(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tc(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(E){if(0===E.length)return;const S=E.map($=>function(te){if("=="===te.op){if(BE(te.value))return{unaryFilter:{field:ch(te.field),op:"IS_NAN"}};if(d_(te.value))return{unaryFilter:{field:ch(te.field),op:"IS_NULL"}}}else if("!="===te.op){if(BE(te.value))return{unaryFilter:{field:ch(te.field),op:"IS_NOT_NAN"}};if(d_(te.value))return{unaryFilter:{field:ch(te.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(te.field),op:oC(te.op),value:te.value}}}($));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(E){if(0!==E.length)return E.map(S=>{return{field:ch(($=S).field),direction:sC($.dir)};var $})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(S=e.limit,n.N||yf(S)?S:{value:S});var S,_,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function P_(n){let e=A_(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){fn(1===i);const $=t.from[0];$.allDescendants?o=$.collectionId:e=e.child($.collectionId)}let l=[];t.where&&(l=H0(t.where));let h=[];t.orderBy&&(h=t.orderBy.map($=>{return new Ol(sd((te=$).field),function(we){switch(we){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(te.direction));var te}));let _=null;t.limit&&(_=function($){let te;return te="object"==typeof $?$.value:$,yf(te)?null:te}(t.limit));let E=null;var $;t.startAt&&(E=new Ju(($=t.startAt).values||[],!!$.before));let S=null;return t.endAt&&(S=function($){return new Ju($.values||[],!$.before)}(t.endAt)),Xc(e,o,h,l,_,"F",E,S)}function H0(n){return n?void 0!==n.unaryFilter?[$0(n)]:void 0!==n.fieldFilter?[kI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>H0(e)).reduce((e,t)=>e.concat(t)):Bt():[]}function sC(n){return Nf[n]}function oC(n){return nC[n]}function ch(n){return{fieldPath:n.canonicalString()}}function sd(n){return _s.fromServerFormat(n.fieldPath)}function kI(n){return vs.create(sd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function $0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=sd(n.unaryFilter.field);return vs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=sd(n.unaryFilter.field);return vs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sd(n.unaryFilter.field);return vs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sd(n.unaryFilter.field);return vs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}function aC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Po(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dg(e)),e=FI(n.get(t),e);return Dg(e)}function FI(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Dg(n){return n+"\x01\x01"}function Rl(n){const e=n.length;if(fn(e>=2),2===e)return fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),si.emptyPath();const t=e-2,i=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&Bt(),n.charAt(h+1)){case"\x01":const _=n.substring(l,h);let E;0===o.length?E=_:(o+=_,E=o,o=""),i.push(E);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:Bt()}l=h+2}return new si(i)}const R_=["userId","batchId"];function Uf(n,e){return[n,Po(e)]}function lC(n,e,t){return[n,Po(e),t]}const Za={},LI=["prefixPath","collectionGroup","readTime","documentId"],VI=["prefixPath","collectionGroup","documentId"],z0=["collectionGroup","readTime","prefixPath","documentId"],q0=["canonicalId","targetId"],Z0=["targetId","path"],uC=["path","targetId"],UI=["collectionId","parent"],W0=["indexId","uid"],N_=["uid","sequenceNumber"],cC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],k_=["indexId","uid","orderedDocumentKey"],dC=["userId","collectionPath","documentId"],hC=["userId","collectionPath","largestBatchId"],fC=["userId","collectionGroup","largestBatchId"],K0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pC=[...K0,"documentOverlays"],Y0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Sg=[...Y0,"indexConfiguration","indexState","indexEntries"],od="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ze((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ze?t:Ze.resolve(t)}catch(t){return Ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ze.reject(t)}static resolve(e){return new Ze((t,i)=>{t(e)})}static reject(e){return new Ze((t,i)=>{i(e)})}static waitFor(e){return new Ze((t,i)=>{let o=0,l=0,h=!1;e.forEach(_=>{++o,_.next(()=>{++l,h&&l===o&&t()},E=>i(E))}),h=!0,l===o&&t()})}static or(e){let t=Ze.resolve(!1);for(const i of e)t=t.next(o=>o?Ze.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}}class Ag{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Os,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ro(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const o=No(i.target.error);this.At.reject(new Ro(e,o))}}static open(e,t,i,o){try{return new Ag(t,e.transaction(o,i))}catch(l){throw new Ro(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ht("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new eo(t)}}class Wa{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===Wa.Vt((0,Dt.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ht("SimpleDb","Removing database:",e),oa(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Dt.hl)())return!1;if(Wa.St())return!0;const e=(0,Dt.z$)(),t=Wa.Vt(e),i=0<t&&t<10,o=Wa.Dt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,xe.Z)(function*(){return t.db||(ht("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{i(h.target.result)},l.onblocked=()=>{o(new Ro(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const _=h.target.error;o("VersionError"===_.name?new ot(We.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new ot(We.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Ro(e,_))},l.onupgradeneeded=h=>{ht("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{ht("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,o){var l=this;return(0,xe.Z)(function*(){const h="readonly"===t;let _=0;for(;;){++_;try{l.db=yield l.Nt(e);const E=Ag.open(l.db,e,h?"readonly":"readwrite",i),S=o(E).next($=>(E.bt(),$)).catch($=>(E.abort($),Ze.reject($))).toPromise();return S.catch(()=>{}),yield E.Rt,S}catch(E){const S="FirebaseError"!==E.name&&_<3;if(ht("SimpleDb","Transaction failed with error:",E.message,"Retrying:",S),l.close(),!S)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class F_{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return oa(this.Ft.delete())}}class Ro extends ot{constructor(e,t){super(We.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ka(n){return"IndexedDbTransactionError"===n.name}class eo{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ht("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ht("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),oa(i)}add(e){return ht("SimpleDb","ADD",this.store.name,e,e),oa(this.store.add(e))}get(e){return oa(this.store.get(e)).next(t=>(void 0===t&&(t=null),ht("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ht("SimpleDb","DELETE",this.store.name,e),oa(this.store.delete(e))}count(){return ht("SimpleDb","COUNT",this.store.name),oa(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const o=this.cursor(i),l=[];return this.Kt(o,(h,_)=>{l.push(_)}).next(()=>l)}{const o=this.store.getAll(i.range);return new Ze((l,h)=>{o.onerror=_=>{h(_.target.error)},o.onsuccess=_=>{l(_.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ze((o,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){ht("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const o=this.cursor(i);return this.Kt(o,(l,h,_)=>_.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const o=this.cursor(i);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new Ze((i,o)=>{t.onerror=l=>{const h=No(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(_=>{_?h.continue():i()}):i()}})}Kt(e,t){const i=[];return new Ze((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const _=h.target.result;if(!_)return void o();const E=new F_(_),S=t(_.primaryKey,_.value,E);if(S instanceof Ze){const $=S.catch(te=>(E.done(),Ze.reject(te)));i.push($)}E.isDone?o():null===E.Lt?_.continue():_.continue(E.Lt)}}).next(()=>Ze.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function oa(n){return new Ze((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const o=No(i.target.error);t(o)}})}let Bf=!1;function No(n){const e=Wa.Vt((0,Dt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bf||(Bf=!0,setTimeout(()=>{throw i},0)),i}}return n}class xg extends Q0{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _r(n,e){const t=yt(n);return Wa.xt(t.Ht,e)}class nc{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&JE(l,e,i[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ca(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ca(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),o=i;this.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(cn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fi())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(t,i)=>D0(t,i))&&xl(this.baseMutations,e.baseMutations,(t,i)=>D0(t,i))}}class ic{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){fn(e.mutations.length===i.length);let o=eC;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new ic(e,t,i,o)}}class rc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aa{constructor(e,t,i,o,l=cn.min(),h=cn.min(),_=ys.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ad{constructor(e){this.Jt=e}}function ld(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:gu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ff(o=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:uh(o,l.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:sc(e.version)};else{if(!e.isUnknownDocument())return Bt();i.unknownDocument={path:t.path.toArray(),version:sc(e.version)}}var o,l;return i}function gu(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oc(n){const e=new xr(n.seconds,n.nanoseconds);return cn.fromTimestamp(e)}function ud(n,e){const t=(e.baseMutations||[]).map(l=>Ta(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const i=e.mutations.map(l=>Ta(n.Jt,l)),o=xr.fromMillis(e.localWriteTimeMs);return new nc(e.batchId,o,t,i)}function hh(n){const e=oc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?oc(n.lastLimboFreeSnapshotVersion):cn.min();let i;var o;return void 0!==n.query.documents?(fn(1===(o=n.query).documents.length),i=uo(sh(A_(o.documents[0])))):i=uo(P_(n.query)),new aa(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ys.fromBase64String(n.resumeToken))}function L_(n,e){const t=sc(e.snapshotVersion),i=sc(e.lastLimboFreeSnapshotVersion);let o;o=pg(e.target)?M_(n.Jt,e.target):O_(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ih(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:o}}function Mg(n){const e=P_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?v0(e,e.limit,"L"):e}function Og(n,e){return new rc(e.largestBatchId,Ta(n.Jt,e.overlayMutation))}function V_(n,e){const t=e.path.lastSegment();return[n,Po(e.path.popLast()),t]}class J0{getBundleMetadata(e,t){return X0(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:oc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return X0(e).put({bundleId:(i=t).id,createTime:sc(Ps(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return U_(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:Mg(o.bundledQuery),readTime:oc(o.readTime)};var o})}saveNamedQuery(e,t){return U_(e).put({name:(i=t).name,readTime:sc(Ps(i.readTime)),bundledQuery:i.bundledQuery});var i}}function X0(n){return _r(n,"bundles")}function U_(n){return _r(n,"namedQueries")}class B_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new B_(e,t.uid||"")}getOverlay(e,t){return fh(e).get(V_(this.userId,t)).next(i=>i?Og(this.M,i):null)}saveOverlays(e,t,i){const o=[];return i.forEach((l,h)=>{const _=new rc(t,h);o.push(this.Xt(e,_))}),Ze.waitFor(o)}removeOverlaysForBatchId(e,t,i){const o=new Set;t.forEach(h=>o.add(Po(h.getCollectionPath())));const l=[];return o.forEach(h=>{const _=IDBKeyRange.bound([this.userId,h,i],[this.userId,h,i+1],!1,!0);l.push(fh(e).Qt("collectionPathOverlayIndex",_))}),Ze.waitFor(l)}getOverlaysForCollection(e,t,i){const o=Tg(),l=Po(t),h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return fh(e).qt("collectionPathOverlayIndex",h).next(_=>{for(const E of _){const S=Og(this.M,E);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,i,o){const l=Tg();let h;const _=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fh(e).Wt({index:"collectionGroupOverlayIndex",range:_},(E,S,$)=>{const te=Og(this.M,S);l.size()<o||te.largestBatchId===h?(l.set(te.getKey(),te),h=te.largestBatchId):$.done()}).next(()=>l)}Xt(e,t){return fh(e).put(function(i,o,l){const[h,_,E]=V_(o,l.mutation.key);return{userId:o,collectionPath:_,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Vf(i.Jt,l.mutation)}}(this.M,this.userId,t))}}function fh(n){return _r(n,"documentOverlays")}class ac{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(gr(e.integerValue));else if("doubleValue"in e){const i=gr(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),vf(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Wc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?fg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Bt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const o of Object.keys(i))this.re(o,t),this.te(i[o],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const o of i)this.te(o,t)}ae(e,t){this.ne(t,37),wt.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function gC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function ew(n){const e=64-function(t){let i=0;for(let o=0;o<8;++o){const l=gC(255&t[o]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}ac.fe=new ac;class tw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),i=ew(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),i=ew(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let o=t.length-i;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let o=1;o<t.length;++o)t[o]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const o=new Uint8Array(i);o.set(this.buffer),this.buffer=o}}class mC{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class nw{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class jf{constructor(){this.De=new tw,this.Ce=new mC(this.De),this.xe=new nw(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class cd{constructor(e,t,i,o){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new cd(this.indexId,this.documentKey,this.arrayValue,i)}}function ph(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iw(n.arrayValue,e.arrayValue),0!==t?t:(t=iw(n.directionalValue,e.directionalValue),0!==t?t:wt.comparator(n.documentKey,e.documentKey)))}function iw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class j_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=p0(e);if(void 0!==t&&!this.Be(t))return!1;const i=Yc(e);let o=0,l=0;for(;o<i.length&&this.Be(i[o]);++o);if(o===i.length)return!0;if(void 0!==this.Fe){const h=i[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[l++],h))return!1;++o}for(;o<i.length;++o){const h=i[o];if(l>=this.Me.length||!this.Ue(this.Me[l++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class H_{constructor(){this.qe=new $_}addToCollectionParentIndex(e,t){return this.qe.add(t),Ze.resolve()}getCollectionParents(e,t){return Ze.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ze.resolve()}deleteFieldIndex(e,t){return Ze.resolve()}getDocumentsMatchingTarget(e,t){return Ze.resolve(null)}getIndexType(e,t){return Ze.resolve(0)}getFieldIndexes(e,t){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,t){return Ze.resolve(ia.min())}updateCollectionGroup(e,t,i){return Ze.resolve()}updateIndexEntries(e,t){return Ze.resolve()}}class $_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Qi(si.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Qi(si.comparator)).toArray()}}const G_=new Uint8Array(0);class BI{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new $_,this.Ge=new Pl(i=>ih(i),(i,o)=>Qc(i,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:i,parent:Po(o)};return _C(e).put(l)}return Ze.resolve()}getCollectionParents(e,t){const i=[],o=IDBKeyRange.bound([t,""],[a0(t),""],!1,!0);return _C(e).qt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;i.push(Rl(h.parent))}return i})}addFieldIndex(e,t){const i=$f(e),o={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;return delete o.indexId,i.add(o).next()}deleteFieldIndex(e,t){const i=$f(e),o=z_(e),l=Hf(e);return i.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Hf(e);let o=!0;const l=new Map;return Ze.forEach(this.Qe(t),h=>this.je(e,h).next(_=>{o&&(o=!!_),l.set(h,_)})).next(()=>{if(o){let h=fi();const _=[];return Ze.forEach(l,(E,S)=>{var $;ht("IndexedDbIndexManager",`Using index ${$=E,`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map(Ht=>`${Ht.fieldPath}:${Ht.kind}`).join(",")}`} to execute ${ih(t)}`);const te=function(Ht,At){const pn=p0(At);if(void 0===pn)return null;for(const gn of If(Ht,pn.fieldPath))switch(gn.op){case"array-contains-any":return gn.value.arrayValue.values||[];case"array-contains":return[gn.value]}return null}(S,E),we=function(Ht,At){const pn=new Map;for(const gn of Yc(At))for(const ni of If(Ht,gn.fieldPath))switch(ni.op){case"==":case"in":pn.set(gn.fieldPath.canonicalString(),ni.value);break;case"not-in":case"!=":return pn.set(gn.fieldPath.canonicalString(),ni.value),Array.from(pn.values())}return null}(S,E),Ue=function(Ht,At){const pn=[];let gn=!0;for(const ni of Yc(At)){const Cs=0===ni.kind?gg(Ht,ni.fieldPath,Ht.startAt):__(Ht,ni.fieldPath,Ht.startAt);pn.push(Cs.value),gn&&(gn=Cs.inclusive)}return new Ju(pn,gn)}(S,E),Pe=function(Ht,At){const pn=[];let gn=!0;for(const ni of Yc(At)){const Cs=0===ni.kind?__(Ht,ni.fieldPath,Ht.endAt):gg(Ht,ni.fieldPath,Ht.endAt);pn.push(Cs.value),gn&&(gn=Cs.inclusive)}return new Ju(pn,gn)}(S,E),Xe=this.We(E,S,Ue),ut=this.We(E,S,Pe),Kt=this.ze(E,S,we),on=this.He(E.indexId,te,Xe,Ue.inclusive,ut,Pe.inclusive,Kt);return Ze.forEach(on,Ht=>i.Gt(Ht,t.limit).next(At=>{At.forEach(pn=>{const gn=wt.fromSegments(pn.documentKey);h.has(gn)||(h=h.add(gn),_.push(gn))})}))}).next(()=>_)}return Ze.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,i,o,l,h,_){const E=(null!=t?t.length:1)*Math.max(i.length,l.length),S=E/(null!=t?t.length:1),$=[];for(let te=0;te<E;++te){const we=t?this.Je(t[te/S]):G_,Ue=this.Ye(e,we,i[te%S],o),Pe=this.Xe(e,we,l[te%S],h),Xe=_.map(ut=>this.Ye(e,we,ut,!0));$.push(...this.createRange(Ue,Pe,Xe))}return $}Ye(e,t,i,o){const l=new cd(e,wt.empty(),t,i);return o?l:l.ke()}Xe(e,t,i,o){const l=new cd(e,wt.empty(),t,i);return o?l.ke():l}je(e,t){const i=new j_(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let h=null;for(const _ of l)i.$e(_)&&(!h||_.fields.length>h.fields.length)&&(h=_);return h})}getIndexType(e,t){let i=2;return Ze.forEach(this.Qe(t),o=>this.je(e,o).next(l=>{l?0!==i&&l.fields.length<function(h){let _=new Qi(_s.comparator),E=!1;for(const S of h.filters){const $=S;$.field.isKeyField()||("array-contains"===$.op||"array-contains-any"===$.op?E=!0:_=_.add($.field))}for(const S of h.orderBy)S.field.isKeyField()||(_=_.add(S.field));return _.size+(E?1:0)}(o)&&(i=1):i=0})).next(()=>i)}Ze(e,t){const i=new jf;for(const o of Yc(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=i.Ne(o.kind);ac.fe.Zt(l,h)}return i.Se()}Je(e){const t=new jf;return ac.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new jf;return ac.fe.Zt(Wu(this.databaseId,t),i.Ne(function(o){const l=Yc(o);return 0===l.length?0:l[l.length-1].kind}(e))),i.Se()}ze(e,t,i){if(null===i)return[];let o=[];o.push(new jf);let l=0;for(const h of Yc(e)){const _=i[l++];for(const E of o)if(this.en(t,h.fieldPath)&&hg(_))o=this.nn(o,h,_);else{const S=E.Ne(h.kind);ac.fe.Zt(_,S)}}return this.sn(o)}We(e,t,i){return this.ze(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const o=[...e],l=[];for(const h of i.arrayValue.values||[])for(const _ of o){const E=new jf;E.seed(_.Se()),ac.fe.Zt(h,E.Ne(t.kind)),l.push(E)}return l}en(e,t){return!!e.filters.find(i=>i instanceof vs&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=$f(e),o=z_(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(l=>{const h=[];return Ze.forEach(l,_=>o.get([_.indexId,this.uid]).next(E=>{h.push(function(S,$){const te=$?new nh($.sequenceNumber,new ia(oc($.readTime),new wt(Rl($.documentKey)),$.largestBatchId)):nh.empty(),we=S.fields.map(([Ue,Pe])=>new p_(_s.fromServerFormat(Ue),Pe));return new Cf(S.indexId,S.collectionGroup,we,te)}(_,E))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,o)=>{const l=i.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:In(i.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const o=$f(e),l=z_(e);return this.rn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(_=>Ze.forEach(_,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:sc((we=i).readTime),documentKey:Po(we.documentKey.path),largestBatchId:we.largestBatchId});var we})))}updateIndexEntries(e,t){const i=new Map;return Ze.forEach(t,(o,l)=>{const h=i.get(o.collectionGroup);return(h?Ze.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(_=>(i.set(o.collectionGroup,_),Ze.forEach(_,E=>this.on(e,o,E).next(S=>{const $=this.un(l,E);return S.isEqual($)?Ze.resolve():this.an(e,l,E,S,$)}))))})}cn(e,t,i,o){return Hf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,o){return Hf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const o=Hf(e);let l=new Qi(ph);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(h,_)=>{l=l.add(new cd(i.indexId,t,_.arrayValue,_.directionalValue))}).next(()=>l)}un(e,t){let i=new Qi(ph);const o=this.Ze(t,e);if(null==o)return i;const l=p0(t);if(null!=l){const h=e.data.field(l.fieldPath);if(hg(h))for(const _ of h.arrayValue.values||[])i=i.add(new cd(t.indexId,e.key,this.Je(_),o))}else i=i.add(new cd(t.indexId,e.key,G_,o));return i}an(e,t,i,o,l){ht("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(_,E,S,$,te){const we=_.getIterator(),Ue=E.getIterator();let Pe=Tf(we),Xe=Tf(Ue);for(;Pe||Xe;){let ut=!1,Kt=!1;if(Pe&&Xe){const on=S(Pe,Xe);on<0?Kt=!0:on>0&&(ut=!0)}else null!=Pe?Kt=!0:ut=!0;ut?($(Xe),Xe=Tf(Ue)):Kt?(te(Pe),Pe=Tf(we)):(Pe=Tf(we),Xe=Tf(Ue))}}(o,l,ph,_=>{h.push(this.cn(e,t,i,_))},_=>{h.push(this.hn(e,t,i,_))}),Ze.waitFor(h)}rn(e){let t=1;return z_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((h,_)=>ph(h,_)).filter((h,_,E)=>!_||0!==ph(h,E[_-1]));const o=[];o.push(e);for(const h of i){const _=ph(h,e),E=ph(h,t);if(0===_)o[0]=e.ke();else if(_>0&&E<0)o.push(h),o.push(h.ke());else if(E>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,G_,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,G_,[]]));return l}getMinOffset(e,t){let i;return Ze.forEach(this.Qe(t),o=>this.je(e,o).next(l=>{l?(!i||$E(l.indexState.offset,i)<0)&&(i=l.indexState.offset):i=ia.min()})).next(()=>i)}}function _C(n){return _r(n,"collectionParents")}function Hf(n){return _r(n,"indexEntries")}function $f(n){return _r(n,"indexConfiguration")}function z_(n){return _r(n,"indexState")}const rw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sw(n,e,t){const i=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let _=0;const E=i.Wt({range:h},($,te,we)=>(_++,we.delete()));l.push(E.next(()=>{fn(1===_)}));const S=[];for(const $ of t.mutations){const te=lC(e,$.key.path,t.batchId);l.push(o.delete(te)),S.push($.key)}return Ze.waitFor(l).next(()=>S)}function Gf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Bt();e=n.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class q_{constructor(e,t,i,o){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=o,this.ln={}}static Yt(e,t,i,o){fn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new q_(l,t,i,o)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ya(e).Wt({index:"userMutationsIndex",range:i},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,i,o){const l=gh(e),h=Ya(e);return h.add({}).next(_=>{fn("number"==typeof _);const E=new nc(_,t,i,o),S=function(we,Ue,Pe){const Xe=Pe.baseMutations.map(Kt=>Vf(we.Jt,Kt)),ut=Pe.mutations.map(Kt=>Vf(we.Jt,Kt));return{userId:Ue,batchId:Pe.batchId,localWriteTimeMs:Pe.localWriteTime.toMillis(),baseMutations:Xe,mutations:ut}}(this.M,this.userId,E),$=[];let te=new Qi((we,Ue)=>In(we.canonicalString(),Ue.canonicalString()));for(const we of o){const Ue=lC(this.userId,we.key.path,_);te=te.add(we.key.path.popLast()),$.push(h.put(S)),$.push(l.put(Ue,Za))}return te.forEach(we=>{$.push(this.indexManager.addToCollectionParentIndex(e,we))}),e.addOnCommittedListener(()=>{this.ln[_]=E.keys()}),Ze.waitFor($).next(()=>E)})}lookupMutationBatch(e,t){return Ya(e).get(t).next(i=>i?(fn(i.userId===this.userId),ud(this.M,i)):null)}fn(e,t){return this.ln[t]?Ze.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const o=i.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ya(e).Wt({index:"userMutationsIndex",range:o},(h,_,E)=>{_.userId===this.userId&&(fn(_.batchId>=i),l=ud(this.M,_)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ya(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{i=l.batchId,h.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ya(e).qt("userMutationsIndex",t).next(i=>i.map(o=>ud(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Uf(this.userId,t.path),o=IDBKeyRange.lowerBound(i),l=[];return gh(e).Wt({range:o},(h,_,E)=>{const[S,$,te]=h,we=Rl($);if(S===this.userId&&t.path.isEqual(we))return Ya(e).get(te).next(Ue=>{if(!Ue)throw Bt();fn(Ue.userId===this.userId),l.push(ud(this.M,Ue))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qi(In);const o=[];return t.forEach(l=>{const h=Uf(this.userId,l.path),_=IDBKeyRange.lowerBound(h),E=gh(e).Wt({range:_},(S,$,te)=>{const[we,Ue,Pe]=S,Xe=Rl(Ue);we===this.userId&&l.path.isEqual(Xe)?i=i.add(Pe):te.done()});o.push(E)}),Ze.waitFor(o).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1,l=Uf(this.userId,i),h=IDBKeyRange.lowerBound(l);let _=new Qi(In);return gh(e).Wt({range:h},(E,S,$)=>{const[te,we,Ue]=E,Pe=Rl(we);te===this.userId&&i.isPrefixOf(Pe)?Pe.length===o&&(_=_.add(Ue)):$.done()}).next(()=>this.dn(e,_))}dn(e,t){const i=[],o=[];return t.forEach(l=>{o.push(Ya(e).get(l).next(h=>{if(null===h)throw Bt();fn(h.userId===this.userId),i.push(ud(this.M,h))}))}),Ze.waitFor(o).next(()=>i)}removeMutationBatch(e,t){return sw(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ze.forEach(i,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ze.resolve();const i=IDBKeyRange.lowerBound([this.userId]),o=[];return gh(e).Wt({range:i},(l,h,_)=>{if(l[0]===this.userId){const E=Rl(l[1]);o.push(E)}else _.done()}).next(()=>{fn(0===o.length)})})}containsKey(e,t){return Z_(e,this.userId,t)}wn(e){return W_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z_(n,e,t){const i=Uf(e,t.path),o=i[1],l=IDBKeyRange.lowerBound(i);let h=!1;return gh(n).Wt({range:l,jt:!0},(_,E,S)=>{const[$,te,we]=_;$===e&&te===o&&(h=!0),S.done()}).next(()=>h)}function Ya(n){return _r(n,"mutations")}function gh(n){return _r(n,"documentMutations")}function W_(n){return _r(n,"mutationQueues")}class dd{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new dd(0)}static yn(){return new dd(-1)}}class yC{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new dd(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>cn.fromTimestamp(new xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,i&&(o.lastRemoteSnapshotVersion=i.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mh(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(fn(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let o=0;const l=[];return mh(e).Wt((h,_)=>{const E=hh(_);E.sequenceNumber<=t&&null===i.get(E.targetId)&&(o++,l.push(this.removeTargetData(e,E)))}).next(()=>Ze.waitFor(l)).next(()=>o)}forEachTarget(e,t){return mh(e).Wt((i,o)=>{const l=hh(o);t(l)})}pn(e){return ow(e).get("targetGlobalKey").next(t=>(fn(null!==t),t))}In(e,t){return ow(e).put("targetGlobalKey",t)}Tn(e,t){return mh(e).put(L_(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ih(t),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return mh(e).Wt({range:o,index:"queryTargetsIndex"},(h,_,E)=>{const S=hh(_);Qc(t,S.target)&&(l=S,E.done())}).next(()=>l)}addMatchingKeys(e,t,i){const o=[],l=lc(e);return t.forEach(h=>{const _=Po(h.path);o.push(l.put({targetId:i,path:_})),o.push(this.referenceDelegate.addReference(e,i,h))}),Ze.waitFor(o)}removeMatchingKeys(e,t,i){const o=lc(e);return Ze.forEach(t,l=>{const h=Po(l.path);return Ze.waitFor([o.delete([i,h]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=lc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(o)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),o=lc(e);let l=fi();return o.Wt({range:i,jt:!0},(h,_,E)=>{const S=Rl(h[1]),$=new wt(S);l=l.add($)}).next(()=>l)}containsKey(e,t){const i=Po(t.path),o=IDBKeyRange.bound([i],[a0(i)],!1,!0);let l=0;return lc(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,_],E,S)=>{0!==h&&(l++,S.done())}).next(()=>l>0)}Et(e,t){return mh(e).get(t).next(i=>i?hh(i):null)}}function mh(n){return _r(n,"targets")}function ow(n){return _r(n,"targetGlobal")}function lc(n){return _r(n,"targetDocuments")}function uc(n){return K_.apply(this,arguments)}function K_(){return K_=(0,xe.Z)(function*(n){if(n.code!==We.FAILED_PRECONDITION||n.message!==od)throw n;ht("LocalStore","Unexpectedly lost primary lease")}),K_.apply(this,arguments)}function Y_([n,e],[t,i]){const o=In(n,t);return 0===o?In(e,i):o}class aw{constructor(e){this.An=e,this.buffer=new Qi(Y_),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Y_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Q_{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;ht("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,xe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Ka(o)?ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield uc(o)}yield t.Sn(e)}))}}class jI{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ze.resolve(xo.A);const i=new aw(t);return this.Dn.forEachTarget(e,o=>i.Pn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>i.Pn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(rw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rw):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,o,l,h,_,E,S;const $=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(te=>(te>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${te}`),o=this.params.maximumSequenceNumbersToCollect):o=te,h=Date.now(),this.nthSequenceNumber(e,o))).next(te=>(i=te,_=Date.now(),this.removeTargets(e,i,t))).next(te=>(l=te,E=Date.now(),this.removeOrphanedDocuments(e,i))).next(te=>(S=Date.now(),i_()<=Ur.in.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-$}ms\n\tDetermined least recently used ${o} in `+(_-h)+`ms\n\tRemoved ${l} targets in `+(E-_)+`ms\n\tRemoved ${te} documents in `+(S-E)+`ms\nTotal Duration: ${S-$}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:te})))}}class J_{constructor(e,t){this.db=e,this.garbageCollector=new jI(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,o)=>t(o))}addReference(e,t,i){return Pg(e,i)}removeReference(e,t,i){return Pg(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Pg(e,t)}On(e,t){return function(i,o){let l=!1;return W_(i).zt(h=>Z_(i,h,o).next(_=>(_&&(l=!0),Ze.resolve(!_)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Mn(e,(h,_)=>{if(_<=t){const E=this.On(e,h).next(S=>{if(!S)return l++,i.getEntry(e,h).next(()=>(i.removeEntry(h,cn.min()),lc(e).delete([0,Po(h.path)])))});o.push(E)}}).next(()=>Ze.waitFor(o)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Pg(e,t)}Mn(e,t){const i=lc(e);let o,l=xo.A;return i.Wt({index:"documentTargetsIndex"},([h,_],{path:E,sequenceNumber:S})=>{0===h?(l!==xo.A&&t(new wt(Rl(o)),l),l=S,o=E):l=xo.A}).next(()=>{l!==xo.A&&t(new wt(Rl(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pg(n,e){return lc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Po(e.path),sequenceNumber:i}));var i}class vC{constructor(){this.changes=new Pl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ze.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zf{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return mu(e).put(i)}removeEntry(e,t,i){return mu(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],gu(l),h[h.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=Yi.newInvalidDocument(t);return mu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qf(t))},(o,l)=>{i=this.$n(t,l)}).next(()=>i)}Bn(e,t){let i={size:0,document:Yi.newInvalidDocument(t)};return mu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(qf(t))},(o,l)=>{i={document:this.$n(t,l),size:Gf(l)}}).next(()=>i)}getEntries(e,t){let i=za();return this.Ln(e,t,(o,l)=>{const h=this.$n(o,l);i=i.insert(o,h)}).next(()=>i)}Un(e,t){let i=za(),o=new ts(wt.comparator);return this.Ln(e,t,(l,h)=>{const _=this.$n(l,h);i=i.insert(l,_),o=o.insert(l,Gf(h))}).next(()=>({documents:i,qn:o}))}Ln(e,t,i){if(t.isEmpty())return Ze.resolve();let o=new Qi(Wf);t.forEach(E=>o=o.add(E));const l=IDBKeyRange.bound(qf(o.first()),qf(o.last())),h=o.getIterator();let _=h.getNext();return mu(e).Wt({index:"documentKeyIndex",range:l},(E,S,$)=>{const te=wt.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;_&&Wf(_,te)<0;)i(_,null),_=h.getNext();_&&_.isEqual(te)&&(i(_,S),_=h.hasNext()?h.getNext():null),_?$.Ut(qf(_)):$.done()}).next(()=>{for(;_;)i(_,null),_=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,i){const o=[t.popLast().toArray(),t.lastSegment(),gu(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mu(e).qt(IDBKeyRange.bound(o,l,!0)).next(h=>{let _=za();for(const E of h){const S=this.$n(wt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);_=_.insert(S.key,S)}return _})}getAllFromCollectionGroup(e,t,i,o){let l=za();const h=Zf(t,i),_=Zf(t,ia.max());return mu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,_,!0)},(E,S,$)=>{const te=this.$n(wt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);l=l.insert(te.key,te),l.size===o&&$.done()}).next(()=>l)}newChangeBuffer(e){return new lw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Rg(e).get("remoteDocumentGlobalKey").next(t=>(fn(!!t),t))}Fn(e,t){return Rg(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function dh(n,e){let t;if(e.document)t=B0(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=wt.fromSegments(e.noDocument.path),o=oc(e.noDocument.readTime);t=Yi.newNoDocument(i,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const i=wt.fromSegments(e.unknownDocument.path),o=oc(e.unknownDocument.version);t=Yi.newUnknownDocument(i,o)}}return e.readTime&&t.setReadTime(function(i){const o=new xr(i[0],i[1]);return cn.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(cn.min()))return i}return Yi.newInvalidDocument(e)}}class lw extends vC{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Pl(i=>i.toString(),(i,o)=>i.isEqual(o))}applyChanges(e){const t=[];let i=0,o=new Qi((l,h)=>In(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const _=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,_.readTime)),h.isValidDocument()){const E=ld(this.Kn.M,h);o=o.add(l.path.popLast()),i+=Gf(E)-_.size,t.push(this.Kn.addEntry(e,l,E))}else if(i-=_.size,this.trackRemovals){const E=ld(this.Kn.M,h.convertToNoDocument(cn.min()));t.push(this.Kn.addEntry(e,l,E))}}),o.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,i)),Ze.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:o})=>(o.forEach((l,h)=>{this.Gn.set(l,{size:h,readTime:i.get(l).readTime})}),i))}}function Rg(n){return _r(n,"remoteDocumentGlobal")}function mu(n){return _r(n,"remoteDocumentsV14")}function qf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zf(n,e){const t=e.documentKey.path.toArray();return[n,gu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Wf(n,e){const t=n.path.toArray(),i=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(o=In(t[l],i[l]),o)return o;return o=In(t.length,i.length),o||(o=In(t[t.length-2],i[i.length-2]),o||In(t[t.length-1],i[i.length-1]))}class X_{constructor(e){this.M=e}kt(e,t,i,o){const l=new Ag("createOrUpgrade",t);var _;i<1&&o>=1&&(e.createObjectStore("owner"),(_=e).createObjectStore("mutationQueues",{keyPath:"userId"}),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R_,{unique:!0}),_.createObjectStore("documentMutations"),wC(e),function(_){_.createObjectStore("remoteDocuments")}(e));let h=Ze.resolve();return i<3&&o>=3&&(0!==i&&(function(_){_.deleteObjectStore("targetDocuments"),_.deleteObjectStore("targets"),_.deleteObjectStore("targetGlobal")}(e),wC(e)),h=h.next(()=>function(_){const E=_.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",S)}(l))),i<4&&o>=4&&(0!==i&&(h=h.next(()=>function(_,E){return E.store("mutations").qt().next(S=>{_.deleteObjectStore("mutations"),_.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R_,{unique:!0});const $=E.store("mutations"),te=S.map(we=>$.put(we));return Ze.waitFor(te)})}(e,l))),h=h.next(()=>{!function(_){_.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&o>=5&&(h=h.next(()=>this.Qn(l))),i<6&&o>=6&&(h=h.next(()=>(function(_){_.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),i<7&&o>=7&&(h=h.next(()=>this.Wn(l))),i<8&&o>=8&&(h=h.next(()=>this.zn(e,l))),i<9&&o>=9&&(h=h.next(()=>{!function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&o>=10&&(h=h.next(()=>this.Hn(l))),i<11&&o>=11&&(h=h.next(()=>{(function(_){_.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(_){_.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&o>=12&&(h=h.next(()=>{!function(_){const E=_.createObjectStore("documentOverlays",{keyPath:dC});E.createIndex("collectionPathOverlayIndex",hC,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",fC,{unique:!1})}(e)})),i<13&&o>=13&&(h=h.next(()=>function(_){const E=_.createObjectStore("remoteDocumentsV14",{keyPath:LI});E.createIndex("documentKeyIndex",VI),E.createIndex("collectionGroupIndex",z0)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&o>=14&&(h=h.next(()=>{!function(_){_.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),_.createObjectStore("indexState",{keyPath:W0}).createIndex("sequenceNumberIndex",N_,{unique:!1}),_.createObjectStore("indexEntries",{keyPath:cC}).createIndex("documentKeyIndex",k_,{unique:!1})}(e)})),h}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,o)=>{t+=Gf(o)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(o=>Ze.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",h).next(_=>Ze.forEach(_,E=>{fn(E.userId===l.userId);const S=ud(this.M,E);return sw(e,l.userId,S).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return i.Wt((h,_)=>{const E=new si(h),S=[0,Po(E)];l.push(t.get(S).next($=>$?Ze.resolve():t.put({targetId:0,path:Po(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ze.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:UI});const i=t.store("collectionParents"),o=new $_,l=h=>{if(o.add(h)){const _=h.lastSegment(),E=h.popLast();return i.put({collectionId:_,parent:Po(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,_)=>{const E=new si(h);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,_,E],S)=>{const $=Rl(_);return l($.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,o)=>{const l=hh(o),h=L_(this.M,l);return t.put(h)})}Jn(e,t){const i=t.store("remoteDocuments"),o=[];return i.Wt((l,h)=>{const _=t.store("remoteDocumentsV14"),E=(S=h,S.document?new wt(si.fromString(S.document.name).popFirst(5)):S.noDocument?wt.fromSegments(S.noDocument.path):S.unknownDocument?wt.fromSegments(S.unknownDocument.path):Bt()).path.toArray();var S;const $={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(_.put($))}).next(()=>Ze.waitFor(o))}}function wC(n){n.createObjectStore("targetDocuments",{keyPath:Z0}).createIndex("documentTargetsIndex",uC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",q0,{unique:!0}),n.createObjectStore("targetGlobal")}const ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _h{constructor(e,t,i,o,l,h,_,E,S,$,te=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=l,this.window=h,this.document=_,this.Xn=S,this.Zn=$,this.ts=te,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=we=>Promise.resolve(),!_h.vt())throw new ot(We.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J_(this,o),this.hs=t+"main",this.M=new ad(E),this.ls=new Wa(this.hs,this.ts,new X_(this.M)),this.fs=new yC(this.referenceDelegate,this.M),this.ds=new zf(this.M),this._s=new J0,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===$&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ot(We.FAILED_PRECONDITION,ey);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new xo(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,xe.Z)(function*(o){if(t.started)return e(o)});return function(o){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,xe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,xe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Ka(e))return ht("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return cc(e).get("owner").next(t=>Ze.resolve(this.Ps(t)))}Vs(e){return yh(e).delete(this.clientId)}vs(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const o=_r(i,"clientMetadata");return o.qt().next(l=>{const h=e.Ds(l,18e5),_=l.filter(E=>-1===h.indexOf(E));return Ze.forEach(_,E=>o.delete(E.clientId)).next(()=>_)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ze.resolve(!0):cc(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new ot(We.FAILED_PRECONDITION,ey);return!1}}return!(!this.networkEnabled||!this.inForeground)||yh(e).qt().next(i=>void 0===this.Ds(i,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ht("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new xg(t,xo.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>yh(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return q_.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new BI(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return B_.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){ht("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=14===(h=this.ts)?Sg:13===h?Y0:12===h?pC:11===h?K0:void Bt();var h;let _;return this.ls.runTransaction(e,o,l,E=>(_=new xg(E,this.es?this.es.next():xo.A),"readwrite-primary"===t?this.Es(_).next(S=>!!S||this.As(_)).next(S=>{if(!S)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ot(We.FAILED_PRECONDITION,od);return i(_)}).next(S=>this.bs(_).next(()=>S)):this.$s(_).next(()=>i(_)))).then(E=>(_.raiseOnCommittedEvent(),E))}$s(e){return cc(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ot(We.FAILED_PRECONDITION,ey)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cc(e).put("owner",t)}static vt(){return Wa.vt()}Rs(e){const t=cc(e);return t.get("owner").next(i=>this.Ps(i)?(ht("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ze.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Br(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Dt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ht("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Br("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cc(n){return _r(n,"owner")}function yh(n){return _r(n,"clientMetadata")}function Ng(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ty{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(o=>{for(const l of i)l.applyToLocalView(o);return o})}qs(e,t){e.forEach((i,o)=>{for(const l of t)l.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return wt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):Sf(t)?this.Ws(e,t,i):this.zs(e,t,i);var o}js(e,t){return this.Ls(e,new wt(t)).next(i=>{let o=Pf();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}Ws(e,t,i){const o=t.collectionGroup;let l=Pf();return this.indexManager.getCollectionParents(e,o).next(h=>Ze.forEach(h,_=>{const E=(S=t,$=_.child(o),new ra($,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,$;return this.zs(e,E,i).next(S=>{S.forEach(($,te)=>{l=l.insert($,te)})})}).next(()=>l))}zs(e,t,i){let o;return this.ds.getAllFromCollection(e,t.path,i).next(l=>(o=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const h of l)for(const _ of h.mutations){const E=_.key;let S=o.get(E);null==S&&(S=Yi.newInvalidDocument(E),o=o.insert(E,S)),Ca(_,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((l,h)=>{vg(t,h)||(o=o.remove(l))}),o))}}class kg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=o}static Ys(e,t){let i=fi(),o=fi();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new kg(e,t.fromCache,i,o)}}class ny{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,o){return this.ti(e,t).next(l=>l||this.ei(e,t,o,i)).next(l=>l||this.ni(e,t))}ti(e,t){return Ze.resolve(null)}ei(e,t,i,o){return function y0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(cn.min())?this.ni(e,t):this.Zs.Ks(e,i).next(l=>{const h=this.si(t,l);return this.ii(t,h,i,o)?this.ni(e,t):(i_()<=Ur.in.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yg(t)),this.ri(e,h,t,g_(o,-1)))})}si(e,t){let i=new Qi(v_(e));return t.forEach((o,l)=>{vg(e,l)&&(i=i.add(l))}),i}ii(e,t,i,o){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ni(e,t){return i_()<=Ur.in.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",yg(t)),this.Zs.Qs(e,t,ia.min())}ri(e,t,i,o){return this.Zs.Qs(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class iy{constructor(e,t,i,o){this.persistence=e,this.oi=t,this.M=o,this.ui=new ts(In),this.ai=new Pl(l=>ih(l),Qc),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new ty(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function ry(n,e,t,i){return new iy(n,e,t,i)}function uw(n,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,xe.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.Bs.getAllMutationBatches(i).next(l=>(o=l,t.li(e),t.Bs.getAllMutationBatches(i))).next(l=>{const h=[],_=[];let E=fi();for(const S of o){h.push(S.batchId);for(const $ of S.mutations)E=E.add($.key)}for(const S of l){_.push(S.batchId);for(const $ of S.mutations)E=E.add($.key)}return t.fi.Ks(i,E).next(S=>({di:S,removedBatchIds:h,addedBatchIds:_}))})})}),Fg.apply(this,arguments)}function cw(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(h,_,E,S){const $=E.batch,te=$.keys();let we=Ze.resolve();return te.forEach(Ue=>{we=we.next(()=>S.getEntry(_,Ue)).next(Pe=>{const Xe=E.docVersions.get(Ue);fn(null!==Xe),Pe.version.compareTo(Xe)<0&&($.applyToRemoteDocument(Pe,E),Pe.isValidDocument()&&(Pe.setReadTime(E.commitVersion),S.addEntry(Pe)))})}),we.next(()=>h.Bs.removeMutationBatch(_,$))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,o))})}function Lg(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function dw(n,e){const t=yt(n),i=e.snapshotVersion;let o=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hi.newChangeBuffer({trackRemovals:!0});o=t.ui;const _=[];e.targetChanges.forEach((S,$)=>{const te=o.get($);if(!te)return;_.push(t.fs.removeMatchingKeys(l,S.removedDocuments,$).next(()=>t.fs.addMatchingKeys(l,S.addedDocuments,$)));let we=te.withSequenceNumber(l.currentSequenceNumber);var Ue,Pe,Xe;e.targetMismatches.has($)?we=we.withResumeToken(ys.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):S.resumeToken.approximateByteSize()>0&&(we=we.withResumeToken(S.resumeToken,i)),o=o.insert($,we),Pe=we,Xe=S,(0===(Ue=te).resumeToken.approximateByteSize()||Pe.snapshotVersion.toMicroseconds()-Ue.snapshotVersion.toMicroseconds()>=3e8||Xe.addedDocuments.size+Xe.modifiedDocuments.size+Xe.removedDocuments.size>0)&&_.push(t.fs.updateTargetData(l,we))});let E=za();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),_.push(hw(l,h,e.documentUpdates).next(S=>{E=S})),!i.isEqual(cn.min())){const S=t.fs.getLastRemoteSnapshotVersion(l).next($=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,i));_.push(S)}return Ze.waitFor(_).next(()=>h.apply(l)).next(()=>t.fi.Gs(l,E)).next(()=>E)}).then(l=>(t.ui=o,l))}function hw(n,e,t){let i=fi();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=za();return t.forEach((h,_)=>{const E=o.get(h);_.isNoDocument()&&_.version.isEqual(cn.min())?(e.removeEntry(h,_.readTime),l=l.insert(h,_)):!E.isValidDocument()||_.version.compareTo(E.version)>0||0===_.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(_),l=l.insert(h,_)):ht("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",_.version)}),l})}function fw(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function hd(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.fs.getTargetData(i,e).next(l=>l?(o=l,Ze.resolve(o)):t.fs.allocateTargetId(i).next(h=>(o=new aa(e,h,0,i.currentSequenceNumber),t.fs.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.ui.get(i.targetId);return(null===o||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function dc(n,e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,xe.Z)(function*(n,e,t){const i=yt(n),o=i.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ka(h))throw h;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.ui=i.ui.remove(e),i.ai.delete(o.target)}),Kf.apply(this,arguments)}function Yf(n,e,t){const i=yt(n);let o=cn.min(),l=fi();return i.persistence.runTransaction("Execute query","readonly",h=>function(_,E,S){const $=yt(_),te=$.ai.get(S);return void 0!==te?Ze.resolve($.ui.get(te)):$.fs.getTargetData(E,S)}(i,h,uo(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(h,_.targetId).next(E=>{l=E})}).next(()=>i.oi.Qs(h,e,t?o:cn.min(),t?l:fi())).next(_=>(ay(i,w0(e),_),{documents:_,_i:l})))}function sy(n,e){const t=yt(n),i=yt(t.fs),o=t.ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,e).next(h=>h?h.target:null))}function oy(n,e){const t=yt(n),i=t.ci.get(e)||cn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.hi.getAllFromCollectionGroup(o,e,g_(i,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ay(t,e,o),o))}function ay(n,e,t){let i=cn.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ci.set(e,i)}function Vg(){return Vg=(0,xe.Z)(function*(n,e,t,i){const o=yt(n);let l=fi(),h=za();for(const S of t){const $=e.wi(S.metadata.name);S.document&&(l=l.add($));const te=e.mi(S);te.setReadTime(e.gi(S.metadata.readTime)),h=h.insert($,te)}const _=o.hi.newChangeBuffer({trackRemovals:!0}),E=yield hd(o,(S=i,uo(sh(si.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>hw(S,_,h).next($=>(_.apply(S),$)).next($=>o.fs.removeMatchingKeysForTargetId(S,E.targetId).next(()=>o.fs.addMatchingKeys(S,l,E.targetId)).next(()=>o.fi.Gs(S,$)).next(()=>$)))}),Vg.apply(this,arguments)}function gw(n,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,xe.Z)(function*(n,e,t=fi()){const i=yield hd(n,uo(Mg(e.bundledQuery))),o=yt(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Ps(e.readTime);if(i.snapshotVersion.compareTo(h)>=0)return o._s.saveNamedQuery(l,e);const _=i.withResumeToken(ys.EMPTY_BYTE_STRING,h);return o.ui=o.ui.insert(_.targetId,_),o.fs.updateTargetData(l,_).next(()=>o.fs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>o.fs.addMatchingKeys(l,t,i.targetId)).next(()=>o._s.saveNamedQuery(l,e))})}),Ug.apply(this,arguments)}class HI{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Ze.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:Ps(i.createTime)}),Ze.resolve()}getNamedQuery(e,t){return Ze.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:Mg(i.bundledQuery),readTime:Ps(i.readTime)}),Ze.resolve();var i}}class bC{constructor(){this.overlays=new ts(wt.comparator),this.Ii=new Map}getOverlay(e,t){return Ze.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Xt(e,t,l)}),Ze.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ii.get(i);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(i)),Ze.resolve()}getOverlaysForCollection(e,t,i){const o=Tg(),l=t.length+1,h=new wt(t.child("")),_=this.overlays.getIteratorFrom(h);for(;_.hasNext();){const E=_.getNext().value,S=E.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&E.largestBatchId>i&&o.set(E.getKey(),E)}return Ze.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ts((S,$)=>S-$);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>i){let $=l.get(S.largestBatchId);null===$&&($=Tg(),l=l.insert(S.largestBatchId,$)),$.set(S.getKey(),S)}}const _=Tg(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((S,$)=>_.set(S,$)),!(_.size()>=o)););return Ze.resolve(_)}Xt(e,t,i){if(null===i)return;const o=this.overlays.get(i.key);if(null!==o){const h=this.Ii.get(o.largestBatchId).delete(i.key);this.Ii.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new rc(t,i));let l=this.Ii.get(t);void 0===l&&(l=fi(),this.Ii.set(t,l)),this.Ii.set(t,l.add(i.key))}}class ly{constructor(){this.Ti=new Qi(bs.Ei),this.Ai=new Qi(bs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new bs(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new bs(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new wt(new si([])),i=new bs(t,e),o=new bs(t,e+1),l=[];return this.Ai.forEachInRange([i,o],h=>{this.Pi(h),l.push(h.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new wt(new si([])),i=new bs(t,e),o=new bs(t,e+1);let l=fi();return this.Ai.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new bs(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class bs{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return wt.comparator(e.key,t.key)||In(e.Ci,t.Ci)}static Ri(e,t){return In(e.Ci,t.Ci)||wt.comparator(e.key,t.key)}}class EC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Qi(bs.Ei)}checkEmpty(e){return Ze.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,o){const l=this.xi;this.xi++;const h=new nc(l,t,i,o);this.Bs.push(h);for(const _ of o)this.Ni=this.Ni.add(new bs(_.key,l)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return Ze.resolve(h)}lookupMutationBatch(e,t){return Ze.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Mi(t+1),l=o<0?0:o;return Ze.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Ze.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bs(t,0),o=new bs(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([i,o],h=>{const _=this.ki(h.Ci);l.push(_)}),Ze.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qi(In);return t.forEach(o=>{const l=new bs(o,0),h=new bs(o,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,h],_=>{i=i.add(_.Ci)})}),Ze.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;wt.isDocumentKey(l)||(l=l.child(""));const h=new bs(new wt(l),0);let _=new Qi(In);return this.Ni.forEachWhile(E=>{const S=E.key.path;return!!i.isPrefixOf(S)&&(S.length===o&&(_=_.add(E.Ci)),!0)},h),Ze.resolve(this.Oi(_))}Oi(e){const t=[];return e.forEach(i=>{const o=this.ki(i);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){fn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return Ze.forEach(t.mutations,o=>{const l=new bs(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new bs(t,0),o=this.Ni.firstAfterOrEqual(i);return Ze.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ze.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Es{constructor(e){this.$i=e,this.docs=new ts(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ze.resolve(i?i.document.mutableCopy():Yi.newInvalidDocument(t))}getEntries(e,t){let i=za();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Yi.newInvalidDocument(o))}),Ze.resolve(i)}getAllFromCollection(e,t,i){let o=za();const l=new wt(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:_,value:{document:E}}=h.getNext();if(!t.isPrefixOf(_.path))break;_.path.length>t.length+1||$E(HE(E),i)<=0||(o=o.insert(E.key,E.mutableCopy()))}return Ze.resolve(o)}getAllFromCollectionGroup(e,t,i,o){Bt()}Bi(e,t){return Ze.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mw(this)}getSize(e){return Ze.resolve(this.size)}}class mw extends vC{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(i)}),Ze.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class CC{constructor(e){this.persistence=e,this.Li=new Pl(t=>ih(t),Qc),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ly,this.targetCount=0,this.Ki=dd.gn()}forEachTarget(e,t){return this.Li.forEach((i,o)=>t(o)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),Ze.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new dd(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ze.resolve()}updateTargetData(e,t){return this.Tn(t),Ze.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Li.forEach((h,_)=>{_.sequenceNumber<=t&&null===i.get(_.targetId)&&(this.Li.delete(h),l.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),Ze.waitFor(l).next(()=>o)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return Ze.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),Ze.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Ze.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Ze.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return Ze.resolve(i)}containsKey(e,t){return Ze.resolve(this.qi.containsKey(t))}}class TC{constructor(e,t){this.Gi={},this.overlays={},this.es=new xo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new CC(this),this.indexManager=new H_,this.ds=new Es(i=>this.referenceDelegate.Qi(i)),this.M=new ad(t),this._s=new HI(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new EC(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){ht("MemoryPersistence","Starting transaction:",e);const o=new _w(this.es.next());return this.referenceDelegate.ji(),i(o).next(l=>this.referenceDelegate.Wi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}zi(e,t){return Ze.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class _w extends Q0{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Hi=new ly,this.Ji=null}static Yi(e){return new uy(e)}get Xi(){if(this.Ji)return this.Ji;throw Bt()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),Ze.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),Ze.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Ze.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(o=>this.Xi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Xi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.Xi,i=>{const o=wt.fromPath(i);return this.Zi(e,o).next(l=>{l||t.removeEntry(o,cn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Ze.or([()=>Ze.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function cy(n,e){return`firestore_clients_${n}_${e}`}function dy(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function hc(n,e){return`firestore_targets_${n}_${e}`}class Bg{constructor(e,t,i,o){this.user=e,this.batchId=t,this.state=i,this.error=o}static tr(e,t,i){const o=JSON.parse(i);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new ot(o.error.code,o.error.message))),h?new Bg(e,t,o.state,l):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qf{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static tr(e,t){const i=JSON.parse(t);let o,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(o=new ot(i.error.code,i.error.message))),l?new Qf(e,i.state,o):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const i=JSON.parse(t);let o="object"==typeof i&&i.activeTargetIds instanceof Array,l=Rf();for(let h=0;o&&h<i.activeTargetIds.length;++h)o=Tn(i.activeTargetIds[h]),l=l.add(i.activeTargetIds[h]);return o?new Jf(e,l):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hy{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hy(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jg{constructor(){this.activeTargetIds=Rf()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yw{constructor(e,t,i,o,l){this.window=e,this.Yn=t,this.persistenceKey=i,this.ir=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ts(In),this.started=!1,this.cr=[];const h=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=cy(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new jg),this.dr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(_){return`firestore_bundle_loaded_v2_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.ir)continue;const l=e.getItem(cy(e.persistenceKey,o));if(l){const h=Jf.tr(o,l);h&&(e.ar=e.ar.insert(h.clientId,h))}}e.yr();const i=e.storage.getItem(e.mr);if(i){const o=e.pr(i);o&&e.Ir(o)}for(const o of e.cr)e.ur(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,i){this.Er(e,t,i),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(hc(this.persistenceKey,e));if(i){const o=Qf.tr(e,i);o&&(t=o.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hc(this.persistenceKey,e))}updateQueryState(e,t,i){this.br(e,t,i)}handleUserChange(e,t,i){t.forEach(o=>{this.Ar(o)}),this.currentUser=e,i.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ht("SharedClientState","READ",e,t),t}setItem(e,t){ht("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ht("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ht("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,xe.Z)(function*(){if(t.started){if(null!==i.key)if(t.dr.test(i.key)){if(null==i.newValue){const o=t.vr(i.key);return t.Sr(o,null)}{const o=t.Dr(i.key,i.newValue);if(o)return t.Sr(o.clientId,o)}}else if(t._r.test(i.key)){if(null!==i.newValue){const o=t.Cr(i.key,i.newValue);if(o)return t.Nr(o)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const o=t.kr(i.key,i.newValue);if(o)return t.Mr(o)}}else if(i.key===t.mr){if(null!==i.newValue){const o=t.pr(i.newValue);if(o)return t.Ir(o)}}else if(i.key===t.lr){const o=function(l){let h=xo.A;if(null!=l)try{const _=JSON.parse(l);fn("number"==typeof _),h=_}catch(_){Br("SharedClientState","Failed to read sequence number from WebStorage",_)}return h}(i.newValue);o!==xo.A&&t.sequenceNumberHandler(o)}else if(i.key===t.gr){const o=t.Or(i.newValue);yield Promise.all(o.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,i){const o=new Bg(this.currentUser,e,t,i),l=dy(this.persistenceKey,this.currentUser,e);this.setItem(l,o.er())}Ar(e){const t=dy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,i){const o=hc(this.persistenceKey,e),l=new Qf(e,t,i);this.setItem(o,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const i=this.vr(e);return Jf.tr(i,t)}Cr(e,t){const i=this._r.exec(e),o=Number(i[1]);return Bg.tr(new ms(void 0!==i[2]?i[2]:null),o,t)}kr(e,t){const i=this.wr.exec(e),o=Number(i[1]);return Qf.tr(o,t)}pr(e){return hy.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);ht("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),o=this.Tr(this.ar),l=this.Tr(i),h=[],_=[];return l.forEach(E=>{o.has(E)||h.push(E)}),o.forEach(E=>{l.has(E)||_.push(E)}),this.syncEngine.Lr(h,_).then(()=>{this.ar=i})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Rf();return e.forEach((i,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Hg{constructor(){this.Ur=new jg,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new jg,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fy{Kr(e){}shutdown(){}}class Ia{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const IC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vw{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Nl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,o,l){const h=this.ho(e,t);ht("RestConnection","Sending: ",h,i);const _={};return this.lo(_,o,l),this.fo(e,h,_,i).then(E=>(ht("RestConnection","Received: ",E),E),E=>{throw qc("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",i),E})}_o(e,t,i,o,l){return this.co(e,t,i,o,l)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}ho(e,t){return`${this.uo}/v1/${t}:${IC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,o){return new Promise((l,h)=>{const _=new pf;_.listenOnce(du.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Jd.NO_ERROR:const S=_.getResponseJson();ht("Connection","XHR received:",JSON.stringify(S)),l(S);break;case Jd.TIMEOUT:ht("Connection",'RPC "'+e+'" timed out'),h(new ot(We.DEADLINE_EXCEEDED,"Request time out"));break;case Jd.HTTP_ERROR:const $=_.getStatus();if(ht("Connection",'RPC "'+e+'" failed with status:',$,"response text:",_.getResponseText()),$>0){const te=_.getResponseJson().error;if(te&&te.status&&te.message){const we=function(Ue){const Pe=Ue.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(Pe)>=0?Pe:We.UNKNOWN}(te.status);h(new ot(we,te.message))}else h(new ot(We.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new ot(We.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{ht("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);_.send(t,"POST",E,i,15)})}wo(e,t,i){const o=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Gu(),h=ff(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new lg({})),this.lo(_.initMessageHeaders,t,i),(0,Dt.uI)()||(0,Dt.b$)()||(0,Dt.d)()||(0,Dt.w1)()||(0,Dt.Mn)()||(0,Dt.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");ht("Connection","Creating WebChannel: "+E,_);const S=l.createWebChannel(E,_);let $=!1,te=!1;const we=new vw({Jr:Pe=>{te?ht("Connection","Not sending because WebChannel is closed:",Pe):($||(ht("Connection","Opening WebChannel transport."),S.open(),$=!0),ht("Connection","WebChannel sending:",Pe),S.send(Pe))},Yr:()=>S.close()}),Ue=(Pe,Xe,ut)=>{Pe.listen(Xe,Kt=>{try{ut(Kt)}catch(on){setTimeout(()=>{throw on},0)}})};return Ue(S,hu.EventType.OPEN,()=>{te||ht("Connection","WebChannel transport opened.")}),Ue(S,hu.EventType.CLOSE,()=>{te||(te=!0,ht("Connection","WebChannel transport closed"),we.ro())}),Ue(S,hu.EventType.ERROR,Pe=>{te||(te=!0,qc("Connection","WebChannel transport errored:",Pe),we.ro(new ot(We.UNAVAILABLE,"The operation could not be completed")))}),Ue(S,hu.EventType.MESSAGE,Pe=>{var Xe;if(!te){const ut=Pe.data[0];fn(!!ut);const Kt=ut,on=Kt.error||(null===(Xe=Kt[0])||void 0===Xe?void 0:Xe.error);if(on){ht("Connection","WebChannel received error:",on);const Ht=on.status;let At=function(gn){const ni=mr[gn];if(void 0!==ni)return Cg(ni)}(Ht),pn=on.message;void 0===At&&(At=We.INTERNAL,pn="Unknown error status: "+Ht+" with message "+on.message),te=!0,we.ro(new ot(At,pn)),S.close()}else ht("Connection","WebChannel received:",ut),we.oo(ut)}}),Ue(h,Xd.STAT_EVENT,Pe=>{Pe.stat===zc.PROXY?ht("Connection","Detected buffering proxy"):Pe.stat===zc.NOPROXY&&ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{we.io()},0),we}}function Da(){return"undefined"!=typeof window?window:null}function ko(){return"undefined"!=typeof document?document:null}function vh(n){return new D_(n,!0)}class $g{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=o,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-i);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ww{constructor(e,t,i,o,l,h,_,E){this.Yn=e,this.Vo=i,this.vo=o,this.So=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=_,this.listener=E,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new $g(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,xe.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,xe.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,xe.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===We.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===We.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Do===t&&this.Qo(i,o)},i=>{e(()=>{const o=new ot(We.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(o)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(o=>{i(()=>this.jo(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.No.Ro((0,xe.Z)(function*(){e.state=0,e.start()}))}jo(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends ww{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function rC(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Bt(),o=e.targetChange.targetIds||[],l=function(E,S){return E.N?(fn(void 0===S||"string"==typeof S),ys.fromBase64String(S||"")):(fn(void 0===S||S instanceof Uint8Array),ys.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&function(E){const S=void 0===E.code?We.UNKNOWN:Cg(E.code);return new ot(S,E.message||"")}(h);t=new F0(i,o,l,_||null)}else if("documentChange"in e){const i=e.documentChange,o=qa(n,i.document.name),l=Ps(i.document.updateTime),h=new Js({mapValue:{fields:i.document.fields}}),_=Yi.newFoundDocument(o,l,h);t=new id(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,o=qa(n,i.document),l=i.readTime?Ps(i.readTime):cn.min(),h=Yi.newNoDocument(o,l);t=new id([],i.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const i=e.documentRemove,o=qa(n,i.document);t=new id([],i.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Bt();{const i=e.filter,l=new XE(i.count||0);t=new k0(i.targetId,l)}}var E;return t}(this.M,e),i=function(o){if(!("targetChange"in o))return cn.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?cn.min():l.readTime?Ps(l.readTime):cn.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=Lf(this.M),t.addTarget=function(o,l){let h;const _=l.target;return h=pg(_)?{documents:M_(o,_)}:{query:O_(o,_)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=S_(o,l.resumeToken):l.snapshotVersion.compareTo(cn.min())>0&&(h.readTime=uh(o,l.snapshotVersion.toTimestamp())),h}(this.M,e);const i=function j0(n,e){const t=function(i,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=Lf(this.M),t.removeTarget=e,this.Lo(t)}}class SC extends ww{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function x_(n,e){return n&&n.length>0?(fn(void 0!==e),n.map(t=>function(i,o){let l=Ps(i.updateTime?i.updateTime:o);return l.isEqual(cn.min())&&(l=Ps(o)),new QE(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ps(e.commitTime);return this.listener.tu(i,t)}return fn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Lf(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Vf(this.M,i))};this.Lo(t)}}class AC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=o,this.su=!1}iu(){if(this.su)throw new ot(We.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.So.co(e,t,i,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ot(We.UNKNOWN,o.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.So._o(e,t,i,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ot(We.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class py{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Br(t),this.uu=!1):ht("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Xf{constructor(e,t,i,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(_=>{i.enqueueAndForget((0,xe.Z)(function*(){var E;Qa(h)&&(ht("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,xe.Z)(function*(S){const $=yt(S);$.wu.add(4),yield wh($),$.yu.set("Unknown"),$.wu.delete(4),yield ep($)}),function(S){return E.apply(this,arguments)})(h))}))}),this.yu=new py(i,o)}}function ep(n){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,xe.Z)(function*(n){if(Qa(n))for(const e of n.mu)yield e(!0)}),Gg.apply(this,arguments)}function wh(n){return zg.apply(this,arguments)}function zg(){return zg=(0,xe.Z)(function*(n){for(const e of n.mu)yield e(!1)}),zg.apply(this,arguments)}function tp(n,e){const t=yt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),np(t)?qg(t):fd(t).Mo()&&gy(t,e))}function fc(n,e){const t=yt(n),i=fd(t);t._u.delete(e),i.Mo()&&my(t,e),0===t._u.size&&(i.Mo()?i.$o():Qa(t)&&t.yu.set("Unknown"))}function gy(n,e){n.pu.Z(e.targetId),fd(n).Ho(e)}function my(n,e){n.pu.Z(e),fd(n).Jo(e)}function qg(n){n.pu=new T_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),fd(n).start(),n.yu.au()}function np(n){return Qa(n)&&!fd(n).ko()&&n._u.size>0}function Qa(n){return 0===yt(n).wu.size}function Zg(n){n.pu=void 0}function bw(n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,xe.Z)(function*(n){n._u.forEach((e,t)=>{gy(n,e)})}),Wg.apply(this,arguments)}function Ew(n,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,xe.Z)(function*(n,e){Zg(n),np(n)?(n.yu.lu(e),qg(n)):n.yu.set("Unknown")}),Kg.apply(this,arguments)}function Cw(n,e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,xe.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof F0&&2===e.state&&e.cause)try{yield(i=(0,xe.Z)(function*(o,l){const h=l.cause;for(const _ of l.targetIds)o._u.has(_)&&(yield o.remoteSyncer.rejectListen(_,h),o._u.delete(_),o.pu.removeTarget(_))}),function(o,l){return i.apply(this,arguments)})(n,e)}catch(i){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ip(n,i)}else if(e instanceof id?n.pu.ut(e):e instanceof k0?n.pu._t(e):n.pu.ht(e),!t.isEqual(cn.min()))try{const i=yield Lg(n.localStore);t.compareTo(i)>=0&&(yield function(o,l){const h=o.pu.yt(l);return h.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const S=o._u.get(E);S&&o._u.set(E,S.withResumeToken(_.resumeToken,l))}}),h.targetMismatches.forEach(_=>{const E=o._u.get(_);if(!E)return;o._u.set(_,E.withResumeToken(ys.EMPTY_BYTE_STRING,E.snapshotVersion)),my(o,_);const S=new aa(E.target,_,1,E.sequenceNumber);gy(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(i){ht("RemoteStore","Failed to raise snapshot:",i),yield ip(n,i)}var i}),Yg.apply(this,arguments)}function ip(n,e,t){return _y.apply(this,arguments)}function _y(){return _y=(0,xe.Z)(function*(n,e,t){if(!Ka(e))throw e;n.wu.add(1),yield wh(n),n.yu.set("Offline"),t||(t=()=>Lg(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){ht("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield ep(n)}))}),_y.apply(this,arguments)}function Tw(n,e){return e().catch(t=>ip(n,t,e))}function bh(n){return yy.apply(this,arguments)}function yy(){return yy=(0,xe.Z)(function*(n){const e=yt(n),t=_u(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;xC(e);)try{const o=yield fw(e.localStore,i);if(null===o){0===e.du.length&&t.$o();break}i=o.batchId,MC(e,o)}catch(o){yield ip(e,o)}Iw(e)&&Dw(e)}),yy.apply(this,arguments)}function xC(n){return Qa(n)&&n.du.length<10}function MC(n,e){n.du.push(e);const t=_u(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Iw(n){return Qa(n)&&!_u(n).ko()&&n.du.length>0}function Dw(n){_u(n).start()}function OC(n){return vy.apply(this,arguments)}function vy(){return vy=(0,xe.Z)(function*(n){_u(n).nu()}),vy.apply(this,arguments)}function PC(n){return wy.apply(this,arguments)}function wy(){return wy=(0,xe.Z)(function*(n){const e=_u(n);for(const t of n.du)e.Zo(t.mutations)}),wy.apply(this,arguments)}function RC(n,e,t){return by.apply(this,arguments)}function by(){return by=(0,xe.Z)(function*(n,e,t){const i=n.du.shift(),o=ic.from(i,e,t);yield Tw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield bh(n)}),by.apply(this,arguments)}function NC(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,xe.Z)(function*(n,e){var t;e&&_u(n).Xo&&(yield(t=(0,xe.Z)(function*(i,o){if(O0(l=o.code)&&l!==We.ABORTED){const h=i.du.shift();_u(i).Fo(),yield Tw(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield bh(i)}var l}),function(i,o){return t.apply(this,arguments)})(n,e)),Iw(n)&&Dw(n)}),Ey.apply(this,arguments)}function Sw(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,xe.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const i=Qa(t);t.wu.add(3),yield wh(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield ep(t)}),Cy.apply(this,arguments)}function Qg(n,e){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,xe.Z)(function*(n,e){const t=yt(n);e?(t.wu.delete(2),yield ep(t)):e||(t.wu.add(2),yield wh(t),t.yu.set("Unknown"))}),Jg.apply(this,arguments)}function fd(n){return n.Iu||(n.Iu=function(e,t,i){const o=yt(e);return o.iu(),new DC(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,i)}(n.datastore,n.asyncQueue,{Xr:bw.bind(null,n),eo:Ew.bind(null,n),zo:Cw.bind(null,n)}),n.mu.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Iu.Fo(),np(n)?qg(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Zg(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function _u(n){return n.Tu||(n.Tu=function(e,t,i){const o=yt(e);return o.iu(),new SC(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,i)}(n.datastore,n.asyncQueue,{Xr:OC.bind(null,n),eo:NC.bind(null,n),eu:PC.bind(null,n),tu:RC.bind(null,n)}),n.mu.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Tu.Fo(),yield bh(n)):(yield n.Tu.stop(),n.du.length>0&&(ht("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class Xg{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,_=new Xg(e,t,h,o,l);return _.start(i),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pd(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Ka(n))return new ot(We.UNAVAILABLE,`${e}: ${n}`);throw n}class gd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||wt.comparator(t.key,i.key):(t,i)=>wt.comparator(t.key,i.key),this.keyedMap=Pf(),this.sortedSet=new ts(this.comparator)}static emptySet(e){return new gd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new gd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Ty{constructor(){this.Eu=new ts(wt.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Bt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class md{constructor(e,t,i,o,l,h,_,E){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,i,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new md(e,t,gd.emptySet(t),l,i,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}class Aw{constructor(){this.Ru=void 0,this.listeners=[]}}class xw{constructor(){this.queries=new Pl(e=>KE(e),oh),this.onlineState="Unknown",this.bu=new Set}}function yu(n,e){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,xe.Z)(function*(n,e){const t=yt(n),i=e.query;let o=!1,l=t.queries.get(i);if(l||(o=!0,l=new Aw),o)try{l.Ru=yield t.onListen(i)}catch(h){const _=pd(h,`Initialization of query '${yg(e.query)}' failed`);return void e.onError(_)}t.queries.set(i,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&Mw(t)}),Iy.apply(this,arguments)}function Dy(n,e){return pc.apply(this,arguments)}function pc(){return pc=(0,xe.Z)(function*(n,e){const t=yt(n),i=e.query;let o=!1;const l=t.queries.get(i);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(i),t.onUnlisten(i)}),pc.apply(this,arguments)}function $I(n,e){const t=yt(n);let i=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const _ of h.listeners)_.Vu(o)&&(i=!0);h.Ru=o}}i&&Mw(t)}function Sy(n,e,t){const i=yt(n),o=i.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);i.queries.delete(e)}function Mw(n){n.bu.forEach(e=>{e.next()})}class em{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)3!==o.type&&i.push(o);e=new md(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Ow{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class kC{constructor(e){this.M=e}wi(e){return qa(this.M,e)}mi(e){return e.metadata.exists?B0(this.M,e.document,!1):Yi.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Ps(e)}}class sn{constructor(e,t,i){this.Ou=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pw(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=si.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new kC(this.M);for(const o of e)if(o.metadata.queries){const l=i.wi(o.metadata.name);for(const h of o.metadata.queries){const _=(t.get(h)||fi()).add(l);t.set(h,_)}}return t}complete(){var e=this;return(0,xe.Z)(function*(){const t=yield function pw(n,e,t,i){return Vg.apply(this,arguments)}(e.localStore,new kC(e.M),e.documents,e.Ou.id),i=e.$u(e.documents);for(const o of e.queries)yield gw(e.localStore,o,i.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Pw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Rw{constructor(e){this.key=e}}class Nw{constructor(e){this.key=e}}class rp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=fi(),this.mutatedKeys=fi(),this.Gu=v_(e),this.Qu=new gd(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new Ty,o=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,_=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,S="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(($,te)=>{const we=o.get($),Ue=vg(this.query,te)?te:null,Pe=!!we&&this.mutatedKeys.has(we.key),Xe=!!Ue&&(Ue.hasLocalMutations||this.mutatedKeys.has(Ue.key)&&Ue.hasCommittedMutations);let ut=!1;we&&Ue?we.data.isEqual(Ue.data)?Pe!==Xe&&(i.track({type:3,doc:Ue}),ut=!0):this.Hu(we,Ue)||(i.track({type:2,doc:Ue}),ut=!0,(E&&this.Gu(Ue,E)>0||S&&this.Gu(Ue,S)<0)&&(_=!0)):!we&&Ue?(i.track({type:0,doc:Ue}),ut=!0):we&&!Ue&&(i.track({type:1,doc:we}),ut=!0,(E||S)&&(_=!0)),ut&&(Ue?(h=h.add(Ue),l=Xe?l.add($):l.delete($)):(h=h.delete($),l=l.delete($)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const $="F"===this.query.limitType?h.last():h.first();h=h.delete($.key),l=l.delete($.key),i.track({type:1,doc:$})}return{Qu:h,zu:i,ii:_,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((S,$)=>function(te,we){const Ue=Pe=>{switch(Pe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Ue(te)-Ue(we)}(S.type,$.type)||this.Gu(S.doc,$.doc)),this.Ju(i);const h=t?this.Yu():[],_=0===this.Ku.size&&this.current?1:0,E=_!==this.qu;return this.qu=_,0!==l.length||E?{snapshot:new md(this.query,e.Qu,o,l,e.mutatedKeys,0===_,E,!1),Xu:h}:{Xu:h}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Ty,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=fi(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Nw(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new Rw(i))}),t}ta(e){this.Uu=e._i,this.Ku=fi();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return md.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class FC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tm{constructor(e){this.key=e,this.na=!1}}class nm{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.sa={},this.ia=new Pl(_=>KE(_),oh),this.ra=new Map,this.oa=new Set,this.ua=new ts(wt.comparator),this.aa=new Map,this.ca=new ly,this.ha={},this.la=new Map,this.fa=dd.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Mr(n,e){return kw.apply(this,arguments)}function kw(){return kw=(0,xe.Z)(function*(n,e){const t=jy(n);let i,o;const l=t.ia.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),o=l.view.ea();else{const h=yield hd(t.localStore,uo(e));t.isPrimaryClient&&tp(t.remoteStore,h);const _=t.sharedClientState.addLocalQueryTarget(h.targetId);i=h.targetId,o=yield im(t,e,i,"current"===_)}return o}),kw.apply(this,arguments)}function im(n,e,t,i){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,xe.Z)(function*(n,e,t,i){n._a=($,te,we)=>{return(Ue=(0,xe.Z)(function*(Pe,Xe,ut,Kt){let on=Xe.view.Wu(ut);on.ii&&(on=yield Yf(Pe.localStore,Xe.query,!1).then(({documents:pn})=>Xe.view.Wu(pn,on)));const Ht=Kt&&Kt.targetChanges.get(Xe.targetId),At=Xe.view.applyChanges(on,Pe.isPrimaryClient,Ht);return Ry(Pe,Xe.targetId,At.Xu),At.snapshot}),function(Pe,Xe,ut,Kt){return Ue.apply(this,arguments)})(n,$,te,we);var Ue};const o=yield Yf(n.localStore,e,!0),l=new rp(e,o._i),h=l.Wu(o.documents),_=sa.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),E=l.applyChanges(h,n.isPrimaryClient,_);Ry(n,t,E.Xu);const S=new FC(e,t,l);return n.ia.set(e,S),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),E.snapshot}),Ay.apply(this,arguments)}function LC(n,e){return rm.apply(this,arguments)}function rm(){return rm=(0,xe.Z)(function*(n,e){const t=yt(n),i=t.ia.get(e),o=t.ra.get(i.targetId);if(o.length>1)return t.ra.set(i.targetId,o.filter(l=>!oh(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dc(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),fc(t.remoteStore,i.targetId),kl(t,i.targetId)}).catch(uc))):(kl(t,i.targetId),yield dc(t.localStore,i.targetId,!0))}),rm.apply(this,arguments)}function sm(){return sm=(0,xe.Z)(function*(n,e,t){const i=um(n);try{const o=yield function(l,h){const _=yt(l),E=xr.now(),S=h.reduce((te,we)=>te.add(we.key),fi());let $;return _.persistence.runTransaction("Locally write mutations","readwrite",te=>_.fi.Ks(te,S).next(we=>{$=we;const Ue=[];for(const Pe of h){const Xe=E_(Pe,$.get(Pe.key));null!=Xe&&Ue.push(new ec(Pe.key,Xe,f0(Xe.value.mapValue),ns.exists(!0)))}return _.Bs.addMutationBatch(te,E,Ue,h)})).then(te=>(te.applyToLocalDocumentSet($),{batchId:te.batchId,changes:$}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(l,h,_){let E=l.ha[l.currentUser.toKey()];E||(E=new ts(In)),E=E.insert(h,_),l.ha[l.currentUser.toKey()]=E}(i,o.batchId,t),yield Fl(i,o.changes),yield bh(i.remoteStore)}catch(o){const l=pd(o,"Failed to persist write");t.reject(l)}}),sm.apply(this,arguments)}function xy(n,e){return My.apply(this,arguments)}function My(){return My=(0,xe.Z)(function*(n,e){const t=yt(n);try{const i=yield dw(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.aa.get(l);h&&(fn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.na=!0:o.modifiedDocuments.size>0?fn(h.na):o.removedDocuments.size>0&&(fn(h.na),h.na=!1))}),yield Fl(t,i,e)}catch(i){yield uc(i)}}),My.apply(this,arguments)}function Lw(n,e,t){const i=yt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const o=[];i.ia.forEach((l,h)=>{const _=h.view.Pu(e);_.snapshot&&o.push(_.snapshot)}),function(l,h){const _=yt(l);_.onlineState=h;let E=!1;_.queries.forEach((S,$)=>{for(const te of $.listeners)te.Pu(h)&&(E=!0)}),E&&Mw(_)}(i.eventManager,e),o.length&&i.sa.zo(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function VC(n,e,t){return _d.apply(this,arguments)}function _d(){return _d=(0,xe.Z)(function*(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.aa.get(e),l=o&&o.key;if(l){let h=new ts(wt.comparator);h=h.insert(l,Yi.newNoDocument(l,cn.min()));const _=fi().add(l),E=new lh(cn.min(),new Map,new Qi(In),h,_);yield xy(i,E),i.ua=i.ua.remove(l),i.aa.delete(e),Ny(i)}else yield dc(i.localStore,e,!1).then(()=>kl(i,e,t)).catch(uc)}),_d.apply(this,arguments)}function UC(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,xe.Z)(function*(n,e){const t=yt(n),i=e.batch.batchId;try{const o=yield cw(t.localStore,e);Py(t,i,null),am(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Fl(t,o)}catch(o){yield uc(o)}}),Oy.apply(this,arguments)}function BC(n,e,t){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,xe.Z)(function*(n,e,t){const i=yt(n);try{const o=yield function(l,h){const _=yt(l);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let S;return _.Bs.lookupMutationBatch(E,h).next($=>(fn(null!==$),S=$.keys(),_.Bs.removeMutationBatch(E,$))).next(()=>_.Bs.performConsistencyCheck(E)).next(()=>_.fi.Ks(E,S))})}(i.localStore,e);Py(i,e,t),am(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Fl(i,o)}catch(o){yield uc(o)}}),Eh.apply(this,arguments)}function om(){return om=(0,xe.Z)(function*(n,e){const t=yt(n);Qa(t.remoteStore)||ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const h=yt(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>h.Bs.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===i)return void e.resolve();const o=t.la.get(i)||[];o.push(e),t.la.set(i,o)}catch(i){const o=pd(i,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),om.apply(this,arguments)}function am(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function Py(n,e,t){const i=yt(n);let o=i.ha[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.ha[i.currentUser.toKey()]=o}}function kl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||Ch(n,i)})}function Ch(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(fc(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),Ny(n))}function Ry(n,e,t){for(const i of t)i instanceof Rw?(n.ca.addReference(i.key,e),jC(n,i)):i instanceof Nw?(ht("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||Ch(n,i.key)):Bt()}function jC(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(ht("SyncEngine","New document in limbo: "+t),n.oa.add(i),Ny(n))}function Ny(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new wt(si.fromString(e)),i=n.fa.next();n.aa.set(i,new tm(t)),n.ua=n.ua.insert(t,i),tp(n.remoteStore,new aa(uo(sh(t.path)),i,2,xo.A))}}function Fl(n,e,t){return lm.apply(this,arguments)}function lm(){return lm=(0,xe.Z)(function*(n,e,t){const i=yt(n),o=[],l=[],h=[];var _;i.ia.isEmpty()||(i.ia.forEach((_,E)=>{h.push(i._a(E,e,t).then(S=>{if(S){i.isPrimaryClient&&i.sharedClientState.updateQueryState(E.targetId,S.fromCache?"not-current":"current"),o.push(S);const $=kg.Ys(E.targetId,S);l.push($)}}))}),yield Promise.all(h),i.sa.zo(o),yield(_=(0,xe.Z)(function*(E,S){const $=yt(E);try{yield $.persistence.runTransaction("notifyLocalViewChanges","readwrite",te=>Ze.forEach(S,we=>Ze.forEach(we.Hs,Ue=>$.persistence.referenceDelegate.addReference(te,we.targetId,Ue)).next(()=>Ze.forEach(we.Js,Ue=>$.persistence.referenceDelegate.removeReference(te,we.targetId,Ue)))))}catch(te){if(!Ka(te))throw te;ht("LocalStore","Failed to update sequence numbers: "+te)}for(const te of S){const we=te.targetId;if(!te.fromCache){const Ue=$.ui.get(we),Xe=Ue.withLastLimboFreeSnapshotVersion(Ue.snapshotVersion);$.ui=$.ui.insert(we,Xe)}}}),function(E,S){return _.apply(this,arguments)})(i.localStore,l))}),lm.apply(this,arguments)}function Uw(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,xe.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const i=yield uw(t.localStore,e);t.currentUser=e,(o=t).la.forEach(h=>{h.forEach(_=>{_.reject(new ot(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fl(t,i.di)}var o}),ky.apply(this,arguments)}function Bw(n,e){const t=yt(n),i=t.aa.get(e);if(i&&i.na)return fi().add(i.key);{let o=fi();const l=t.ra.get(e);if(!l)return o;for(const h of l){const _=t.ia.get(h);o=o.unionWith(_.view.ju)}return o}}function HC(n,e){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,xe.Z)(function*(n,e){const t=yt(n),i=yield Yf(t.localStore,e.query,!0),o=e.view.ta(i);return t.isPrimaryClient&&Ry(t,e.targetId,o.Xu),o}),Fy.apply(this,arguments)}function GI(n,e){return jw.apply(this,arguments)}function jw(){return jw=(0,xe.Z)(function*(n,e){const t=yt(n);return oy(t.localStore,e).then(i=>Fl(t,i))}),jw.apply(this,arguments)}function zI(n,e,t,i){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,xe.Z)(function*(n,e,t,i){const o=yt(n),l=yield function(h,_){const E=yt(h),S=yt(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",$=>S.fn($,_).next(te=>te?E.fi.Ks($,te):Ze.resolve(null)))}(o.localStore,e);var _;null!==l?("pending"===t?yield bh(o.remoteStore):"acknowledged"===t||"rejected"===t?(Py(o,e,i||null),am(o,e),_=e,yt(yt(o.localStore).Bs)._n(_)):Bt(),yield Fl(o,l)):ht("SyncEngine","Cannot apply mutation batch with id: "+e)}),Hw.apply(this,arguments)}function Th(){return Th=(0,xe.Z)(function*(n,e){const t=yt(n);if(jy(t),um(t),!0===e&&!0!==t.da){const i=t.sharedClientState.getAllActiveQueryTargets(),o=yield Gw(t,i.toArray());t.da=!0,yield Qg(t.remoteStore,!0);for(const l of o)tp(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const i=[];let o=Promise.resolve();t.ra.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?i.push(h):o=o.then(()=>(kl(t,h),dc(t.localStore,h,!0))),fc(t.remoteStore,h)}),yield o,yield Gw(t,i),function(l){const h=yt(l);h.aa.forEach((_,E)=>{fc(h.remoteStore,E)}),h.ca.Si(),h.aa=new Map,h.ua=new ts(wt.comparator)}(t),t.da=!1,yield Qg(t.remoteStore,!1)}}),Th.apply(this,arguments)}function Gw(n,e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,xe.Z)(function*(n,e,t){const i=yt(n),o=[],l=[];for(const h of e){let _;const E=i.ra.get(h);if(E&&0!==E.length){_=yield hd(i.localStore,uo(E[0]));for(const S of E){const $=i.ia.get(S),te=yield HC(i,$);te.snapshot&&l.push(te.snapshot)}}else{const S=yield sy(i.localStore,h);_=yield hd(i.localStore,S),yield im(i,Vy(S),h,!1)}o.push(_)}return i.sa.zo(l),o}),Ly.apply(this,arguments)}function Vy(n){return Xc(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sp(n){const e=yt(n);return yt(yt(e.localStore).persistence).Fs()}function $C(n,e,t,i){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,xe.Z)(function*(n,e,t,i){const o=yt(n);if(o.da)return void ht("SyncEngine","Ignoring unexpected query state notification.");const l=o.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield oy(o.localStore,w0(l[0])),_=lh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Fl(o,h,_);break}case"rejected":yield dc(o.localStore,e,!0),kl(o,e,i);break;default:Bt()}}),Uy.apply(this,arguments)}function GC(n,e,t){return By.apply(this,arguments)}function By(){return By=(0,xe.Z)(function*(n,e,t){const i=jy(n);if(i.da){for(const o of e){if(i.ra.has(o)){ht("SyncEngine","Adding an already active target "+o);continue}const l=yield sy(i.localStore,o),h=yield hd(i.localStore,l);yield im(i,Vy(l),h.targetId,!1),tp(i.remoteStore,h)}for(const o of t)i.ra.has(o)&&(yield dc(i.localStore,o,!1).then(()=>{fc(i.remoteStore,o),kl(i,o)}).catch(uc))}}),By.apply(this,arguments)}function jy(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VC.bind(null,e),e.sa.zo=$I.bind(null,e.eventManager),e.sa.wa=Sy.bind(null,e.eventManager),e}function um(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BC.bind(null,e),e}class zw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.M=vh(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return ry(this.persistence,new ny,e.initialUser,this.M)}ya(e){return new TC(uy.Yi,this.M)}ga(e){return new Hg}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yd extends zw{constructor(e,t,i){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e),yield i.Ta.initialize(i,e),yield um(i.Ta.syncEngine),yield bh(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(e){return ry(this.persistence,new ny,e.initialUser,this.M)}pa(e){return new Q_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=Ng(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new _h(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Da(),ko(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Hg}}class qC extends yd{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e);const o=i.Ta.syncEngine;i.sharedClientState instanceof yw&&(i.sharedClientState.syncEngine={$r:zI.bind(null,o),Br:$C.bind(null,o),Lr:GC.bind(null,o),Fs:sp.bind(null,o),Fr:GI.bind(null,o)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var l=(0,xe.Z)(function*(h){yield function $w(n,e){return Th.apply(this,arguments)}(i.Ta.syncEngine,h),i.gcScheduler&&(h&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):h||i.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}ga(e){const t=Da();if(!yw.vt(t))throw new ot(We.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Ng(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yw(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class cm{initialize(e,t){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=o=>Lw(i.syncEngine,o,1),i.remoteStore.remoteSyncer.handleCredentialChange=Uw.bind(null,i.syncEngine),yield Qg(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xw}createDatastore(e){const t=vh(e.databaseInfo.databaseId),i=new Nl(e.databaseInfo);return new AC(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,o=e.asyncQueue,l=_=>Lw(this.syncEngine,_,0),h=Ia.vt()?new Ia:new fy,new Xf(t,i,o,l,h);var t,i,o,l,h}createSyncEngine(e,t){return function(i,o,l,h,_,E,S){const $=new nm(i,o,l,h,_,E);return S&&($.da=!0),$}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const i=yt(t);ht("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield wh(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qw(n,e=10240){let t=0;return{read:()=>(0,xe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class op{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ZC{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Os,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Va();if(null===t)return null;const i=e.ba.decode(t),o=Number(i);isNaN(o)&&e.va(`length string (${i}) is not valid number`);const l=yield e.Sa(o);return new Ow(JSON.parse(l),t.length+o)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,xe.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Sa(e){var t=this;return(0,xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const i=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Zw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ot(We.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(o=(0,xe.Z)(function*(l,h){const _=yt(l),E=Lf(_.M)+"/documents",S={documents:h.map(Ue=>Ff(_.M,Ue))},$=yield _._o("BatchGetDocuments",E,S),te=new Map;$.forEach(Ue=>{const Pe=function iC(n,e){return"found"in e?function(t,i){fn(!!i.found);const o=qa(t,i.found.name),l=Ps(i.found.updateTime),h=new Js({mapValue:{fields:i.found.fields}});return Yi.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,i){fn(!!i.missing),fn(!!i.readTime);const o=qa(t,i.missing),l=Ps(i.readTime);return Yi.newNoDocument(o,l)}(n,e):Bt()}(_.M,Ue);te.set(Pe.key.toString(),Pe)});const we=[];return h.forEach(Ue=>{const Pe=te.get(Ue.toString());fn(!!Pe),we.push(Pe)}),we}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return i.forEach(o=>t.recordVersion(o)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new nd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,o)=>{const l=wt.fromPath(o);e.mutations.push(new C_(l,e.precondition(l)))}),yield(i=(0,xe.Z)(function*(o,l){const h=yt(o),_=Lf(h.M)+"/documents",E={writes:l.map(S=>Vf(h.M,S))};yield h.co("Commit",_,E)}),function(o,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bt();t=cn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ot(We.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ns.updateTime(t):ns.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cn.min()))throw new ot(We.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ns.updateTime(t)}return ns.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WC{constructor(e,t,i,o,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=o,this.deferred=l,this.xa=i.maxAttempts,this.No=new $g(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,xe.Z)(function*(){const t=new Zw(e.datastore),i=e.ka(t);i&&i.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Ma(l)}))}).catch(o=>{e.Ma(o)})}))}ka(e){try{const t=this.updateFunction(e);return!yf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!O0(t)}return!1}}class Hy{constructor(e,t,i,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=ms.UNAUTHENTICATED,this.clientId=u_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var h=(0,xe.Z)(function*(_){ht("FirestoreClient","Received user=",_.uid),yield l.authCredentialListener(_),l.user=_});return function(_){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(i,h=>(ht("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(We.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=pd(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Ww(n,e){return dm.apply(this,arguments)}function dm(){return dm=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,xe.Z)(function*(l){i.isEqual(l)||(yield uw(e.localStore,l),i=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dm.apply(this,arguments)}function $y(n,e){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zy(n);ht("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(o=>Sw(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>Sw(e.remoteStore,l)),n.onlineComponents=e}),Gy.apply(this,arguments)}function zy(n){return qy.apply(this,arguments)}function qy(){return qy=(0,xe.Z)(function*(n){return n.offlineComponents||(ht("FirestoreClient","Using default OfflineComponentProvider"),yield Ww(n,new zw)),n.offlineComponents}),qy.apply(this,arguments)}function Ih(n){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,xe.Z)(function*(n){return n.onlineComponents||(ht("FirestoreClient","Using default OnlineComponentProvider"),yield $y(n,new cm)),n.onlineComponents}),Zy.apply(this,arguments)}function Wy(n){return zy(n).then(e=>e.persistence)}function Ky(n){return zy(n).then(e=>e.localStore)}function Kw(n){return Ih(n).then(e=>e.remoteStore)}function Yy(n){return Ih(n).then(e=>e.syncEngine)}function Dh(n){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,xe.Z)(function*(n){const e=yield Ih(n),t=e.eventManager;return t.onListen=Mr.bind(null,e.syncEngine),t.onUnlisten=LC.bind(null,e.syncEngine),t}),Qy.apply(this,arguments)}function Jy(n,e,t={}){const i=new Os;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(o,l,h,_,E){const S=new op({next:te=>{l.enqueueAndForget(()=>Dy(o,$));const we=te.docs.has(h);!we&&te.fromCache?E.reject(new ot(We.UNAVAILABLE,"Failed to get document because the client is offline.")):we&&te.fromCache&&_&&"server"===_.source?E.reject(new ot(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(te)},error:te=>E.reject(te)}),$=new em(sh(h.path),S,{includeMetadataChanges:!0,ku:!0});return yu(o,$)}(yield Dh(n),n.asyncQueue,e,t,i)})),i.promise}function Qw(n,e,t={}){const i=new Os;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(o,l,h,_,E){const S=new op({next:te=>{l.enqueueAndForget(()=>Dy(o,$)),te.fromCache&&"server"===_.source?E.reject(new ot(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(te)},error:te=>E.reject(te)}),$=new em(h,S,{includeMetadataChanges:!0,ku:!0});return yu(o,$)}(yield Dh(n),n.asyncQueue,e,t,i)})),i.promise}const Xw=new Map;function ap(n,e,t){if(!t)throw new ot(We.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hm(n,e,t,i){if(!0===e&&!0===i)throw new ot(We.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xy(n){if(!wt.isDocumentKey(n))throw new ot(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fm(n){if(wt.isDocumentKey(n))throw new ot(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Bt()}function Yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ot(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(n);throw new ot(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gm(n,e){if(e<=0)throw new ot(We.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class eb{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ot(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eb({}),this._settingsFrozen=!1,e instanceof fu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ot(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(o.options.projectId)}(e))}get app(){if(!this._app)throw new ot(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eb(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VE;switch(t.type){case"gapi":const i=t.client;return fn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new s_(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ot(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xw.get(e);t&&(ht("ComponentProvider","Removing Datastore"),Xw.delete(e),t.terminate())}(this),Promise.resolve()}}class Fi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fi(this.firestore,e,this._key)}}class to{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Ja extends to{constructor(e,t,i){super(e,t,sh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fi(this.firestore,null,new wt(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function nT(n,e,...t){if(n=(0,Dt.m9)(n),ap("collection","path",e),n instanceof Sh){const i=si.fromString(e,...t);return fm(i),new Ja(n,null,i)}{if(!(n instanceof Fi||n instanceof Ja))throw new ot(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(si.fromString(e,...t));return fm(i),new Ja(n.firestore,null,i)}}function vd(n,e,...t){if(n=(0,Dt.m9)(n),1===arguments.length&&(e=u_.R()),ap("doc","path",e),n instanceof Sh){const i=si.fromString(e,...t);return Xy(i),new Fi(n,null,new wt(i))}{if(!(n instanceof Fi||n instanceof Ja))throw new ot(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(si.fromString(e,...t));return Xy(i),new Fi(n.firestore,n instanceof Ja?n.converter:null,new wt(i))}}function tb(n,e){return n=(0,Dt.m9)(n),e=(0,Dt.m9)(e),(n instanceof Fi||n instanceof Ja)&&(e instanceof Fi||e instanceof Ja)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function wd(n,e){return n=(0,Dt.m9)(n),e=(0,Dt.m9)(e),n instanceof to&&e instanceof to&&n.firestore===e.firestore&&oh(n._query,e._query)&&n.converter===e.converter}class lp{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new $g(this,"async_queue_retry"),this.Qa=()=>{const t=ko();t&&ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=ko();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=ko();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Os;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,xe.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Ka(t))throw t;ht("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,Br("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const o=Xg.createAndSchedule(this,e,t,i,l=>this.Ha(l));return this.La.push(o),o}ja(){this.Ua&&Bt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function ev(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class qI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Os,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class sr extends Sh{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new lp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tv(this),this._firestoreClient.terminate()}}function is(n){return n._firestoreClient||tv(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tv(n){var e;const t=n._freezeSettings(),i=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new d0(n._databaseId,l,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var l,_;n._firestoreClient=new Hy(n._authCredentials,n._appCheckCredentials,n._queue,i)}function up(n,e,t){const i=new Os;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield Ww(n,t),yield $y(n,e),i.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===We.FAILED_PRECONDITION||l.code===We.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var l})).then(()=>i.promise)}function ob(n){if(n._initialized||n._terminated)throw new ot(We.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ot(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _s(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(ys.fromBase64String(e))}catch(t){throw new ot(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ll(ys.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sa{constructor(e){this._methodName=e}}class dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ot(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ot(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return In(this._lat,e._lat)||In(this._long,e._long)}}const Ah=/^__.*__$/;class QI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eg(e,this.data,t,this.fieldTransforms)}}class rv{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ab(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class sv{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=o,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new sv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:i,ic:!1});return o.rc(e),o}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:i,ic:!1});return o.tc(),o}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return pp(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(ab(this.ec)&&Ah.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class lb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||vh(e)}lc(e,t,i,o=!1){return new sv({ec:e,methodName:t,hc:i,path:_s.emptyPath(),ic:!1,cc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xh(n){const e=n._freezeSettings(),t=vh(n._databaseId);return new lb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hp(n,e,t,i,o,l={}){const h=n.lc(l.merge||l.mergeFields?2:0,e,t,o);ym("Data must be an object, but it was:",h,i);const _=lv(i,h);let E,S;if(l.merge)E=new Zc(h.fieldMask),S=h.fieldTransforms;else if(l.mergeFields){const $=[];for(const te of l.mergeFields){const we=vm(e,te,t);if(!h.contains(we))throw new ot(We.INVALID_ARGUMENT,`Field '${we}' is specified in your field mask but missing from your input data.`);uv($,we)||$.push(we)}E=new Zc($),S=h.fieldTransforms.filter(te=>E.covers(te.field))}else E=null,S=h.fieldTransforms;return new QI(new Js(_),E,S)}class bd extends Sa{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function ov(n,e,t){return new sv({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class mm extends Sa{_toFieldTransform(e){return new xf(e.path,new Af)}isEqual(e){return e instanceof mm}}class ub extends Sa{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=ov(this,e,!0),i=this.fc.map(l=>Ed(l,t)),o=new td(i);return new xf(e.path,o)}isEqual(e){return this===e}}class cb extends Sa{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=ov(this,e,!0),i=this.fc.map(l=>Ed(l,t)),o=new Xu(i);return new xf(e.path,o)}isEqual(e){return this===e}}class db extends Sa{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new ah(e.M,E0(e.M,this.dc));return new xf(e.path,t)}isEqual(e){return this===e}}function _m(n,e,t,i){const o=n.lc(1,e,t);ym("Data must be an object, but it was:",o,i);const l=[],h=Js.empty();zu(i,(E,S)=>{const $=fp(e,E,t);S=(0,Dt.m9)(S);const te=o.oc($);if(S instanceof bd)l.push($);else{const we=Ed(S,te);null!=we&&(l.push($),h.set($,we))}});const _=new Zc(l);return new rv(h,_,o.fieldTransforms)}function av(n,e,t,i,o,l){const h=n.lc(1,e,t),_=[vm(e,i,t)],E=[o];if(l.length%2!=0)throw new ot(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let we=0;we<l.length;we+=2)_.push(vm(e,l[we])),E.push(l[we+1]);const S=[],$=Js.empty();for(let we=_.length-1;we>=0;--we)if(!uv(S,_[we])){const Ue=_[we];let Pe=E[we];Pe=(0,Dt.m9)(Pe);const Xe=h.oc(Ue);if(Pe instanceof bd)S.push(Ue);else{const ut=Ed(Pe,Xe);null!=ut&&(S.push(Ue),$.set(Ue,ut))}}const te=new Zc(S);return new rv($,te,h.fieldTransforms)}function hb(n,e,t,i=!1){return Ed(t,n.lc(i?4:3,e))}function Ed(n,e){if(Mh(n=(0,Dt.m9)(n)))return ym("Unsupported field value:",e,n),lv(n,e);if(n instanceof Sa)return function(t,i){if(!ab(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const o=[];let l=0;for(const h of t){let _=Ed(h,i.uc(l));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,i){if(null===(t=(0,Dt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return E0(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=xr.fromDate(t);return{timestampValue:uh(i.M,o)}}if(t instanceof xr){const o=new xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uh(i.M,o)}}if(t instanceof dp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ll)return{bytesValue:S_(i.M,t._byteString)};if(t instanceof Fi){const o=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw i.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kf(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${pm(t)}`)}(n,e)}function lv(n,e){const t={};return cg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zu(n,(i,o)=>{const l=Ed(o,e.sc(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function Mh(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof xr||n instanceof dp||n instanceof Ll||n instanceof Fi||n instanceof Sa)}function ym(n,e,t){if(!Mh(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=pm(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function vm(n,e,t){if((e=(0,Dt.m9)(e))instanceof gc)return e._internalPath;if("string"==typeof e)return fp(n,e);throw pp("Field path arguments must be of type string or ",n,!1,void 0,t)}const fb=new RegExp("[~\\*/\\[\\]]");function fp(n,e,t){if(e.search(fb)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gc(...e.split("."))._internalPath}catch(i){throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pp(n,e,t,i,o){const l=i&&!i.isEmpty(),h=void 0!==o;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let E="";return(l||h)&&(E+=" (found",l&&(E+=` in field ${i}`),h&&(E+=` in document ${o}`),E+=")"),new ot(We.INVALID_ARGUMENT,_+n+E)}function uv(n,e){return n.some(t=>t.isEqual(e))}class gp{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pb extends gp{data(){return super.data()}}function wm(n,e){return"string"==typeof e?fp(n,e):e instanceof gc?e._internalPath:e._delegate._internalPath}class Cd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends gp{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wm("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mp extends vu{data(e={}){return super.data(e)}}class Aa{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cd(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mp(this._firestore,this._userDataWriter,i.key,i,new Cd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ot(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(h=>({type:"added",doc:new mp(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Cd(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const _=new mp(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Cd(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let E=-1,S=-1;return 0!==h.type&&(E=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),S=l.indexOf(h.doc.key)),{type:oT(h.type),doc:_,oldIndex:E,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function bm(n,e){return n instanceof vu&&e instanceof vu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Aa&&e instanceof Aa&&n._firestore===e._firestore&&wd(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Xa(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ot(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _p{}function Vl(n,...e){for(const t of e)n=t._apply(n);return n}class yp extends _p{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=xh(e.firestore),i=function(o,l,h,_,E,S,$){let te;if(E.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new ot(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){Tm($,S);const Ue=[];for(const Pe of $)Ue.push(hT(_,o,Pe));te={arrayValue:{values:Ue}}}else te=hT(_,o,$)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||Tm($,S),te=hb(h,"where",$,"in"===S||"not-in"===S);const we=vs.create(E,S,te);return function(Ue,Pe){if(Pe.S()){const ut=Df(Ue);if(null!==ut&&!ut.isEqual(Pe.field))throw new ot(We.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ut.toString()}' and '${Pe.field.toString()}'`);const Kt=_g(Ue);null!==Kt&&Im(0,Pe.field,Kt)}const Xe=function(ut,Kt){for(const on of ut.filters)if(Kt.indexOf(on.op)>=0)return on.op;return null}(Ue,function(ut){switch(ut){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Pe.op));if(null!==Xe)throw new ot(We.INVALID_ARGUMENT,Xe===Pe.op?`Invalid query. You cannot use more than one '${Pe.op.toString()}' filter.`:`Invalid query. You cannot use '${Pe.op.toString()}' filters with '${Xe.toString()}' filters.`)}(o,we),we}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new to(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new ra(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}class lT extends _p{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(i,o,l){if(null!==i.startAt)throw new ot(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ot(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Ol(o,l);return function(_,E){if(null===_g(_)){const S=Df(_);null!==S&&Im(0,S,E.field)}}(i,h),h}(e._query,this._c,this.gc);return new to(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new ra(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class vp extends _p{constructor(e,t,i){super(),this.type=e,this.yc=t,this.Ic=i}_apply(e){return new to(e.firestore,e.converter,v0(e._query,this.yc,this.Ic))}}class gb extends _p{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=vb(e,this.type,this.Tc,this.Ec);return new to(e.firestore,e.converter,(o=t,new ra((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class Cm extends _p{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=vb(e,this.type,this.Tc,this.Ec);return new to(e.firestore,e.converter,(o=t,new ra((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function vb(n,e,t,i){if(t[0]=(0,Dt.m9)(t[0]),t[0]instanceof gp)return function(o,l,h,_,E){if(!_)throw new ot(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const S=[];for(const $ of ed(o))if($.field.isKeyField())S.push(Wu(l,_.key));else{const te=_.data.field($.field);if(c_(te))throw new ot(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+$.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===te){const we=$.field.canonicalString();throw new ot(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${we}' (used as the orderBy) does not exist.`)}S.push(te)}return new Ju(S,E)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=xh(n.firestore);return function(l,h,_,E,S,$){const te=l.explicitOrderBy;if(S.length>te.length)throw new ot(We.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const we=[];for(let Ue=0;Ue<S.length;Ue++){const Pe=S[Ue];if(te[Ue].field.isKeyField()){if("string"!=typeof Pe)throw new ot(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Pe}`);if(!Sf(l)&&-1!==Pe.indexOf("/"))throw new ot(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Pe}' contains a slash.`);const Xe=l.path.child(si.fromString(Pe));if(!wt.isDocumentKey(Xe))throw new ot(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Xe}' is not because it contains an odd number of segments.`);const ut=new wt(Xe);we.push(Wu(h,ut))}else{const Xe=hb(_,E,Pe);we.push(Xe)}}return new Ju(we,$)}(n._query,n.firestore._databaseId,o,e,t,i)}}function hT(n,e,t){if("string"==typeof(t=(0,Dt.m9)(t))){if(""===t)throw new ot(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sf(e)&&-1!==t.indexOf("/"))throw new ot(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(si.fromString(t));if(!wt.isDocumentKey(i))throw new ot(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Wu(n,new wt(i))}if(t instanceof Fi)return Wu(n,t._key);throw new ot(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(t)}.`)}function Tm(n,e){if(!Array.isArray(n)||0===n.length)throw new ot(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ot(We.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Im(n,e,t){if(!t.isEqual(e))throw new ot(We.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const wb={maxAttempts:5};class wp{convertValue(e,t="none"){switch(Ml(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bt()}}convertObject(e,t){const i={};return zu(e.fields,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new dp(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=c0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const t=qu(e);return new xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=si.fromString(e);fn(G0(i));const o=new fu(i.get(1),i.get(3)),l=new wt(i.popFirst(5));return o.isEqual(t)||Br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Oh(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class fT extends wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}}class bb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xh(e)}set(e,t,i){this._verifyNotCommitted();const o=mc(e,this._firestore),l=Oh(o.converter,t,i),h=hp(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,i);return this._mutations.push(h.toMutation(o._key,ns.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const l=mc(e,this._firestore);let h;return h="string"==typeof(t=(0,Dt.m9)(t))||t instanceof gc?av(this._dataReader,"WriteBatch.update",l._key,t,i,o):_m(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,ns.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mc(e,this._firestore);return this._mutations=this._mutations.concat(new nd(t._key,ns.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mc(n,e){if((n=(0,Dt.m9)(n)).firestore!==e)throw new ot(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _c extends wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}}function Db(n,e,t){n=Yn(n,Fi);const i=Yn(n.firestore,sr),o=Oh(n.converter,e,t);return rs(i,[hp(xh(i),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,ns.none())])}function dv(n,e,t,...i){n=Yn(n,Fi);const o=Yn(n.firestore,sr),l=xh(o);let h;return h="string"==typeof(e=(0,Dt.m9)(e))||e instanceof gc?av(l,"updateDoc",n._key,e,t,i):_m(l,"updateDoc",n._key,e),rs(o,[h.toMutation(n._key,ns.exists(!0))])}function hv(n,...e){var t,i,o;n=(0,Dt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||ev(e[h])||(l=e[h],h++);const _={includeMetadataChanges:l.includeMetadataChanges};if(ev(e[h])){const te=e[h];e[h]=null===(t=te.next)||void 0===t?void 0:t.bind(te),e[h+1]=null===(i=te.error)||void 0===i?void 0:i.bind(te),e[h+2]=null===(o=te.complete)||void 0===o?void 0:o.bind(te)}let E,S,$;if(n instanceof Fi)S=Yn(n.firestore,sr),$=sh(n._key.path),E={next:te=>{e[h]&&e[h](yc(S,n,te))},error:e[h+1],complete:e[h+2]};else{const te=Yn(n,to);S=Yn(te.firestore,sr),$=te._query;const we=new _c(S);E={next:Ue=>{e[h]&&e[h](new Aa(S,we,te,Ue))},error:e[h+1],complete:e[h+2]},Xa(n._query)}return function(te,we,Ue,Pe){const Xe=new op(Pe),ut=new em(we,Xe,Ue);return te.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return yu(yield Dh(te),ut)})),()=>{Xe.Aa(),te.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return Dy(yield Dh(te),ut)}))}}(is(S),$,_,E)}function rs(n,e){return function(t,i){const o=new Os;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function Fw(n,e,t){return sm.apply(this,arguments)}(yield Yy(t),i,o)})),o.promise}(is(n),e)}function yc(n,e,t){const i=t.docs.get(e._key),o=new _c(n);return new vu(n,o,e._key,i,new Cd(t.hasPendingWrites,t.fromCache),e.converter)}class mT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xh(e)}get(e){const t=mc(e,this._firestore),i=new fT(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Bt();const l=o[0];if(l.isFoundDocument())return new gp(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new gp(this._firestore,i,t._key,null,t.converter);throw Bt()})}set(e,t,i){const o=mc(e,this._firestore),l=Oh(o.converter,t,i),h=hp(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,i);return this._transaction.set(o._key,h),this}update(e,t,i,...o){const l=mc(e,this._firestore);let h;return h="string"==typeof(t=(0,Dt.m9)(t))||t instanceof gc?av(this._dataReader,"Transaction.update",l._key,t,i,o):_m(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=mc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mc(e,this._firestore),i=new _c(this._firestore);return super.get(e).then(o=>new vu(this._firestore,i,t._key,o._document,new Cd(!1,!1),t.converter))}}function Dm(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ot("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ep(){if("undefined"==typeof Uint8Array)throw new ot("unimplemented","Uint8Arrays are not available in this environment.")}function Sm(){if(!function UE(){return"undefined"!=typeof atob}())throw new ot("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Sl=Wn.SDK_VERSION,(0,Wn._registerComponent)(new Qn.wA("firestore",(t,{options:i})=>{const o=t.getProvider("app").getImmediate(),l=new sr(o,new s0(t.getProvider("auth-internal")),new ug(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC")),(0,Wn.registerVersion)(gf,"3.4.9",n),(0,Wn.registerVersion)(gf,"3.4.9","esm2017")}();class Am{constructor(e){this._delegate=e}static fromBase64String(e){return Sm(),new Am(Ll.fromBase64String(e))}static fromUint8Array(e){return Ep(),new Am(Ll.fromUint8Array(e))}toBase64(){return Sm(),this._delegate.toBase64()}toUint8Array(){return Ep(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xm(n){return function bT(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Ob{enableIndexedDbPersistence(e,t){return function ib(n,e){ob(n=Yn(n,sr));const t=is(n),i=n._freezeSettings(),o=new cm;return up(t,o,new yd(o,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function nv(n){ob(n=Yn(n,sr));const e=is(n),t=n._freezeSettings(),i=new cm;return up(e,i,new qC(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function cp(n){if(n._initialized&&!n._terminated)throw new ot(We.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Os;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(t=(0,xe.Z)(function*(i){if(!Wa.vt())return Promise.resolve();const o=i+"main";yield Wa.delete(o)}),function(i){return t.apply(this,arguments)})(Ng(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Cp{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof fu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function tT(n,e,t,i={}){var o;const l=(n=Yn(n,Sh))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&qc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let h,_;if("string"==typeof i.mockUserToken)h=i.mockUserToken,_=ms.MOCK_USER;else{h=(0,Dt.Sg)(i.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ot(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ms(E)}n._authCredentials=new r0(new mf(h,_))}}(this._delegate,e,t,i)}enableNetwork(){return function rb(n){return function KC(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield Wy(n),t=yield Kw(n);return e.setNetworkEnabled(!0),function(i){const o=yt(i);return o.wu.delete(0),ep(o)}(t)}))}(is(n=Yn(n,sr)))}(this._delegate)}disableNetwork(){return function sb(n){return function YC(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield Wy(n),t=yield Kw(n);return e.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(o){const l=yt(o);l.wu.add(0),yield wh(l),l.yu.set("Offline")}),function(o){return i.apply(this,arguments)})(t);var i}))}(is(n=Yn(n,sr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,hm("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rT(n){return function(e){const t=new Os;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function Vw(n,e){return om.apply(this,arguments)}(yield Yy(e),t)})),t.promise}(is(n=Yn(n,sr)))}(this._delegate)}onSnapshotsInSync(e){return function Ab(n,e){return function JC(n,e){const t=new op(e);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield Dh(n),o=t,yt(i).bu.add(o),void o.next();var i,o})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield Dh(n),o=t,void yt(i).bu.delete(o);var i,o}))}}(is(n=Yn(n,sr)),ev(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ot("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Td(this,nT(this._delegate,e))}catch(t){throw co(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,vd(this._delegate,e))}catch(t){throw co(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new no(this,function iT(n,e){if(n=Yn(n,Sh),ap("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ot(We.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(n,null,(t=e,new ra(si.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw co(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _T(n,e,t){n=Yn(n,sr);const i=Object.assign(Object.assign({},wb),t);return function(o){if(o.maxAttempts<1)throw new ot(We.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function Jw(n,e,t){const i=new Os;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const o=yield(l=n,Ih(l).then(h=>h.datastore));var l;new WC(n.asyncQueue,o,t,e,i).run()})),i.promise}(is(n),o=>e(new mT(n,o)),i)}(this._delegate,t=>e(new Mm(this,t)))}batch(){return is(this._delegate),new Om(new bb(this._delegate,e=>rs(this._delegate,e)))}loadBundle(e){return function sT(n,e){const t=is(n=Yn(n,sr)),i=new qI;return function XC(n,e,t,i){const o=function(l,h){let _;return _="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,S){if(E instanceof Uint8Array)return qw(E,S);if(E instanceof ArrayBuffer)return qw(new Uint8Array(E),S);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new ZC(E,h);var E}(t,vh(e));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function zC(n,e,t){const i=yt(n);var o;(o=(0,xe.Z)(function*(l,h,_){try{const E=yield h.getMetadata();if(yield function(we,Ue){const Pe=yt(we),Xe=Ps(Ue.createTime);return Pe.persistence.runTransaction("hasNewerBundle","readonly",ut=>Pe._s.getBundleMetadata(ut,Ue.id)).then(ut=>!!ut&&ut.createTime.compareTo(Xe)>=0)}(l.localStore,E))return yield h.close(),_._completeWith({taskState:"Success",documentsLoaded:(we=E).totalDocuments,bytesLoaded:we.totalBytes,totalDocuments:we.totalDocuments,totalBytes:we.totalBytes}),Promise.resolve(new Set);_._updateProgress(Pw(E));const S=new sn(E,l.localStore,h.M);let $=yield h.ma();for(;$;){const we=yield S.Fu($);we&&_._updateProgress(we),$=yield h.ma()}const te=yield S.complete();return yield Fl(l,te.Lu,void 0),yield function(we,Ue){const Pe=yt(we);return Pe.persistence.runTransaction("Save bundle","readwrite",Xe=>Pe._s.saveBundleMetadata(Xe,Ue))}(l.localStore,E),_._completeWith(te.progress),Promise.resolve(te.Bu)}catch(E){return qc("SyncEngine",`Loading bundle failed with ${E}`),_._failWith(E),Promise.resolve(new Set)}var we}),function(l,h,_){return o.apply(this,arguments)})(i,e,t).then(o=>{i.sharedClientState.notifyBundleLoaded(o)})}(yield Yy(n),o,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function iv(n,e){return function eT(n,e){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(t,i){const o=yt(t);return o.persistence.runTransaction("Get named query","readonly",l=>o._s.getNamedQuery(l,i))}(yield Ky(n),e)}))}(is(n=Yn(n,sr)),e).then(t=>t?new to(n,null,t.query):null)}(this._delegate,e).then(t=>t?new no(this,t):null)}}class Tp extends wp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Am(new Ll(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class Mm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}get(e){const t=Id(e);return this._delegate.get(t).then(i=>new Ip(this._firestore,new vu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const o=Id(e);return i?(Dm("Transaction.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const l=Id(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...o),this}delete(e){const t=Id(e);return this._delegate.delete(t),this}}class Om{constructor(e){this._delegate=e}set(e,t,i){const o=Id(e);return i?(Dm("WriteBatch.set",i),this._delegate.set(o,t,i)):this._delegate.set(o,t),this}update(e,t,i,...o){const l=Id(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...o),this}delete(e){const t=Id(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ph{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new mp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Ph.INSTANCES;let o=i.get(e);o||(o=new WeakMap,i.set(e,o));let l=o.get(t);return l||(l=new Ph(e,new Tp(e),t),o.set(t,l)),l}}Ph.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}static forPath(e,t,i){if(e.length%2!=0)throw new ot("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new Fi(t._delegate,i,new wt(e)))}static forKey(e,t,i){return new xa(t,new Fi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Td(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Td(this.firestore,nT(this._delegate,e))}catch(t){throw co(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Dt.m9)(e))instanceof Fi&&tb(this._delegate,e)}set(e,t){t=Dm("DocumentReference.set",t);try{return t?Db(this._delegate,e,t):Db(this._delegate,e)}catch(i){throw co(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?dv(this._delegate,e):dv(this._delegate,e,t,...i)}catch(o){throw co(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Sb(n){return rs(Yn(n.firestore,sr),[new nd(n._key,ns.none())])}(this._delegate)}onSnapshot(...e){const t=gv(e),i=mv(e,o=>new Ip(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return hv(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cv(n){n=Yn(n,Fi);const e=Yn(n.firestore,sr),t=is(e),i=new _c(e);return function QC(n,e){const t=new Os;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(o,l,h){try{const _=yield function(E,S){const $=yt(E);return $.persistence.runTransaction("read document","readonly",te=>$.fi.Ls(te,S))}(o,l);_.isFoundDocument()?h.resolve(_):_.isNoDocument()?h.resolve(null):h.reject(new ot(We.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const E=pd(_,`Failed to get document '${l} from cache`);h.reject(E)}}),function(o,l,h){return i.apply(this,arguments)})(yield Ky(n),e,t);var i})),t.promise}(t,n._key).then(o=>new vu(e,i,n._key,o,new Cd(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Eb(n){n=Yn(n,Fi);const e=Yn(n.firestore,sr);return Jy(is(e),n._key,{source:"server"}).then(t=>yc(e,n,t))}(this._delegate):function pT(n){n=Yn(n,Fi);const e=Yn(n.firestore,sr);return Jy(is(e),n._key).then(t=>yc(e,n,t))}(this._delegate),t.then(i=>new Ip(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Ph.getInstance(this.firestore,e):null))}}function co(n,e,t){return n.message=n.message.replace(e,t),n}function gv(n){for(const e of n)if("object"==typeof e&&!xm(e))return e;return{}}function mv(n,e){var t,i;let o;return o=xm(n[0])?n[0]:xm(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(i=o.complete)||void 0===i?void 0:i.bind(o)}}class Ip{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bm(this._delegate,e._delegate)}}class Rh extends Ip{data(e){const t=this._delegate.data(e);return function n0(n,e){n||Bt()}(void 0!==t),t}}class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tp(e)}where(e,t,i){try{return new no(this.firestore,Vl(this._delegate,function aT(n,e,t){const i=e,o=wm("where",n);return new yp(o,i,t)}(e,t,i)))}catch(o){throw co(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new no(this.firestore,Vl(this._delegate,function uT(n,e="asc"){const t=e,i=wm("orderBy",n);return new lT(i,t)}(e,t)))}catch(i){throw co(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new no(this.firestore,Vl(this._delegate,function Em(n){return gm("limit",n),new vp("limit",n,"F")}(e)))}catch(t){throw co(t,"limit()","Query.limit()")}}limitToLast(e){try{return new no(this.firestore,Vl(this._delegate,function cT(n){return gm("limitToLast",n),new vp("limitToLast",n,"L")}(e)))}catch(t){throw co(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new no(this.firestore,Vl(this._delegate,function mb(...n){return new gb("startAt",n,!0)}(...e)))}catch(t){throw co(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new no(this.firestore,Vl(this._delegate,function _b(...n){return new gb("startAfter",n,!1)}(...e)))}catch(t){throw co(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new no(this.firestore,Vl(this._delegate,function yb(...n){return new Cm("endBefore",n,!1)}(...e)))}catch(t){throw co(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new no(this.firestore,Vl(this._delegate,function dT(...n){return new Cm("endAt",n,!0)}(...e)))}catch(t){throw co(t,"endAt()","Query.endAt()")}}isEqual(e){return wd(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Tb(n){n=Yn(n,to);const e=Yn(n.firestore,sr),t=is(e),i=new _c(e);return function Yw(n,e){const t=new Os;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(o,l,h){try{const _=yield Yf(o,l,!0),E=new rp(l,_._i),S=E.Wu(_.documents),$=E.applyChanges(S,!1);h.resolve($.snapshot)}catch(_){const E=pd(_,`Failed to execute query '${l} against cache`);h.reject(E)}}),function(o,l,h){return i.apply(this,arguments)})(yield Ky(n),e,t);var i})),t.promise}(t,n._query).then(o=>new Aa(e,i,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ib(n){n=Yn(n,to);const e=Yn(n.firestore,sr),t=is(e),i=new _c(e);return Qw(t,n._query,{source:"server"}).then(o=>new Aa(e,i,n,o))}(this._delegate):function Cb(n){n=Yn(n,to);const e=Yn(n.firestore,sr),t=is(e),i=new _c(e);return Xa(n._query),Qw(t,n._query).then(o=>new Aa(e,i,n,o))}(this._delegate),t.then(i=>new _v(this.firestore,new Aa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=gv(e),i=mv(e,o=>new _v(this.firestore,new Aa(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return hv(this._delegate,t,i)}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?Ph.getInstance(this.firestore,e):null))}}class CT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _v{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new no(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CT(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Rh(this._firestore,i))})}isEqual(e){return bm(this._delegate,e._delegate)}}class Td extends no{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?vd(this._delegate):vd(this._delegate,e))}catch(t){throw co(t,"doc()","CollectionReference.doc()")}}add(e){return function gT(n,e){const t=Yn(n.firestore,sr),i=vd(n),o=Oh(n.converter,e);return rs(t,[hp(xh(n.firestore),"addDoc",i._key,o,null!==n.converter,{}).toMutation(i._key,ns.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return tb(this._delegate,e._delegate)}withConverter(e){return new Td(this.firestore,this._delegate.withConverter(e?Ph.getInstance(this.firestore,e):null))}}function Id(n){return Yn(n,Fi)}class Pm{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new Pm(_s.keyField().canonicalString())}isEqual(e){return(e=(0,Dt.m9)(e))instanceof gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class vc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bp(){return new mm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vc(e)}static delete(){const e=function JI(){return new bd("deleteField")}();return e._methodName="FieldValue.delete",new vc(e)}static arrayUnion(...e){const t=function yT(...n){return new ub("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vc(t)}static arrayRemove(...e){const t=function fv(...n){return new cb("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vc(t)}static increment(e){const t=function vT(n){return new db("increment",n)}(e);return t._methodName="FieldValue.increment",new vc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Pb={Firestore:Cp,GeoPoint:dp,Timestamp:xr,Blob:Am,Transaction:Mm,WriteBatch:Om,DocumentReference:xa,DocumentSnapshot:Ip,Query:no,QueryDocumentSnapshot:Rh,QuerySnapshot:_v,CollectionReference:Td,FieldPath:Pm,FieldValue:vc,setLogLevel:function ET(n){!function t0(n){Al.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function TT(n){(function Rb(n,e){n.INTERNAL.registerComponent(new Qn.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(i,o)},"PUBLIC").setServiceProps(Object.assign({},Pb)))})(n,(e,t)=>new Cp(e,t,new Ob)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Ri.Z);var el=F(7579),eD=F(6451),Dp=F(5363),Ul=F(3900),tD=F(6063);class nD extends el.x{constructor(e=1/0,t=1/0,i=tD.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(i.push(e),!o&&i.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=i?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const h=t.now();let _=0;for(let E=1;E<i.length&&i[E]<=h;E+=2)_=E;_&&i.splice(0,_+1)}}}var iD=F(3099);function Nb(n,e,t){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,iD.B)({connector:()=>new nD(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var rD=F(590),wu=F(576);function IT(n,e){return(0,wu.m)(e)?(0,Ul.w)(()=>n,e):(0,Ul.w)(()=>n)}var Nh=F(9468);F(5867);const Bb=new Map,MT={activated:!1,tokenObservers:[]},OT={initialized:!1,enabled:!1};function zs(n){return Bb.get(n)||MT}function tl(n,e){Bb.set(n,e)}function kh(){return OT}class bv{constructor(e,t,i,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new Dt.BH,yield function Hb(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Dt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ho=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gb(n){if(!zs(n).activated)throw ho.create("use-before-activation",{appName:n.name})}function bu(n,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,xe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const te=yield o.getHeartbeatsHeader();te&&(i["X-Firebase-Client"]=te)}const l={method:"POST",body:JSON.stringify(e),headers:i};let h,_;try{h=yield fetch(n,l)}catch(te){throw ho.create("fetch-network-error",{originalErrorMessage:te.message})}if(200!==h.status)throw ho.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(te){throw ho.create("fetch-parse-error",{originalErrorMessage:te.message})}const E=_.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const S=1e3*Number(E[1]),$=Date.now();return{token:_.token,expireTimeMillis:$+S,issuedAtTimeMillis:$}}),Rm.apply(this,arguments)}function lD(n,e){const{projectId:t,appId:i,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const xp="firebase-app-check-store";let Nm=null;function qb(){return Nm||(Nm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var o;e(ho.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xp,{keyPath:"compositeKey"})}}catch(t){e(ho.create("storage-open",{originalErrorMessage:t.message}))}}),Nm)}function km(){return km=(0,xe.Z)(function*(n,e){const i=(yield qb()).transaction(xp,"readwrite"),l=i.objectStore(xp).put({compositeKey:n,value:e});return new Promise((h,_)=>{l.onsuccess=E=>{h()},i.onerror=E=>{var S;_(ho.create("storage-set",{originalErrorMessage:null===(S=E.target.error)||void 0===S?void 0:S.message}))}})}),km.apply(this,arguments)}const Op=new Ur.Yd("@firebase/app-check");function Yb(n,e){return(0,Dt.hl)()?function Tv(n,e){return function Wb(n,e){return km.apply(this,arguments)}(function Iv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Op.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BT(){return kh().enabled}function Dv(){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,xe.Z)(function*(){const n=kh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Sv.apply(this,arguments)}const HT={error:"UNKNOWN_ERROR"};function cD(n){return Dt.US.encodeString(JSON.stringify(n),!1)}function Av(n){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,xe.Z)(function*(n,e=!1){const t=n.app;Gb(t);const i=zs(t);let l,o=i.token;if(!o){const E=yield i.cachedTokenPromise;E&&Um(E)&&(o=E)}if(!e&&o&&Um(o))return{token:o.token};let _,h=!1;if(BT()){i.exchangeTokenPromise||(i.exchangeTokenPromise=bu(lD(t,yield Dv()),n.heartbeatServiceProvider).then(S=>(i.exchangeTokenPromise=void 0,S)),h=!0);const E=yield i.exchangeTokenPromise;return yield Yb(t,E),tl(t,Object.assign(Object.assign({},i),{token:E})),{token:E.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(E=>(i.exchangeTokenPromise=void 0,E)),h=!0),o=yield i.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Op.warn(E.message):Op.error(E),l=E}return o?(_={token:o.token},tl(t,Object.assign(Object.assign({},i),{token:o})),yield Yb(t,o)):_=iE(l),h&&nE(t,_),_}),Jb.apply(this,arguments)}function eE(n,e){const t=zs(n),i=t.tokenObservers.filter(o=>o.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),tl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function tE(n){const{app:e}=n,t=zs(e);let i=t.tokenRefresher;i||(i=function Vm(n){const{app:e}=n;return new bv((0,xe.Z)(function*(){let i;if(i=zs(e).token?yield Av(n,!0):yield Av(n),i.error)throw i.error}),()=>!0,()=>{const t=zs(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),tl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nE(n,e){const t=zs(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}function Um(n){return n.expireTimeMillis-Date.now()>0}function iE(n){return{token:cD(HT),error:n}}class Dd{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zs(this.app);for(const t of e)eE(this.app,t.next);return Promise.resolve()}}const cE="app-check-internal";!function fD(){(0,Wn._registerComponent)(new Qn.wA("app-check",n=>function rE(n,e){return new Dd(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cE).initialize()})),(0,Wn._registerComponent)(new Qn.wA(cE,n=>function xv(n){return{getToken:e=>Av(n,e),addTokenListener:e=>function Xb(n,e,t,i){const{app:o}=n,l=zs(o),h={next:t,error:i,type:e};if(tl(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&Um(l.token)){const _=l.token;Promise.resolve().then(()=>{t({token:_.token}),tE(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>tE(n))}(n,"INTERNAL",e),removeTokenListener:e=>eE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wn.registerVersion)("@firebase/app-check","0.5.8")}();class $m{constructor(){return(0,Gn.vb)("app-check")}}"undefined"!=typeof window&&window,F(127);const T=new u.OlP("angularfire2.auth.use-emulator"),D=new u.OlP("angularfire2.auth.settings"),U=new u.OlP("angularfire2.auth.tenant-id"),H=new u.OlP("angularfire2.auth.langugage-code"),ie=new u.OlP("angularfire2.auth.use-device-language"),ve=new u.OlP("angularfire.auth.persistence"),Ne=(n,e,t,i,o,l,h,_)=>(0,Si.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),i&&(E.tenantId=i),E.languageCode=o,l&&E.useDeviceLanguage(),h)for(const[S,$]of Object.entries(h))E.settings[S]=$;return _&&E.setPersistence(_),E},[t,i,o,l,h,_]);let Je=(()=>{class n{constructor(t,i,o,l,h,_,E,S,$,te,we,Ue){const Pe=new el.x,Xe=(0,Vs.of)(void 0).pipe((0,Dp.Q)(h.outsideAngular),(0,Ul.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8775)))),(0,ci.U)(()=>(0,Si.on)(t,l,i)),(0,ci.U)(ut=>Ne(ut,l,_,S,$,te,E,we)),Nb({bufferSize:1,refCount:!1}));if((0,p.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Vs.of)(null);else{Xe.pipe((0,rD.P)()).subscribe();const Kt=Xe.pipe((0,Ul.w)(At=>At.getRedirectResult().then(pn=>pn,()=>null)),Gn.iC,Nb({bufferSize:1,refCount:!1})),on=Xe.pipe((0,Ul.w)(At=>new Gi.y(pn=>({unsubscribe:l.runOutsideAngular(()=>At.onAuthStateChanged(gn=>pn.next(gn),gn=>pn.error(gn),()=>pn.complete()))})))),Ht=Xe.pipe((0,Ul.w)(At=>new Gi.y(pn=>({unsubscribe:l.runOutsideAngular(()=>At.onIdTokenChanged(gn=>pn.next(gn),gn=>pn.error(gn),()=>pn.complete()))}))));this.authState=Kt.pipe(IT(on),(0,Nh.R)(h.outsideAngular),(0,Dp.Q)(h.insideAngular)),this.user=Kt.pipe(IT(Ht),(0,Nh.R)(h.outsideAngular),(0,Dp.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,Ul.w)(At=>At?(0,zi.D)(At.getIdToken()):(0,Vs.of)(null))),this.idTokenResult=this.user.pipe((0,Ul.w)(At=>At?(0,zi.D)(At.getIdTokenResult()):(0,Vs.of)(null))),this.credential=(0,eD.T)(Kt,Pe,this.authState.pipe((0,ka.h)(At=>!At))).pipe((0,ci.U)(At=>(null==At?void 0:At.user)?At:null),(0,Nh.R)(h.outsideAngular),(0,Dp.Q)(h.insideAngular))}return(0,Si.pX)(this,Xe,l,{spy:{apply:(ut,Kt,on)=>{(ut.startsWith("signIn")||ut.startsWith("createUser"))&&on.then(Ht=>Pe.next(Ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Si.Dh),u.LFG(Si.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(T,8),u.LFG(D,8),u.LFG(U,8),u.LFG(H,8),u.LFG(ie,8),u.LFG(ve,8),u.LFG($m,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Vt(n,e){return function bt(n,e=Zr.z){return new Gi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function Qt(n,e){return Vt(n,e).pipe((0,ci.U)(t=>({payload:t,type:"query"})))}function Pn(n,e){return Qt(n,e).pipe((0,ao.O)(void 0),_l(),(0,ci.U)(([t,i])=>{const o=i.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((h,_)=>{const E=o.find($=>$.doc.ref.isEqual(h.ref)),S=null==t?void 0:t.payload.docs.find($=>$.ref.isEqual(h.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(h.metadata)||!E&&S&&JSON.stringify(S.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:h}})}),l}))}function pi(n,e,t){return Pn(n,t).pipe((0,Io.R)((i,o)=>function la(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Vv(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Eu(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Eu(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Eu(n,e.oldIndex,1)}return n}(n,i))}),n}(i,o.map(l=>l.payload),e),[]),Ms(),(0,ci.U)(i=>i.map(o=>({type:o.type,payload:o}))))}function Eu(n,e,t,...i){const o=n.slice();return o.splice(e,t,...i),o}function Gm(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zm{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Pn(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ci.U)(i=>i.filter(o=>e.indexOf(o.type)>-1)))),t.pipe((0,ao.O)(void 0),_l(),(0,ka.h)(([i,o])=>o.length>0||!i),(0,ci.U)(([i,o])=>o),Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Io.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Gm(e);return pi(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return Qt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ci.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Gn.iC)}get(e){return(0,zi.D)(this.query.get(e)).pipe(Gn.iC)}add(e){return this.ref.add(e)}doc(e){return new qm(this.ref.doc(e),this.afs)}}class qm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:o,query:l}=_D(i,t);return new zm(o,l,this.afs)}snapshotChanges(){return function rt(n,e){return Vt(n,e).pipe((0,ao.O)(void 0),_l(),(0,ci.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ci.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,zi.D)(this.ref.get(e)).pipe(Gn.iC)}}class Uv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Pn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ci.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,ka.h)(t=>t.length>0),Gn.iC):Pn(this.query,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Io.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Gm(e);return pi(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return Qt(this.query,this.afs.schedulers.outsideAngular).pipe((0,ci.U)(i=>i.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Gn.iC)}get(e){return(0,zi.D)(this.query.get(e)).pipe(Gn.iC)}}const Bv=new u.OlP("angularfire2.enableFirestorePersistence"),jv=new u.OlP("angularfire2.firestore.persistenceSettings"),Hv=new u.OlP("angularfire2.firestore.settings"),$v=new u.OlP("angularfire2.firestore.use-emulator");function _D(n,e=(t=>t)){return{query:e(n),ref:n}}let KS=(()=>{class n{constructor(t,i,o,l,h,_,E,S,$,te,we,Ue,Pe,Xe,ut,Kt,on){this.schedulers=E;const Ht=(0,Si.on)(t,_,i),At=$;te&&Ne(Ht,_,we,Pe,Xe,ut,Ue,Kt),[this.firestore,this.persistenceEnabled$]=(0,Si.cc)(`${Ht.name}.firestore`,"AngularFirestore",Ht.name,()=>{const pn=_.runOutsideAngular(()=>Ht.firestore());if(l&&pn.settings(l),At&&pn.useEmulator(...At),o&&!(0,p.PM)(h)){const gn=()=>{try{return(0,zi.D)(pn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(ni){return"undefined"!=typeof console&&console.warn(ni),(0,Vs.of)(!1)}};return[pn,_.runOutsideAngular(gn)]}return[pn,(0,Vs.of)(!1)]},[l,At,o])}collection(t,i){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=_D(o,i),_=this.schedulers.ngZone.run(()=>l);return new zm(_,h,this)}collectionGroup(t,i){const o=i||(h=>h),l=this.firestore.collectionGroup(t);return new Uv(o(l),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>i);return new qm(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Si.Dh),u.LFG(Si.xv,8),u.LFG(Bv,8),u.LFG(Hv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(jv,8),u.LFG($v,8),u.LFG(Je,8),u.LFG(T,8),u.LFG(D,8),u.LFG(U,8),u.LFG(H,8),u.LFG(ie,8),u.LFG(ve,8),u.LFG($m,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Gv=(()=>{class n{constructor(t){this.firebase=t}Register(t){var i=this;return(0,xe.Z)(function*(){try{return yield i.firebase.createUserWithEmailAndPassword(t.email,t.password)}catch(o){return o}})()}Login(t,i){var o=this;return(0,xe.Z)(function*(){try{return yield o.firebase.signInWithEmailAndPassword(t,i)}catch(l){return null}})()}LogOut(){var t=this;return(0,xe.Z)(function*(){try{return yield t.firebase.signOut()}catch(i){return null}})()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Je))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hE{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yD{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new hE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new hE(i,this,this._ref))},t)}on(e,t,i,o){let l;return t&&(l="function"==typeof t?h=>t(new hE(h,this,this._ref)):{next:t.next?h=>t.next(new hE(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,i||void 0,o||void 0)}}class vD{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Sd(e,this._service))}get items(){return this._delegate.items.map(e=>new Sd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Sd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Od(n,e){return da(n,e)}(this._delegate,e);return new Sd(t,this.storage)}get root(){return new Sd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Sd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new yD(function Vr(n,e,t){return function Eo(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new As(n,new Ii(e),t)}(n=(0,Dt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=cr.RAW,i){this._throwIfRoot("putString");const o=yo(t,e),l=Object.assign({},i);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new yD(new As(this._delegate,new Ii(o.data,!0),l),this)}listAll(){return function Md(n){return function xs(n){const e={prefixes:[],items:[]};return Oa(n,e).then(()=>e)}(n=(0,Dt.m9)(n))}(this._delegate).then(e=>new vD(e,this.storage))}list(e){return function ml(n,e){return ps(n=(0,Dt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new vD(t,this.storage))}getMetadata(){return function ga(n){return function Hl(n){n._throwIfRoot("getMetadata");const e=qe(n.storage,n._location,Fs());return n.storage.makeRequestWithTokens(e,an)}(n=(0,Dt.m9)(n))}(this._delegate)}updateMetadata(e){return function Pi(n,e){return function ul(n,e){n._throwIfRoot("updateMetadata");const t=function On(n,e,t,i){const l=tr(e.fullServerUrl(),n.host,n._protocol),_=zr(t,i),S=n.maxOperationRetryTime,$=new Fr(l,"PATCH",R(n,i),S);return $.headers={"Content-Type":"application/json; charset=utf-8"},$.body=_,$.errorHandler=ge(e),$}(n.storage,n._location,e,Fs());return n.storage.makeRequestWithTokens(t,an)}(n=(0,Dt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function jh(n){return cl(n=(0,Dt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function zl(n){return function $l(n){n._throwIfRoot("deleteObject");const e=function nn(n,e){const i=tr(e.fullServerUrl(),n.host,n._protocol),_=new Fr(i,"DELETE",function h(E,S){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=ge(e),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,an)}(n=(0,Dt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw br(e)}}class wD{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bD(e))throw ji("ref() expected a child path but got a URL, use refFromURL instead.");return new Sd(Tc(this._delegate,e),this)}refFromURL(e){if(!bD(e))throw ji("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Mn.makeFromUrl(e,this._delegate.host)}catch(t){throw ji("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sd(Tc(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function Ys(n,e,t,i={}){!function Co(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Dt.Sg)(o,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function bD(n){return/^[A-Za-z]+:\/\//.test(n)}function eA(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new wD(t,i)}function ED(n){const e=function nA(n){return new Gi.y(e=>{const t=h=>e.next(h);t(n.snapshot);const l=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){l()}}).pipe(function YS(n,e=Zr.z){return(0,Ra.e)((t,i)=>{let o=null,l=null,h=null;const _=()=>{if(o){o.unsubscribe(),o=null;const S=l;l=null,i.next(S)}};function E(){const S=h+n,$=e.now();if($<S)return o=this.schedule(void 0,S-$),void i.add(o);_()}t.subscribe((0,$o.x)(i,S=>{l=S,h=e.now(),o||(o=e.schedule(E,n),i.add(o))},()=>{_(),i.complete()},void 0,()=>{l=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ci.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function fE(n){return{getDownloadURL:()=>(0,Vs.of)(void 0).pipe(Gn.fc,(0,Ul.w)(()=>n.getDownloadURL()),Gn.iC),getMetadata:()=>(0,Vs.of)(void 0).pipe(Gn.fc,(0,Ul.w)(()=>n.getMetadata()),Gn.iC),delete:()=>(0,zi.D)(n.delete()),child:e=>fE(n.child(e)),updateMetadata:e=>(0,zi.D)(n.updateMetadata(e)),put:(e,t)=>ED(n.put(e,t)),putString:(e,t,i)=>ED(n.putString(e,t,i)),list:e=>(0,zi.D)(n.list(e)),listAll:()=>(0,zi.D)(n.listAll())}}!function tA(n){const e={TaskState:Di,TaskEvent:Ws,StringFormat:cr,Storage:wD,Reference:Sd};n.INTERNAL.registerComponent(new Qn.wA("storage-compat",eA,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(Ri.Z);const iA=new u.OlP("angularfire2.storageBucket"),rA=new u.OlP("angularfire2.storage.maxUploadRetryTime"),sA=new u.OlP("angularfire2.storage.maxOperationRetryTime"),oA=new u.OlP("angularfire2.storage.use-emulator");let aA=(()=>{class n{constructor(t,i,o,l,h,_,E,S,$,te){const we=(0,Si.on)(t,h,i);this.storage=(0,Si.cc)(`${we.name}.storage.${o}`,"AngularFireStorage",we.name,()=>{const Ue=h.runOutsideAngular(()=>we.storage(o||void 0)),Pe=$;return Pe&&Ue.useEmulator(...Pe),E&&Ue.setMaxUploadRetryTime(E),S&&Ue.setMaxOperationRetryTime(S),Ue},[E,S])}ref(t){return fE(this.storage.ref(t))}refFromURL(t){return fE(this.storage.refFromURL(t))}upload(t,i,o){return fE(this.storage.ref(t)).put(i,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Si.Dh),u.LFG(Si.xv,8),u.LFG(iA,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Gn.HU),u.LFG(rA,8),u.LFG(sA,8),u.LFG(oA,8),u.LFG($m,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wc=(()=>{class n{constructor(t,i,o,l){this.aFStore=t,this.aFAuth=i,this.AFAuthService=o,this.storage=l,this.usuario=new li.X(null),this.storageFirestore=function Ho(n=(0,Wn.getApp)(),e){return n=(0,Dt.m9)(n),(0,Wn._getProvider)(n,pl).getImmediate({identifier:e})}()}setPaciente(t){return this.aFStore.collection("users").add(t)}getPaciente(t){return this.aFStore.collection("users",i=>i.where("email","==",t)).valueChanges()}uploadImage(t,i){var o=this;return(0,xe.Z)(function*(){try{return yield(yield o.storage.ref("/users/"+t).putString(i,"data_url")).ref.getDownloadURL()}catch(l){return console.error(l),null}})()}getPacientes(){return this.aFStore.collection("users").valueChanges()}getTurnosPacienteByEmail(t){return this.aFStore.collection("turnos",i=>i.where("usuario.email","==",t)).valueChanges()}getTurnosEspcialistaByEmail(t){return this.aFStore.collection("turnos",i=>i.where("especialista.email","==",t)).valueChanges()}getTurnos(){return this.aFStore.collection("turnos").valueChanges()}setTurnos(t){return this.aFStore.collection("turnos").doc(t.id).set(t)}getEspecilistas(){return this.aFStore.collection("users",t=>t.where("rol","==","especialista").where("activo","==","true")).valueChanges()}getEspecilistasByEspecilidad(t){return this.aFStore.collection("users",i=>i.where("rol","==","especialista").where("especialidad","==",t).where("activo","==","true")).valueChanges()}UpdateObj(t,i,o=i.id){return this.aFStore.collection(t).doc(o).set(i,{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(KS),u.LFG(Je),u.LFG(Gv),u.LFG(aA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lA(n,e){1&n&&(u.TgZ(0,"div",12)(1,"button",13),u._uU(2,"Log in"),u.qZA(),u.TgZ(3,"button",14),u._uU(4,"Register"),u.qZA()())}function uA(n,e){1&n&&(u.TgZ(0,"li")(1,"button",21),u._uU(2,"Mi perfil"),u.qZA()())}function cA(n,e){1&n&&(u.TgZ(0,"li"),u._UZ(1,"hr",22),u.qZA())}function dA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"div",15)(2,"button",16),u._UZ(3,"img",17),u._uU(4),u.qZA(),u.TgZ(5,"ul",18),u.YNc(6,uA,3,0,"li",11),u.YNc(7,cA,2,0,"li",11),u.TgZ(8,"li")(9,"button",19),u.NdJ("click",function(){return u.CHM(t),u.oxw().onClickLogOut()}),u._UZ(10,"i",20),u._uU(11," Logout"),u.qZA()()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.s9C("src",t.usuario.value.imageURL1,u.LSH),u.xp6(1),u.AsE(" ",t.usuario.value.nombre," ",t.usuario.value.apellido," "),u.xp6(2),u.Q6J("ngIf","admin"!=t.usuario.value.rol),u.xp6(1),u.Q6J("ngIf","admin"!=t.usuario.value.rol)}}let hA=(()=>{class n{constructor(t,i,o){this.firestore=t,this.auth=i,this.router=o,this.usuario=this.firestore.usuario}ngOnInit(){}onClickLogOut(){this.auth.LogOut(),this.firestore.usuario.next(null),window.localStorage.removeItem("usuario"),this.router.navigateByUrl("login")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc),u.Y36(Gv),u.Y36($n.F0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:12,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","gap-2"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["src","../../../assets/clinica-logo2.jpg","alt","",1,"logo"],["class","buttons-login-container",4,"ngIf"],[4,"ngIf"],[1,"buttons-login-container"],["role","button","routerLink","/login",1,"button-24"],["role","button","routerLink","/register",1,"button-24"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"buttonDropDown","btn","btn-secondary","btn-lg","dropdown-toggle"],[1,"img",3,"src"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"fa","fa-power-off"],["routerLink","/mi-perfil",1,"dropdown-item"],[1,"dropdown-divider",2,"color","white"]],template:function(t,i){1&t&&(u.TgZ(0,"nav",0)(1,"div",1),u._UZ(2,"a",2),u.TgZ(3,"button",3),u._UZ(4,"span",4),u.qZA(),u.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),u._UZ(9,"img",9),u.qZA()()()(),u.YNc(10,lA,5,0,"div",10),u.YNc(11,dA,12,5,"div",11),u.qZA()()),2&t&&(u.xp6(10),u.Q6J("ngIf",null==i.usuario.value),u.xp6(1),u.Q6J("ngIf",null!=i.usuario.value))},directives:[$n.yS,p.O5,$n.rH],styles:["@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.navbar[_ngcontent-%COMP%]{z-index:1001;background-color:#212121}.logo[_ngcontent-%COMP%]{height:3rem;width:3rem;border-radius:10px}.buttons-login-container[_ngcontent-%COMP%]{margin-left:200px}.buttonDropDown[_ngcontent-%COMP%]{background-color:transparent}.dropdown-menu[_ngcontent-%COMP%]{margin-top:5px;width:100%;animation:fadeIn .5s;background-color:#212121;border-radius:10px}.dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:gray}.img[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px}.button-login[_ngcontent-%COMP%]{background-color:red;color:#fff;font-size:x-large;border-radius:30px;width:50px;height:50px}.button-login[_ngcontent-%COMP%]:hover{background-color:#fc020277}.logout-text[_ngcontent-%COMP%]{margin-right:10px;font-size:x-large;color:#fff}"]}),n})();function fA(n,e){1&n&&(u.TgZ(0,"li",5)(1,"a",6),u._UZ(2,"i",7),u.TgZ(3,"span",3),u._uU(4," Usuarios "),u.qZA()()())}function pA(n,e){1&n&&(u.TgZ(0,"li",5)(1,"a",8),u._UZ(2,"i",9),u.TgZ(3,"span",3),u._uU(4," Mis turnos "),u.qZA()()())}function gA(n,e){1&n&&(u.TgZ(0,"li",5)(1,"a",10),u._UZ(2,"i",9),u.TgZ(3,"span",3),u._uU(4," Turnos "),u.qZA()()())}function mA(n,e){1&n&&(u.TgZ(0,"li",5)(1,"a",11),u._UZ(2,"i",7),u.TgZ(3,"span",3),u._uU(4," Mis datos "),u.qZA()()())}let _A=(()=>{class n{constructor(){}ngOnInit(){this.getUser()}getUser(){let t=window.localStorage.getItem("usuario");this.admin=null!=t&&"admin"==JSON.parse(t).rol}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:11,vars:4,consts:[[1,"main-menu"],["routerLink","/home"],[1,"fa","fa-home","fa-2x"],[1,"nav-text"],["class","has-subnav",4,"ngIf"],[1,"has-subnav"],["routerLink","/usuarios"],[1,"fa","fa-user","fa-2x"],["routerLink","/mis-turnos"],[1,"fa","fa-clock-o","fa-2x"],["routerLink","/turnos"],["routerLink","/mi-perfil"]],template:function(t,i){1&t&&(u.TgZ(0,"nav",0)(1,"ul")(2,"li")(3,"a",1),u._UZ(4,"i",2),u.TgZ(5,"span",3),u._uU(6," Inicio "),u.qZA()()(),u.YNc(7,fA,5,0,"li",4),u.YNc(8,pA,5,0,"li",4),u.YNc(9,gA,5,0,"li",4),u.YNc(10,mA,5,0,"li",4),u.qZA()()),2&t&&(u.xp6(7),u.Q6J("ngIf",i.admin),u.xp6(1),u.Q6J("ngIf",!i.admin),u.xp6(1),u.Q6J("ngIf",i.admin),u.xp6(1),u.Q6J("ngIf",!i.admin))},directives:[$n.yS,p.O5],styles:['@import"//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css";@import"https://fonts.googleapis.com/css?family=Titillium+Web:300";.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa[_ngcontent-%COMP%]{position:relative;display:table-cell;width:60px;height:36px;text-align:center;vertical-align:middle;font-size:20px}.main-menu[_ngcontent-%COMP%]:hover, nav.main-menu.expanded[_ngcontent-%COMP%]{width:250px;overflow:visible}.main-menu[_ngcontent-%COMP%]{background:#212121;position:absolute;top:7.5%;bottom:0;height:92.5%;left:0;width:60px;overflow:hidden;transition:width .05s linear;z-index:1000}.main-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin:7px 0}.main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:block;width:250px}.main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{position:relative;display:table;border-collapse:collapse;border-spacing:0;color:#999;font-family:arial;font-size:14px;text-decoration:none;transition:all .1s linear}.main-menu[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{position:relative;display:table-cell;width:60px;height:36px;text-align:center;vertical-align:middle;font-size:18px}.main-menu[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{position:relative;display:table-cell;vertical-align:middle;width:190px;font-family:Titillium Web,sans-serif}.main-menu[_ngcontent-%COMP%] > ul.logout[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0}.no-touch[_ngcontent-%COMP%]   .scrollable.hover[_ngcontent-%COMP%]{overflow-y:hidden}.no-touch[_ngcontent-%COMP%]   .scrollable.hover[_ngcontent-%COMP%]:hover{overflow-y:auto;overflow:visible}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{outline:0;margin:10;padding:0}.main-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%], nav.main-menu[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .dropdown-menu[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .dropdown-menu[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus, .no-touch[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%]   nav.dashboard-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .dashboard-page[_ngcontent-%COMP%]   nav.dashboard-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;background-color:#5d6e7c}@font-face{font-family:Titillium Web;font-style:normal;font-weight:300;src:local("Titillium WebLight"),local("TitilliumWeb-Light"),url(http://themes.googleusercontent.com/static/fonts/titilliumweb/v2/anMUvcNT0H1YN4FII8wpr24bNCNEoFTpS2BTjF6FB5E.woff) format("woff")}']}),n})();function yA(n,e){1&n&&u._UZ(0,"app-navbar")}function vA(n,e){1&n&&u._UZ(0,"app-dashboard")}let wA=(()=>{class n{constructor(t,i,o,l){this.firestore=t,this.auth=i,this.router=o,this.contexts=l,this.title="clinica",this.route=!0}ngOnInit(){var t,i;this.getRouter();let o=window.localStorage.getItem("usuario");o&&(this.firestore.usuario.next(JSON.parse(o)),this.auth.Login(null===(t=this.firestore.usuario.value)||void 0===t?void 0:t.email,null===(i=this.firestore.usuario.value)||void 0===i?void 0:i.password))}ngOnDestroy(){}getRouteAnimationData(){var t,i,o,l;return null===(l=null===(o=null===(i=null===(t=this.contexts.getContext("primary"))||void 0===t?void 0:t.route)||void 0===i?void 0:i.snapshot)||void 0===o?void 0:o.data)||void 0===l?void 0:l.animation}getRouter(){this.router.events.subscribe(t=>{t instanceof $n.OD&&(this.route="/"!=t.url&&"/login"!=t.url&&"/register"!=t.url)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc),u.Y36(Gv),u.Y36($n.F0),u.Y36($n.y6))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,i){1&t&&(u.YNc(0,yA,1,0,"app-navbar",0),u.YNc(1,vA,1,0,"app-dashboard",0),u.TgZ(2,"div"),u._UZ(3,"router-outlet"),u.qZA()),2&t&&(u.Q6J("ngIf",i.route),u.xp6(1),u.Q6J("ngIf",i.route),u.xp6(1),u.Q6J("@routeAnimations",i.getRouteAnimationData()))},directives:[p.O5,hA,_A,$n.lC],styles:[""],data:{animation:[(0,Tt.X$)("routeAnimations",[(0,Tt.eR)("homePage => misTurnosPage",[(0,Tt.oB)({position:"relative"}),(0,Tt.IO)(":enter, :leave",[(0,Tt.oB)({position:"absolute",bottom:0,left:0,width:"100%"})]),(0,Tt.IO)(":enter",[(0,Tt.oB)({bottom:"-100%"})]),(0,Tt.IO)(":leave",(0,Tt.pV)()),(0,Tt.ru)([(0,Tt.IO)(":leave",[(0,Tt.jt)("300ms ease-out",(0,Tt.oB)({bottom:"100%"}))]),(0,Tt.IO)(":enter",[(0,Tt.jt)("300ms ease-out",(0,Tt.oB)({bottom:"0%"}))])])]),(0,Tt.eR)("* => fadePage",[(0,Tt.IO)(":enter, :leave",[(0,Tt.oB)({position:"absolute",top:0,width:"100%",opacity:0,transform:"scale(0) translateX(100%)"})]),(0,Tt.IO)(":enter",[(0,Tt.jt)("600ms ease",(0,Tt.oB)({opacity:1,transform:"scale(1) translateY(0)"}))])])])]}}),n})();var yn=F(2382);let zv=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"loading-overlay"],["src","../../../assets/heart-loading2.gif","alt","Loading..."]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.qZA())},styles:[".loading-overlay[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.7);position:fixed;bottom:0;left:0;right:0;top:0;z-index:9998;align-items:center;justify-content:center}"]}),n})();const bA=["file"];function EA(n,e){1&n&&u._UZ(0,"app-loading")}function CA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",14)(1,"label",15),u._uU(2,"Admin"),u.qZA(),u.TgZ(3,"button",16)(4,"img",17),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).obtenerRol("admin")}),u.qZA()()()}}function TA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",5)(1,"div",6)(2,"label",7),u._uU(3,"Paciente"),u.qZA(),u.TgZ(4,"button",8)(5,"img",9),u.NdJ("click",function(){return u.CHM(t),u.oxw().obtenerRol("paciente")}),u.qZA()()(),u.TgZ(6,"div",6)(7,"label",10),u._uU(8,"Especialista"),u.qZA(),u.TgZ(9,"button",11)(10,"img",12),u.NdJ("click",function(){return u.CHM(t),u.oxw().obtenerRol("especialista")}),u.qZA()()(),u.YNc(11,CA,5,0,"div",13),u.qZA()}if(2&n){const t=u.oxw();u.xp6(11),u.Q6J("ngIf",1==t.admin)}}function IA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.getErrorMessage("nombre"))}}function DA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.getErrorMessage("apellido"))}}function SA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.getErrorMessage("edad"))}}function AA(n,e){if(1&n&&u._UZ(0,"input",35),2&n){const t=u.oxw(2);u.ekj("is-invalid",t.isNotValidField("obraSocial"))("is-valid",!t.isNotValidField("obraSocial")&&t.f.obraSocial.touched)}}function xA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.getErrorMessage("obraSocial"))}}function MA(n,e){if(1&n&&u._UZ(0,"input",36),2&n){const t=u.oxw(2);u.ekj("is-invalid",t.isNotValidField("especialidad"))("is-valid",!t.isNotValidField("especialidad")&&t.f.especialidad.touched)}}function OA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.getErrorMessage("especialidad")," ")}}function PA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.getErrorMessage("email"))}}function RA(n,e){1&n&&(u.TgZ(0,"div",21),u._uU(1,"Email already in use."),u.qZA())}function NA(n,e){if(1&n&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.getErrorMessage("password"))}}function kA(n,e){if(1&n&&(u.TgZ(0,"div",37),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.error)}}function FA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"form",18)(1,"span",19),u._uU(2,"Register"),u.qZA(),u._UZ(3,"input",20),u.TgZ(4,"div",21),u._uU(5),u.qZA(),u._UZ(6,"input",22),u.YNc(7,IA,2,1,"div",23),u._UZ(8,"input",24),u.YNc(9,DA,2,1,"div",23),u._UZ(10,"input",25),u.YNc(11,SA,2,1,"div",23),u.YNc(12,AA,1,4,"input",26),u.YNc(13,xA,2,1,"div",23),u.YNc(14,MA,1,4,"input",27),u.YNc(15,OA,2,1,"div",23),u._UZ(16,"input",28),u.YNc(17,PA,2,1,"div",23),u.YNc(18,RA,2,0,"div",23),u._UZ(19,"input",29),u.YNc(20,NA,2,1,"div",23),u.TgZ(21,"input",30,31),u.NdJ("change",function(){return u.CHM(t),u.oxw().onChangeFile()}),u.qZA(),u.YNc(23,kA,2,1,"div",32),u.TgZ(24,"button",33),u.NdJ("click",function(){return u.CHM(t),u.oxw().submit()}),u._uU(25,"Register"),u.qZA(),u.TgZ(26,"a",34),u._uU(27,"Already have an account?"),u.qZA()()}if(2&n){const t=u.oxw();u.Q6J("formGroup",t.registerForm),u.xp6(3),u.ekj("is-invalid",t.isNotValidField("DNI"))("is-valid",!t.isNotValidField("DNI")&&t.f.DNI.touched),u.xp6(2),u.Oqu(t.getErrorMessage("DNI")),u.xp6(1),u.ekj("is-invalid",t.isNotValidField("nombre"))("is-valid",!t.isNotValidField("nombre")&&t.f.nombre.touched),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("nombre")),u.xp6(1),u.ekj("is-invalid",t.isNotValidField("apellido"))("is-valid",!t.isNotValidField("apellido")&&t.f.apellido.touched),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("apellido")),u.xp6(1),u.ekj("is-invalid",t.isNotValidField("edad"))("is-valid",!t.isNotValidField("edad")&&t.f.edad.touched),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("edad")),u.xp6(1),u.Q6J("ngIf","paciente"==t.rol),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("obraSocial")),u.xp6(1),u.Q6J("ngIf","especialista"==t.rol),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("especialidad")),u.xp6(1),u.ekj("is-invalid",t.isNotValidField("email"))("is-valid",!t.isNotValidField("email")&&t.f.email.touched),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("email")),u.xp6(1),u.Q6J("ngIf",null==t.f.email.errors?null:t.f.email.errors.emailVerified),u.xp6(1),u.ekj("is-invalid",t.isNotValidField("password"))("is-valid",!t.isNotValidField("password")&&t.f.password.touched),u.xp6(1),u.Q6J("ngIf",t.isNotValidField("password")),u.xp6(3),u.Q6J("ngIf",""!=t.error),u.xp6(1),u.Q6J("disabled",t.registerForm.invalid)}}let LA=(()=>{class n{constructor(t,i,o,l){this.formBuilder=t,this.auth=i,this.firestore=o,this.router=l,this.rolSelected=!1,this.error="",this.listaUsuarios=[],this.admin=!1,this.cargando=!1,this.registerForm=this.formBuilder.group({DNI:["",[yn.kI.minLength(7),yn.kI.maxLength(8),yn.kI.required]],nombre:["",[yn.kI.minLength(3),yn.kI.required]],apellido:["",[yn.kI.minLength(3),yn.kI.required]],edad:["",[yn.kI.required]],rol:["",[yn.kI.minLength(3),yn.kI.required]],email:["",[yn.kI.email,yn.kI.required]],password:["",[yn.kI.minLength(7),yn.kI.required]]})}ngOnInit(){this.firestore.getPacientes().subscribe(t=>{t.forEach(i=>{this.listaUsuarios.push(i)})}),this.AdminValid()}get f(){return this.registerForm.controls}isNotValidField(t){return!!this.f[t]&&(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}submit(){console.log("Entre"),this.cargando=!0,this.registerForm.invalid?(this.error="Formulario invalido",console.log("error")):(this.paciente=this.registerForm.value,this.IsRepetedEmail(this.paciente.email,this.listaUsuarios)?(this.error="Email already in use",this.cargando=!1):this.auth.Register(this.paciente).then(t=>{var i;(null===(i=t.user)||void 0===i?void 0:i.email)?this.firestore.uploadImage(this.paciente.email,this.archivo).then(o=>{null!=o?(this.paciente.imageURL1=o,this.paciente.rol=this.rol,this.paciente.activo="true",this.firestore.setPaciente(this.paciente).then(()=>{this.cargando=!1,this.firestore.usuario.next(this.paciente),window.localStorage.setItem("usuario",JSON.stringify(this.firestore.usuario.value)),this.router.navigateByUrl("home")})):(this.error="Cant upload image.",this.cargando=!1)}):(this.error="Cant resolve register, try later.",this.cargando=!1)}))}getErrorMessage(t){let i="";return""!=t&&(this.f[t].hasError("required")?i="Empty.":this.f[t].getError("email")?i="Invalid format":this.f[t].getError("minlength")&&(i="At least "+this.f[t].getError("minlength").requiredLength+" characters")),i}onChangeFile(){let t=this.file.nativeElement.files[0],i=new FileReader;i.readAsDataURL(t),i.onloadend=()=>{this.archivo=i.result}}obtenerRol(t){this.rolSelected=!0,this.rol=t,this.f.rol.setValue(this.rol),"especialista"==this.f.rol.value?(this.registerForm.addControl("especialidad",new yn.NI("",yn.kI.required)),this.registerForm.removeControl("obraSocial")):"paciente"==this.f.rol.value&&(this.registerForm.addControl("obraSocial",new yn.NI("",yn.kI.required)),this.registerForm.removeControl("especialidad"))}AdminValid(){let t=window.localStorage.getItem("usuario");null!=t&&"admin"==JSON.parse(t).rol&&(this.admin=!0)}IsRepetedEmail(t,i){let o=!1;return i.forEach(l=>{l.email==t&&(o=!0)}),o}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yn.qu),u.Y36(Gv),u.Y36(wc),u.Y36($n.F0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],viewQuery:function(t,i){if(1&t&&u.Gf(bA,5),2&t){let o;u.iGM(o=u.CRH())&&(i.file=o.first)}},decls:5,vars:3,consts:[[1,"login"],[4,"ngIf"],[1,"form"],["class","row container-img",4,"ngIf"],["class","login-form",3,"formGroup",4,"ngIf"],[1,"row","container-img"],[1,"col-6","mb-4"],["for","paciente"],["id","paciente"],["src","../../../assets/logo-paciente.jpg","alt","",1,"btn-img",3,"click"],["for","especialista"],["id","especialista"],["src","../../../assets/logo-espcialista.png","alt","",1,"btn-img",3,"click"],["class","col-12",4,"ngIf"],[1,"col-12"],["for","admin"],["id","admin"],["src","../../../assets/logo-admin.png","alt","",1,"btn-img",3,"click"],[1,"login-form",3,"formGroup"],[1,"material-icon"],["type","text","placeholder","DNI","formControlName","DNI"],[1,"invalid-feedback"],["type","text","placeholder","Nombre","formControlName","nombre"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Apellido","formControlName","apellido"],["type","number","placeholder","Edad","formControlName","edad"],["type","text","placeholder","Obra Social","formControlName","obraSocial",3,"is-invalid","is-valid",4,"ngIf"],["type","text","placeholder","Especialidad","formControlName","especialidad",3,"is-invalid","is-valid",4,"ngIf"],["type","text","placeholder","Email","formControlName","email"],["type","password","placeholder","Contrase\xf1a","formControlName","password"],["type","file","accept","image/*","placeholder","Seleccione una imagen",3,"change"],["file",""],["Class","form","style","color: red;",4,"ngIf"],[3,"disabled","click"],["routerLink","/login",1,"register"],["type","text","placeholder","Obra Social","formControlName","obraSocial"],["type","text","placeholder","Especialidad","formControlName","especialidad"],["Class","form",2,"color","red"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,EA,1,0,"app-loading",1),u.TgZ(2,"div",2),u.YNc(3,TA,12,1,"div",3),u.YNc(4,FA,28,38,"form",4),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("ngIf",i.cargando),u.xp6(2),u.Q6J("ngIf",!i.rolSelected),u.xp6(1),u.Q6J("ngIf",i.rolSelected))},directives:[p.O5,zv,yn._Y,yn.JL,yn.sg,yn.Fj,yn.JJ,yn.u,yn.wV,$n.yS],styles:['@import"https://fonts.googleapis.com/css2?family=Comfortaa&display=swap";body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4b6cb7 0%,#182848 100%)}.login[_ngcontent-%COMP%]{width:360px;padding-top:3%;margin:auto;font-family:Comfortaa,cursive}.container-img[_ngcontent-%COMP%]{margin-top:60%}.form[_ngcontent-%COMP%]{position:relative;z-index:1;background:#FFFFFF;border-radius:10px;max-width:360px;text-align:center}.btn-img[_ngcontent-%COMP%]{width:100px;height:100px;background-size:cover;background-repeat:no-repeat;border-radius:10px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:0;background:#f2f2f2;width:100%;border:0;border-radius:5px;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px;font-family:Comfortaa,cursive}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#dbdbdb}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Comfortaa,cursive;text-transform:uppercase;outline:0;background:#4b6cb7;width:100%;border:0;border-radius:5px;padding:15px;color:#fff;font-size:14px;transition:all .3 ease;cursor:pointer}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#395591}.form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:75px;color:#4b6cb7}.register[_ngcontent-%COMP%]{top:200px}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.is-valid[_ngcontent-%COMP%]{border-color:#35dc75;box-shadow:0 0 0 .25rem #44e04440}.invalid-feedback[_ngcontent-%COMP%]{top:1;bottom:100}']}),n})(),VA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home"]],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},directives:[$n.lC],styles:[".container[_ngcontent-%COMP%]{position:relative;top:10 .container;left:5%}"]}),n})();function UA(n,e){1&n&&u._UZ(0,"app-loading")}function BA(n,e){if(1&n&&(u.TgZ(0,"div",19),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.error)}}let jA=(()=>{class n{constructor(t,i,o,l){this.formBuilder=t,this.auth=i,this.router=o,this.fireStore=l,this.cargando=!1,this.error="",this.fotos=[],this.loginForm=this.formBuilder.group({email:["",[yn.kI.required,yn.kI.email]],pass:["",[yn.kI.required,yn.kI.minLength(7)]]})}ngOnInit(){}get f(){return this.loginForm.controls}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}submit(){this.auth.Login(this.f.email.value,this.f.pass.value).then(t=>{if(null!=t){this.cargando=!0;let i=this.fireStore.getPaciente(this.f.email.value).subscribe(o=>{null!=o&&0!=o.length?(this.fireStore.usuario.next(o[0]),window.localStorage.setItem("usuario",JSON.stringify(o[0])),i.unsubscribe(),this.cargando=!1,this.router.navigateByUrl("home")):this.error="error al iniciar sesion"})}else this.error="usuario o constrase\xf1a invalidos"})}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].getError("email")?i="Invalid format":this.f[t].getError("minlength")&&(i="at least 7 characters"),i}autocompletado(t,i){this.f.email.setValue(t),this.f.pass.setValue(i),this.submit()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yn.qu),u.Y36(Gv),u.Y36($n.F0),u.Y36(wc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:14,consts:[[1,"login"],[4,"ngIf"],[1,"form"],[1,"login-form",3,"formGroup"],[1,"material-icon"],["type","text","placeholder","email","formControlName","email"],[1,"invalid-feedback"],["type","password","placeholder","password","formControlName","pass"],["style","color: red;",4,"ngIf"],[3,"disabled","click"],["routerLink","/register",1,"register"],[1,"row"],[1,"col-4",2,"border-color","transparent",3,"click"],["src","../../../assets/espcialista-2.png","alt","",1,"btn-img"],["src","../../../assets/espcialista-1.png","alt","",1,"btn-img"],["src","../../../assets/admin.png","alt","",1,"btn-img"],["src","../../../assets/paciente-1.png","alt","",1,"btn-img"],["src","../../../assets/paciente-2.png","alt","",1,"btn-img"],["src","../../../assets/paciente-3.png","alt","",1,"btn-img"],[2,"color","red"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,UA,1,0,"app-loading",1),u.TgZ(2,"div",2)(3,"form",3)(4,"span",4),u._uU(5,"Login"),u.qZA(),u._UZ(6,"input",5),u.TgZ(7,"div",6),u._uU(8),u.qZA(),u._UZ(9,"input",7),u.TgZ(10,"div",6),u._uU(11),u.qZA(),u.YNc(12,BA,2,1,"div",8),u.TgZ(13,"button",9),u.NdJ("click",function(){return i.submit()}),u._uU(14,"login"),u.qZA(),u.TgZ(15,"a",10),u._uU(16,"Dont have an account?"),u.qZA()()(),u.TgZ(17,"div",11)(18,"button",12),u.NdJ("click",function(){return i.autocompletado("CarlosBaute@gmail.com","1234567")}),u._uU(19,"Especilista "),u._UZ(20,"img",13),u.qZA(),u.TgZ(21,"button",12),u.NdJ("click",function(){return i.autocompletado("AilenGomez@gmail.com","1234567")}),u._uU(22,"Paciente "),u._UZ(23,"img",14),u.qZA(),u.TgZ(24,"button",12),u.NdJ("click",function(){return i.autocompletado("irismontaner@gmail.com","1234567")}),u._uU(25,"Admin "),u._UZ(26,"img",15),u.qZA()(),u.TgZ(27,"div",11)(28,"button",12),u.NdJ("click",function(){return i.autocompletado("BrunoGoffredo@gmail.com","1234567")}),u._uU(29,"Paciente "),u._UZ(30,"img",16),u.qZA(),u.TgZ(31,"button",12),u.NdJ("click",function(){return i.autocompletado("CamilaPerez@gmail.com","1234567")}),u._uU(32,"Paciente "),u._UZ(33,"img",17),u.qZA(),u.TgZ(34,"button",12),u.NdJ("click",function(){return i.autocompletado("SolMartinez@gmail.com","1234567")}),u._uU(35,"Especialista "),u._UZ(36,"img",18),u.qZA()()()),2&t&&(u.xp6(1),u.Q6J("ngIf",i.cargando),u.xp6(2),u.Q6J("formGroup",i.loginForm),u.xp6(3),u.ekj("is-invalid",i.isNotValidField("email"))("is-valid",!i.isNotValidField("email")&&i.f.email.touched),u.xp6(2),u.Oqu(i.getErrorMessage("email")),u.xp6(1),u.ekj("is-invalid",i.isNotValidField("pass"))("is-valid",!i.isNotValidField("pass")&&i.f.pass.touched),u.xp6(2),u.Oqu(i.getErrorMessage("pass")),u.xp6(1),u.Q6J("ngIf",""!=i.error),u.xp6(1),u.Q6J("disabled",i.loginForm.invalid))},directives:[p.O5,zv,yn._Y,yn.JL,yn.sg,yn.Fj,yn.JJ,yn.u,$n.yS],styles:['@import"https://fonts.googleapis.com/css2?family=Comfortaa&display=swap";body[_ngcontent-%COMP%]{background:linear-gradient(90deg,#4b6cb7 0%,#182848 100%)}.login[_ngcontent-%COMP%]{width:360px;padding:8% 0 0;margin:auto;font-family:Comfortaa,cursive}.form[_ngcontent-%COMP%]{position:relative;z-index:1;background:#FFFFFF;border-radius:10px;max-width:360px;margin:0 auto 100px;padding:45px;text-align:center}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:0;background:#f2f2f2;width:100%;border:0;border-radius:5px;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px;font-family:Comfortaa,cursive}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#dbdbdb}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Comfortaa,cursive;text-transform:uppercase;outline:0;background:#4b6cb7;width:100%;border:0;border-radius:5px;padding:15px;color:#fff;font-size:14px;transition:all .3 ease;cursor:pointer}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#395591}.form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:75px;color:#4b6cb7}.register[_ngcontent-%COMP%]{top:200px}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.is-valid[_ngcontent-%COMP%]{border-color:#35dc75;box-shadow:0 0 0 .25rem #44e04440}.invalid-feedback[_ngcontent-%COMP%]{top:1;bottom:100}.btn-img[_ngcontent-%COMP%]{width:100px;height:100px;background-size:cover;background-repeat:no-repeat;border-radius:10px}']}),n})(),HA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bienvenido"]],decls:5,vars:0,consts:[[1,"img"],["src","../../../assets/bienvenido-imagen.jpg","alt",""],[1,"container"],["role","button","routerLink","/login",1,"button-63"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.qZA(),u.TgZ(2,"div",2)(3,"button",3),u._uU(4,"Comenzar"),u.qZA()())},directives:[$n.rH],styles:[".contenedor[_ngcontent-%COMP%]{width:100vw;height:100vh}.img[_ngcontent-%COMP%]{position:absolute;width:100vw;height:600px;margin-top:7%;z-index:-1000}.button-63[_ngcontent-%COMP%]{align-items:center;background-image:linear-gradient(144deg,#AF40FF,#5B42F3 50%,#00DDEB);border:0;border-radius:8px;box-shadow:#9741fc33 0 15px 30px -5px;box-sizing:border-box;color:#fff;font-family:Phantomsans,sans-serif;font-size:20px;justify-content:center;line-height:1em;max-width:100%;min-width:140px;padding:19px 24px;text-decoration:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;white-space:nowrap;cursor:pointer;font-size:xx-large;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;margin-top:30%;margin-left:80%;z-index:1000}.button-63[_ngcontent-%COMP%]:active, .button-63[_ngcontent-%COMP%]:hover{outline:0}@media (min-width: 768px){.button-63[_ngcontent-%COMP%]{font-size:24px;min-width:196px}}"]}),n})();var $A=F(4327);let GA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-toggle-button"]],inputs:{activo:"activo"},decls:4,vars:1,consts:[[1,"switch"],["type","checkbox",3,"checked"]],template:function(t,i){1&t&&(u.TgZ(0,"label",0),u._UZ(1,"input",1),u.TgZ(2,"div"),u._UZ(3,"span"),u.qZA()()),2&t&&(u.xp6(1),u.Q6J("checked","true"==i.activo))},styles:['.switch[_ngcontent-%COMP%]{--line: #E8EBFB;--dot: #275EFE;--circle: #D3D4EC;--background: #fff;--duration: .3s;--text: #9EA0BE;--shadow: 0 1px 3px rgba(0, 9, 61, .08);cursor:pointer;position:relative}.switch[_ngcontent-%COMP%]:before{content:"";width:60px;height:32px;border-radius:16px;background:var(--background);position:absolute;left:0;top:0;box-shadow:var(--shadow)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before, .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{--s: 1;content:"";position:absolute;height:4px;top:14px;width:24px;background:var(--line);transform:scaleX(var(--s));transition:transform var(--duration) ease}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{--s: 0;left:4px;transform-origin:0 50%;border-radius:2px 0 0 2px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{left:32px;transform-origin:100% 50%;border-radius:0 2px 2px 0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:60px;line-height:28px;color:var(--text)}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{--x: 0;--b: var(--circle);--s: 4px;content:"";position:absolute;left:4px;top:4px;width:24px;height:24px;border-radius:50%;box-shadow:inset 0 0 0 var(--s) var(--b);transform:translate(var(--x));transition:box-shadow var(--duration) ease,transform var(--duration) ease}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:empty){padding-left:68px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{--s: 1}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{--s: 0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{--x: 28px;--s: 12px;--b: var(--dot)}body[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;position:relative;background:#E8EBFB}body[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%] + .switch[_ngcontent-%COMP%]{margin-top:32px}body[_ngcontent-%COMP%]   .dribbble[_ngcontent-%COMP%]{position:fixed;display:block;right:20px;bottom:20px}body[_ngcontent-%COMP%]   .dribbble[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;height:28px}']}),n})();function zA(n,e){1&n&&u._UZ(0,"app-loading")}function qA(n,e){if(1&n&&(u.TgZ(0,"li",9)(1,"div",10),u._UZ(2,"img",11),u.qZA(),u.TgZ(3,"div",10),u._uU(4),u.qZA(),u.TgZ(5,"div",12),u._uU(6),u.qZA(),u.TgZ(7,"div",13),u._uU(8),u.qZA(),u._UZ(9,"app-toggle-button",14),u.qZA()),2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.imageURL1,u.LSH),u.xp6(2),u.Oqu(t.rol),u.xp6(2),u.AsE("",t.nombre," ",t.apellido,""),u.xp6(2),u.Oqu(t.email),u.xp6(1),u.Q6J("activo",t.activo)}}function ZA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",0)(1,"h2"),u._uU(2,"Usuarios registrados"),u.qZA(),u._UZ(3,"hr"),u.TgZ(4,"button",3),u._UZ(5,"i",4),u.qZA(),u.TgZ(6,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().exportExcel()}),u._UZ(7,"i",6),u.qZA(),u.TgZ(8,"ul",7),u.YNc(9,qA,10,6,"li",8),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(9),u.Q6J("ngForOf",t.users)}}let WA=(()=>{class n{constructor(t){this.firestore=t,this.cargando=!1,this.users=[]}ngOnInit(){this.getUsers().then(()=>this.cargando=!0)}getUsers(){var t=this;return(0,xe.Z)(function*(){yield t.firestore.getPacientes().subscribe(i=>{i.forEach(o=>{t.users.push(o)}),t.cargando=!1})})()}exportExcel(){F.e(574).then(F.bind(F,574)).then(t=>{const o={Sheets:{data:t.utils.json_to_sheet(this.users)},SheetNames:["data"]},l=t.write(o,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(l,"users")})}saveAsExcelFile(t,i){const h=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});$A.saveAs(h,i+"export"+(new Date).getTime()+".xlsx")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-listado"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],["class","container",4,"ngIf"],["mat-raised-button","","matTooltip","Agregar usuario","matTooltipPosition","above","matTooltipClass","example-tooltip-red","routerLink","/register",1,"button-add-Admin"],[1,"fa","fa-plus"],[1,"button-add-Admin",3,"click"],[1,"fa","fa-save"],[1,"responsive-table"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"col","col-2"],[1,"img",3,"src"],[1,"col","col-2",2,"padding-left","10%"],[1,"col","col-3"],[1,"col","col-2",3,"activo"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,zA,1,0,"app-loading",1),u.YNc(2,ZA,10,1,"div",2),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",i.cargando),u.xp6(1),u.Q6J("ngIf",0==i.cargando))},directives:[p.O5,zv,$n.rH,p.sg,GA],styles:["body[_ngcontent-%COMP%]{font-family:lato,sans-serif}.container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:10px;padding-right:10px;width:4000px}h2[_ngcontent-%COMP%]{font-size:26px;margin:20px 0;text-align:center}h2[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em}.img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:10%}.button-add-Admin[_ngcontent-%COMP%]{color:#00f;border:none;background-color:transparent;font-size:xx-large;border-radius:10px;width:40px;height:40px;margin-left:3%}.responsive-table[_ngcontent-%COMP%]{max-height:850px;overflow-y:scroll}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:3px;padding:25px 15px;display:flex;justify-content:space-between;margin-top:10px;margin-bottom:25px;font-family:Verdana,Geneva,Tahoma,sans-serif;width:98%}.responsive-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 9px #0000001a}.responsive-table[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{flex-basis:10%;justify-content:center}@media all and (max-width: 767px){.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex-basis:100%}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;padding:10px 0}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:before{color:#6c7a89;padding-right:10px;content:attr(data-label);flex-basis:50%;text-align:right}}"]}),n})(),CD=(()=>{class n{canActivate(t,i){let o=window.localStorage.getItem("usuario");return null!=o&&"admin"==JSON.parse(o).rol}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var KA=F(3098);let YA=(()=>{class n{transform(t){switch(t){case"Traumatologo":return"https://thumbs.dreamstime.com/b/icono-de-traumatolog%C3%ADa-la-colecci%C3%B3n-m%C3%A9dica-elemento-l%C3%ADnea-simple-s%C3%ADmbolo-para-plantillas-dise%C3%B1o-web-e-infograf%C3%ADas-elementos-172442579.jpg";case"Medico clinico":default:return"https://w7.pngwing.com/pngs/898/226/png-transparent-physician-computer-icons-medicine-health-care-clinic-icon-physician-miscellaneous-hospital-nursing.png";case"Odontologo":return"https://thumbs.dreamstime.com/b/icono-del-dentista-81260702.jpg"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=u.Yjl({name:"EspecialidadFoto",type:n,pure:!0}),n})();function QA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",13),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw(2).selectEspecialista(l)}),u.TgZ(1,"div",14),u._UZ(2,"img",15),u.TgZ(3,"div",16)(4,"h5",17),u._uU(5),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.imageURL1,u.LSH),u.xp6(3),u.AsE("",t.nombre," ",t.apellido,"")}}function JA(n,e){if(1&n&&(u.TgZ(0,"div",9)(1,"h1",10),u._uU(2,"Seleccione especialista"),u.qZA(),u.TgZ(3,"div",11),u.YNc(4,QA,6,3,"div",12),u.qZA()()),2&n){const t=u.oxw();u.xp6(4),u.Q6J("ngForOf",t.especialistas)}}function XA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",18)(1,"div",13),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return o.SetEspecialidad(o.especialistaSeleccionado.especialidad)}),u.TgZ(2,"div",14),u._UZ(3,"img",15),u.ALo(4,"EspecialidadFoto"),u.TgZ(5,"div",16)(6,"h5",17),u._uU(7),u.qZA(),u.TgZ(8,"p",19),u._uU(9,"Descripcion de especialidad"),u.qZA()()()()()}if(2&n){const t=u.oxw();u.xp6(3),u.s9C("src",u.lcZ(4,2,t.especialistaSeleccionado.especialidad),u.LSH),u.xp6(4),u.Oqu(t.especialistaSeleccionado.especialidad)}}let ex=(()=>{class n{constructor(t,i){this.formBuilder=t,this.firestore=i,this.close=new u.vpe,this.especialidadSeleccionada="",this.especialistas=[],this.especialidades=[],this.cargando=!1,this.turnoForm=this.formBuilder.group({fecha:["",[yn.kI.required]],hora:["",[yn.kI.required]]})}ngOnInit(){this.getEspecialistas(),this.getEspecialidades().then(()=>this.cargando=!1)}get f(){return this.turnoForm.controls}isNotValidField(t){return(this.f[t].touched||1==this.f[t].dirty)&&!this.f[t].valid}getErrorMessage(t){let i="";return this.f[t].hasError("required")?i="Empty.":this.f[t].getError("email")?i="Invalid format":this.f[t].getError("minlength")&&(i="at least 7 characters"),i}onClose(){this.close.emit()}getEspecialistas(){this.cargando=!0,this.especialistas=[],this.firestore.getEspecilistas().subscribe(t=>{t.forEach(i=>{this.especialistas.push(i)}),this.cargando=!1})}getEspecialidades(){var t=this;return(0,xe.Z)(function*(){t.cargando=!0,yield t.firestore.getEspecilistas().subscribe(i=>{i.forEach(o=>{t.especialidades.push(o.especialidad)})})})()}FilterByEspecilidad(t){var i=this;return(0,xe.Z)(function*(){yield i.firestore.getEspecilistasByEspecilidad(t).subscribe(o=>{i.especialistas=[],o.forEach(l=>{i.especialistas.push(l)})})})()}selectEspecialista(t){this.especialistaSeleccionado=t}SetEspecialidad(t){this.especialidadSeleccionada=t}submit(){this.cargando=!0;let t=JSON.parse(window.localStorage.getItem("usuario"));this.turnoForm.invalid?(this.cargando=!1,this.close.emit()):(this.turno=this.turnoForm.value,this.turno.usuario=t,this.turno.especialista=this.especialistaSeleccionado,this.turno.estado="pendiente",this.turno.id=KA.i.create().toString(),this.turno.resenia="",this.turno.EncuestaCompletada=!1,this.turno?this.firestore.setTurnos(this.turno).then(()=>{this.cargando=!1,this.close.emit()}):(this.cargando=!1,this.close.emit()))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yn.qu),u.Y36(wc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-turno"]],outputs:{close:"close"},decls:10,vars:2,consts:[[1,"contenedor"],[1,"close-container"],["type","button",1,"btn-close",3,"click"],[1,"icon-cross"],[1,"visually-hidden"],[1,"crearTurno"],["class","contenedorEspecialistas",4,"ngIf"],["class","row row-cols-1 row-cols-lg-3 g-4 containerEspecialidades",4,"ngIf"],[1,"contenedorFechas"],[1,"contenedorEspecialistas"],[1,"d-flex","flex-row","justify-content-center","alig-items-center","mb-3"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",3,"click",4,"ngFor","ngForOf"],[1,"col",3,"click"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"row","row-cols-1","row-cols-lg-3","g-4","containerEspecialidades"],[1,"card-text"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"button",2),u.NdJ("click",function(){return i.onClose()}),u._UZ(3,"span",3),u.TgZ(4,"span",4),u._uU(5,"Close"),u.qZA()()(),u.TgZ(6,"div",5),u.YNc(7,JA,5,1,"div",6),u.qZA(),u.YNc(8,XA,10,4,"div",7),u._UZ(9,"div",8),u.qZA()),2&t&&(u.xp6(7),u.Q6J("ngIf",null==i.especialistaSeleccionado),u.xp6(1),u.Q6J("ngIf",null!=i.especialistaSeleccionado&&""==i.especialidadSeleccionada))},directives:[p.O5,p.sg],pipes:[YA],styles:['.contenedor[_ngcontent-%COMP%]{position:relative;display:flex;background:#e0dede;position:fixed;width:100%;height:100%;top:0;left:0;bottom:0;right:0;z-index:9997;align-items:center;justify-content:center;animation:fadein .5s}.containerEspecialidades[_ngcontent-%COMP%]{animation:fadein 1}.labelEspecialista[_ngcontent-%COMP%]{font-size:x-large;font-family:cursive}.card-img-top[_ngcontent-%COMP%]{cursor:pointer}.button-close[_ngcontent-%COMP%]{background-color:red;opacity:.7;font-size:large;color:#fff;border-radius:15%;width:40px;height:40px}@keyframes fadein{0%{opacity:0}to{opacity:1}}.login-box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:400px;padding:40px;transform:translate(-50%,-50%);background:rgba(0,0,0,.5);box-sizing:border-box;box-shadow:0 15px 25px #0009;border-radius:10px;opacity:1}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 30px;padding:0;color:#fff;text-align:center}.login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]{position:relative}.login-box[_ngcontent-%COMP%]   .user-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 0;font-size:16px;color:#fff;margin-bottom:30px;border:none;background-color:transparent;border-bottom:1px solid #fff;outline:none}.button-submit[_ngcontent-%COMP%]{position:relative;display:inline-block;padding:10px 20px;color:#fff;font-size:16px;overflow:hidden;margin-top:40px;letter-spacing:4px;border-color:#000;border-radius:30px;background-color:gray;cursor:pointer}.button-submit[_ngcontent-%COMP%]:hover{border-color:#87c9d4;transition:.5s}.close-container[_ngcontent-%COMP%]{position:absolute;margin:2% 2% auto auto;width:50px;height:50px;top:0;right:0;cursor:pointer}.btn-close[_ngcontent-%COMP%]{margin:0;border:0;padding:0;background:#0066ff;border-radius:50%;width:50px;height:50px;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;cursor:pointer;transition:all .15s}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;position:relative;width:30px;height:30px}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:before, .btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:after{content:"";position:absolute;top:12px;left:0;right:0;height:6px;background:#fff;border-radius:6px}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.btn-close[_ngcontent-%COMP%]:hover, .btn-close[_ngcontent-%COMP%]:focus{transform:rotate(90deg);background:#0052cc}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:gray}.cross-stand-alone[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;position:relative;width:40px;height:40px}.cross-stand-alone[_ngcontent-%COMP%]:before, .cross-stand-alone[_ngcontent-%COMP%]:after{content:"";position:absolute;top:18px;left:0;right:0;height:4px;background:#000;border-radius:4px}.cross-stand-alone[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.cross-stand-alone[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.cross-stand-alone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.cross-1px[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;position:relative;width:80px;height:80px}.cross-1px[_ngcontent-%COMP%]:before, .cross-1px[_ngcontent-%COMP%]:after{content:"";position:absolute;top:39.5px;left:0;right:0;height:1px;background:#000;border-radius:1px}.cross-1px[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.cross-1px[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.cross-1px[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0!important;border:0!important;height:1px!important;width:1px!important;overflow:hidden}']}),n})(),TD=(()=>{class n{constructor(){this.close=new u.vpe}ngOnInit(){}closeReview(){this.close.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-review"]],inputs:{review:"review"},outputs:{close:"close"},decls:10,vars:1,consts:[[1,"loading-overlay"],[1,"container","paper"],[1,"row"],["type","button",1,"btn-close","col-12",3,"click"],[1,"icon-cross"],[1,"visually-hidden"],[1,"row","justify-content-center","review"],[1,"col-12"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u.NdJ("click",function(){return i.closeReview()}),u._UZ(4,"span",4),u.TgZ(5,"span",5),u._uU(6,"Close"),u.qZA()()(),u.TgZ(7,"div",6)(8,"P",7),u._uU(9),u.qZA()()()()),2&t&&(u.xp6(9),u.Oqu(i.review))},styles:['.loading-overlay[_ngcontent-%COMP%]{display:flex;background:rgba(255,255,255,.7);position:fixed;bottom:0;left:0;right:0;top:0;z-index:9997;align-items:center;justify-content:center}.paper[_ngcontent-%COMP%]{background-color:gray;width:20%;height:40%;border-radius:5px}.review[_ngcontent-%COMP%]{margin-top:10%;margin-left:1%;width:100%;height:70%;justify-content:center;border:1px solid;border-radius:10px;box-shadow:#fff 20px solid}.btn-close[_ngcontent-%COMP%]{margin-left:10%;margin-top:5%;border:0;padding:0;background:#0066ff;border-radius:50%;width:40px;height:40px;display:flex;flex-flow:column nowrap;justify-content:center;align-items:center;cursor:pointer;transition:all .15s}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;position:relative;width:30px;height:30px}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:before, .btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:after{content:"";position:absolute;top:12px;left:0;right:0;height:6px;background:#fff;border-radius:6px}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.btn-close[_ngcontent-%COMP%]   .icon-cross[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.btn-close[_ngcontent-%COMP%]:hover, .btn-close[_ngcontent-%COMP%]:focus{transform:rotate(90deg);background:#0052cc}.cross-stand-alone[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;position:relative;width:40px;height:40px}.cross-stand-alone[_ngcontent-%COMP%]:before, .cross-stand-alone[_ngcontent-%COMP%]:after{content:"";position:absolute;top:18px;left:0;right:0;height:4px;background:#000;border-radius:4px}.cross-stand-alone[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.cross-stand-alone[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.cross-stand-alone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.cross-1px[_ngcontent-%COMP%]{margin:0;padding:0;border:0;background:none;position:relative;width:80px;height:80px}.cross-1px[_ngcontent-%COMP%]:before, .cross-1px[_ngcontent-%COMP%]:after{content:"";position:absolute;top:39.5px;left:0;right:0;height:1px;background:#000;border-radius:1px}.cross-1px[_ngcontent-%COMP%]:before{transform:rotate(45deg)}.cross-1px[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}.cross-1px[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0!important;border:0!important;height:1px!important;width:1px!important;overflow:hidden}']}),n})();const tx=function(){return{standalone:!0}};function nx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"textarea",9),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().resenia=o}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.resenia)("ngModelOptions",u.DdM(2,tx))}}function ix(n,e){1&n&&(u.TgZ(0,"div",10),u._uU(1," El comentario debe tener al menos 15 caracteres. "),u.qZA())}let ID=(()=>{class n{constructor(t){this.firestore=t,this.close=new u.vpe,this.resenia="",this.error=!1,this.user=this.firestore.usuario}ngOnInit(){}DeleteTurno(t){this.resenia.length<15&&1==t&&"aceptado"!=this.estadoUpdate?this.error=!0:this.close.emit({respuesta:t,resenia:this.resenia})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-question"]],inputs:{estadoUpdate:"estadoUpdate"},outputs:{close:"close"},decls:14,vars:2,consts:[[1,"contenedor"],[1,"card__container"],[1,"card"],[1,"card__content"],[1,"card__header"],[1,"card__info"],["cols","30","rows","10","class","inputResenia","placeholder","ingrese un comentario",3,"ngModel","ngModelOptions","ngModelChange",4,"ngIf"],[1,"card__button",3,"click"],["class","alert alert-danger mt-1","role","alert",4,"ngIf"],["cols","30","rows","10","placeholder","ingrese un comentario",1,"inputResenia",3,"ngModel","ngModelOptions","ngModelChange"],["role","alert",1,"alert","alert-danger","mt-1"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),u._uU(5,"Cuidado!"),u.qZA(),u.TgZ(6,"p",5),u._uU(7,"Desea modificiar el turno?"),u.qZA(),u.YNc(8,nx,1,3,"textarea",6),u.TgZ(9,"button",7),u.NdJ("click",function(){return i.DeleteTurno(!0)}),u._uU(10,"Aceptar"),u.qZA(),u.TgZ(11,"button",7),u.NdJ("click",function(){return i.DeleteTurno(!1)}),u._uU(12,"Cancelar"),u.qZA(),u.YNc(13,ix,2,0,"div",8),u.qZA()()()()),2&t&&(u.xp6(8),u.Q6J("ngIf","aceptado"!=i.estadoUpdate),u.xp6(5),u.Q6J("ngIf",i.error))},directives:[p.O5,yn.Fj,yn.JJ,yn.On],styles:['@import"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap";.contenedor[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;align-items:center}.card[_ngcontent-%COMP%]{width:70%;height:70%;text-align:center;background:#333333;border-radius:10px;box-shadow:25px 25px 50px #1b1c1b,-25px -25px 50px #2d302f;margin-left:210%;margin-top:30%;font-size:x-large}.card__container[_ngcontent-%COMP%]{display:grid;width:100%;height:35%;grid-template-columns:1fr 1fr 1fr;align-items:center;justify-items:center;color:#fff}.card__content[_ngcontent-%COMP%]{width:90%;height:95%;background:#4e4e4e;margin:10px auto;border-radius:5px;padding:20px;box-shadow:16px 16px 44px #0a0a0a,-16px -16px 44px #282a28}.card__header[_ngcontent-%COMP%]{text-transform:uppercase;font-size:20px;margin:40px auto}.card__button[_ngcontent-%COMP%]{padding:10px;border-radius:50px;background:#1f75c4;color:#fff;font-weight:700;cursor:pointer;border:none;margin:50px auto;border:2px transparent;font-size:large}.inputResenia[_ngcontent-%COMP%]{width:90%;height:35%;color:#fff;background:#4e4e4e;margin:10px auto;border-radius:5px;padding:20px}.card__button[_ngcontent-%COMP%]:hover{background-color:#4d6da8bb;transition:.5s}']}),n})(),rx=(()=>{class n{constructor(){this.close=new u.vpe}ngOnInit(){}onClick(t){this.close.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-finaliazar-turno"]],outputs:{close:"close"},decls:13,vars:0,consts:[[1,"container"],[1,"row"],[1,"col","col-12"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),u._uU(4,"Altura"),u.qZA(),u.TgZ(5,"label"),u._uU(6,"Peso"),u.qZA(),u.TgZ(7,"label"),u._uU(8,"Temperatura"),u.qZA(),u.TgZ(9,"label"),u._uU(10,"Presion"),u.qZA()()(),u._UZ(11,"div",1)(12,"div",1),u.qZA())},styles:[""]}),n})();function sx(n,e){1&n&&u._UZ(0,"app-loading")}function ox(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-add-turno",17),u.NdJ("close",function(){return u.CHM(t),u.oxw().Closeform()}),u.qZA()}}function ax(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-review",18),u.NdJ("close",function(){return u.CHM(t),u.oxw().CloseReiew()}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("review",t.turnoSelected)}}function lx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-question",19),u.NdJ("close",function(o){return u.CHM(t),u.oxw().UpdateTurno(o)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("estadoUpdate",t.estadoUpdate)}}function ux(n,e){1&n&&u._UZ(0,"app-finaliazar-turno")}function cx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",20)(1,"button",21),u.NdJ("click",function(){return u.CHM(t),u.oxw().OpenForm()}),u.TgZ(2,"i",22),u._uU(3," Agregar turno"),u.qZA()()()}}function dx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",23),u.NdJ("click",function(){return u.CHM(t),u.oxw().onClickError()}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw();u.xp6(1),u.hij(" ",t.error," ")}}function hx(n,e){1&n&&(u.TgZ(0,"div",13),u._uU(1,"Especialista "),u.qZA())}function fx(n,e){1&n&&(u.TgZ(0,"div",13),u._uU(1,"Paciente "),u.qZA())}function px(n,e){if(1&n&&(u.TgZ(0,"div",13),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.AsE("",t.especialista.nombre," ",t.especialista.apellido,"")}}function gx(n,e){if(1&n&&(u.TgZ(0,"div",13),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.AsE("",t.usuario.nombre," ",t.usuario.apellido,"")}}function mx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",13)(1,"button",26),u.NdJ("click",function(){u.CHM(t);const o=u.oxw().$implicit;return u.oxw().ChangeStateTurno("cancelar",o)}),u._UZ(2,"i",27),u.qZA()()}}function _x(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",31),u.NdJ("click",function(){u.CHM(t);const o=u.oxw(2).$implicit;return u.oxw().ChangeStateTurno("aceptar",o)}),u._UZ(1,"i",32),u.qZA()}}function yx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(t);const o=u.oxw(2).$implicit;return u.oxw().ChangeStateTurno("rechazar",o)}),u._UZ(1,"i",33),u.qZA()}}function vx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",26),u.NdJ("click",function(){u.CHM(t);const o=u.oxw(2).$implicit;return u.oxw().ChangeStateTurno("cancelar",o)}),u._UZ(1,"i",27),u.qZA()}}function wx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",34),u.NdJ("click",function(){u.CHM(t);const o=u.oxw(2).$implicit;return u.oxw().ShowFinalizarForm(o)}),u._UZ(1,"i",35),u.qZA()}}function bx(n,e){if(1&n&&(u.TgZ(0,"div",13),u.YNc(1,_x,2,0,"button",28),u.YNc(2,yx,2,0,"button",29),u.YNc(3,vx,2,0,"button",29),u.YNc(4,wx,2,0,"button",30),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf","cancelado"!=t.estado&&"completado"!=t.estado),u.xp6(1),u.Q6J("ngIf","cancelado"!=t.estado&&"completado"!=t.estado),u.xp6(1),u.Q6J("ngIf","cancelado"!=t.estado&&"completado"!=t.estado),u.xp6(1),u.Q6J("ngIf","cancelado"!=t.estado&&"completado"!=t.estado)}}function Ex(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",24)(1,"div",13),u._uU(2),u.qZA(),u.TgZ(3,"div",13),u._uU(4),u.qZA(),u.YNc(5,px,2,2,"div",14),u.YNc(6,gx,2,2,"div",14),u.TgZ(7,"div",13)(8,"button",25),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().viewReview(l.resenia)}),u._uU(9," Rese\xf1a "),u._UZ(10,"i",15),u.qZA()(),u.TgZ(11,"div",13),u._uU(12),u.qZA(),u.YNc(13,mx,3,0,"div",14),u.YNc(14,bx,5,4,"div",14),u.qZA()}if(2&n){const t=e.$implicit,i=u.oxw();u.xp6(2),u.Oqu(t.fecha),u.xp6(2),u.Oqu(t.hora),u.xp6(1),u.Q6J("ngIf","paciente"==i.user.rol),u.xp6(1),u.Q6J("ngIf","especialista"==i.user.rol),u.xp6(5),u.ekj("cancelado","cancelado"==t.estado||"rechazado"==t.estado)("aceptado","aceptado"==t.estado)("completado","completado"==t.estado)("pendiente","pendiente"==t.estado),u.xp6(1),u.hij(" ",t.estado,""),u.xp6(1),u.Q6J("ngIf","paciente"==i.user.rol),u.xp6(1),u.Q6J("ngIf","especialista"==i.user.rol)}}let Cx=(()=>{class n{constructor(t){this.firestore=t,this.agregandoTurno=!1,this.mostrarReview=!1,this.turnos=[],this.turnosWithoutFilter=[],this.cargando=!1,this.mostrarQuestion=!1,this.error=""}ngOnInit(){this.getCurrentUser(),this.getTurnos()}onFilter(t){let i=t.srcElement.value;this.filter=i,this.turnos=this.turnosWithoutFilter.filter(o=>o.especialista.especialidad.toLowerCase().includes(i.toLowerCase())||o.especialista.nombre.toLowerCase().includes(i.toLowerCase())||o.especialista.apellido.toLowerCase().includes(i.toLowerCase()))}getTurnos(){this.cargando=!0,"paciente"==this.user.rol?this.firestore.getTurnosPacienteByEmail(this.user.email).subscribe(t=>{this.turnos=[],t.forEach(i=>{this.turnos.push(i)}),this.filter&&this.onFilter(this.filter),this.turnosWithoutFilter=this.turnos,this.cargando=!1}):"especialista"==this.user.rol&&this.firestore.getTurnosEspcialistaByEmail(this.user.email).subscribe(t=>{this.turnos=[],t.forEach(i=>{this.turnos.push(i)}),this.filter&&this.onFilter(this.filter),this.turnosWithoutFilter=this.turnos,this.cargando=!1})}getCurrentUser(){this.user=JSON.parse(window.localStorage.getItem("usuario"))}OpenForm(){this.agregandoTurno=!0}Closeform(){this.agregandoTurno=!1}viewReview(t){null!=t&&""!=t?(this.turnoSelected=t,this.mostrarReview=!0):this.error="No hay ninguna rese\xf1a"}CloseReiew(){this.mostrarReview=!1}UpdateTurno(t){var i,o;this.cargando=!0,console.log(t),(null===(i=this.UpdateTurnoSelected)||void 0===i?void 0:i.estado)&&1==t.respuesta?(this.UpdateTurnoSelected.resenia=t.resenia,this.UpdateTurnoSelected.estado=this.estadoUpdate,this.firestore.UpdateObj("turnos",this.UpdateTurnoSelected,null===(o=this.UpdateTurnoSelected)||void 0===o?void 0:o.id).then(l=>{this.cargando=!1,this.mostrarQuestion=!1,this.UpdateTurnoSelected=null})):(this.cargando=!1,this.mostrarQuestion=!1)}onClickError(){this.error=""}ChangeStateTurno(t,i){this.UpdateTurnoSelected=i,"cancelar"==t?this.estadoUpdate="cancelado":"aceptar"==t?this.estadoUpdate="aceptado":"rechazar"==t&&(this.estadoUpdate="rechazado"),this.mostrarQuestion=!0}ShowFinalizarForm(t){this.mostrarFinalizarFormulario=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mis-turnos"]],decls:31,vars:10,consts:[[1,"container"],[4,"ngIf"],[3,"close",4,"ngIf"],[3,"review","close",4,"ngIf"],[3,"estadoUpdate","close",4,"ngIf"],[1,"row"],["class","col-2",4,"ngIf"],[1,"col-10","d-flex","flex-row-reverse"],["type","text","placeholder","Buscar por ...",1,"searcher",3,"change"],["class","alert alert-danger mt-2","role","alert",3,"click",4,"ngIf"],[1,"row","mt-5"],[1,"responsive-table"],[1,"table-header"],[1,"col","col-2"],["class","col col-2",4,"ngIf"],[1,"fa","fa-pencil"],["class","table-row",4,"ngFor","ngForOf"],[3,"close"],[3,"review","close"],[3,"estadoUpdate","close"],[1,"col-2"],[1,"button-add-turno",3,"click"],[1,"fa","fa-plus"],["role","alert",1,"alert","alert-danger","mt-2",3,"click"],[1,"table-row"],[1,"btn-review",3,"click"],[1,"button-delete-turno",3,"click"],[1,"fa","fa-ban"],["class","button-delete-turno","style","color: green;",3,"click",4,"ngIf"],["class","button-delete-turno",3,"click",4,"ngIf"],["class","button-delete-turno","style","color:blue;",3,"click",4,"ngIf"],[1,"button-delete-turno",2,"color","green",3,"click"],[1,"fa","fa-check"],[1,"fa","fa-close"],[1,"button-delete-turno",2,"color","blue",3,"click"],[1,"fa","fa-file-text-o"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,sx,1,0,"app-loading",1),u.YNc(2,ox,1,0,"app-add-turno",2),u.YNc(3,ax,1,1,"app-review",3),u.YNc(4,lx,1,1,"app-question",4),u.YNc(5,ux,1,0,"app-finaliazar-turno",1),u.TgZ(6,"div",0)(7,"h2"),u._uU(8,"Mis turnos"),u.qZA(),u._UZ(9,"hr"),u.TgZ(10,"div",5),u.YNc(11,cx,4,0,"div",6),u.TgZ(12,"div",7)(13,"input",8),u.NdJ("change",function(l){return i.onFilter(l)}),u.qZA()()(),u.YNc(14,dx,2,1,"div",9),u.TgZ(15,"div",10)(16,"ul",11)(17,"li",12)(18,"div",13),u._uU(19,"Fecha"),u.qZA(),u.TgZ(20,"div",13),u._uU(21,"Hora"),u.qZA(),u.YNc(22,hx,2,0,"div",14),u.YNc(23,fx,2,0,"div",14),u.TgZ(24,"div",13),u._UZ(25,"i",15),u.qZA(),u.TgZ(26,"div",13),u._uU(27,"Estado"),u.qZA(),u.TgZ(28,"div",13),u._uU(29,"Accion"),u.qZA()(),u.YNc(30,Ex,15,15,"li",16),u.qZA()()()()),2&t&&(u.xp6(1),u.Q6J("ngIf",i.cargando),u.xp6(1),u.Q6J("ngIf",i.agregandoTurno),u.xp6(1),u.Q6J("ngIf",i.mostrarReview),u.xp6(1),u.Q6J("ngIf",i.mostrarQuestion),u.xp6(1),u.Q6J("ngIf",i.mostrarFinalizarFormulario),u.xp6(6),u.Q6J("ngIf","paciente"==i.user.rol),u.xp6(3),u.Q6J("ngIf",""!=i.error),u.xp6(8),u.Q6J("ngIf","paciente"==i.user.rol),u.xp6(1),u.Q6J("ngIf","especialista"==i.user.rol),u.xp6(7),u.Q6J("ngForOf",i.turnos))},directives:[p.O5,zv,ex,TD,ID,rx,p.sg],styles:["body[_ngcontent-%COMP%]{font-family:lato,sans-serif}.container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:10px;padding-right:10px;width:4000px}h2[_ngcontent-%COMP%]{font-size:26px;margin:20px 0;text-align:center}h2[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em}.img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:10%}.header[_ngcontent-%COMP%]{border-bottom:solid 1px;border-color:#6c7a89}.button-add-turno[_ngcontent-%COMP%]{color:green;border:none;background-color:transparent;font-size:x-large;border-radius:10px;margin-left:3%}.button-delete-turno[_ngcontent-%COMP%]{color:red;border:none;background-color:transparent;box-shadow:solid gray;font-size:x-large;border-radius:10px;margin-left:3%}.searcher[_ngcontent-%COMP%]{border-radius:20px;border-color:gray;height:100%;width:40%;font-family:Georgia,Times New Roman,Times,serif;color:gray}.searcher[_ngcontent-%COMP%]:hover{border-color:#4e67f0}.cancelado[_ngcontent-%COMP%]{color:red}.pendiente[_ngcontent-%COMP%]{color:#00f}.completado[_ngcontent-%COMP%]{color:green}.aceptado[_ngcontent-%COMP%]{color:#add8e6}.responsive-table[_ngcontent-%COMP%]{max-height:850px;overflow-y:scroll}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:3px;padding:25px 15px;display:flex;justify-content:space-between;margin-top:10px;margin-bottom:25px;font-family:Verdana,Geneva,Tahoma,sans-serif;width:98%}.responsive-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 9px #0000001a}.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{margin-bottom:5px;font-size:x-large;border-bottom:solid 1px;border-radius:0}.responsive-table[_ngcontent-%COMP%]   .btn-review[_ngcontent-%COMP%]{border-radius:10px;border-color:.5px grey;background-color:gray;color:#fff;cursor:pointer}.responsive-table[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{flex-basis:10%;justify-content:center}@media all and (max-width: 767px){.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex-basis:100%}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;padding:10px 0}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:before{color:#6c7a89;padding-right:10px;content:attr(data-label);flex-basis:50%;text-align:right}}"]}),n})();var Cu=F(9783),Tx=F(5315),Ix=F(7102),Dx=F(845);function Sx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"p",13)(1,"p-selectButton",14),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().selectedDays=o}),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("options",t.daysOptions)("ngModel",t.selectedDays)}}function Ax(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"p-button",15),u.NdJ("click",function(){return u.CHM(t),u.oxw().display=!1}),u.qZA()}}function xx(n,e){if(1&n&&(u.TgZ(0,"div",16)(1,"h3"),u._uU(2,"ObraSocial:"),u.qZA(),u.TgZ(3,"h4"),u._uU(4),u.qZA()()),2&n){const t=u.oxw();u.xp6(4),u.hij("",null==t.usuario.value?null:t.usuario.value.obraSocial," ")}}function Mx(n,e){if(1&n&&(u.TgZ(0,"div",16)(1,"h3"),u._uU(2,"Especialidad:"),u.qZA(),u.TgZ(3,"h4"),u._uU(4),u.qZA()()),2&n){const t=u.oxw();u.xp6(4),u.hij("",null==t.usuario.value?null:t.usuario.value.especialidad," ")}}function Ox(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().showDialog()}),u._UZ(1,"i",18),u._uU(2," Cargar mis horarios"),u.qZA()}}function Px(n,e){1&n&&(u.TgZ(0,"button",19)(1,"i",20),u._uU(2," Mis turnos"),u.qZA()())}const Rx=function(){return{width:"50vw",background:"white"}};let Nx=(()=>{class n{constructor(t,i){this.firestore=t,this.primeNGConfig=i,this.usuario=this.firestore.usuario,this.display=!1,this.daysOptions=[{name:"Lunes",value:"Lunes"},{name:"Martes",value:"Martes"},{name:"Miercoles",value:"Miercoles"},{name:"Jueves",value:"Jueves"},{name:"Viernes",value:"Viernes"}]}ngOnInit(){this.primeNGConfig.ripple=!0}showDialog(){this.display=!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc),u.Y36(Cu.b4))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-mi-perfil"]],decls:37,vars:14,consts:[["header","Seleccione horarios",3,"visible","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"container"],[1,"row"],["img","","alt","",1,"img","col-4",3,"src"],[1,"contendor-info","mt-5","col-8"],[1,"col-6"],["class","col-12",4,"ngIf"],["class","button-15","type","button",3,"click",4,"ngIf"],["routerLink","/mis-turnos","class","button-15","role","button",4,"ngIf"],["role","button",1,"button-15",2,"margin-bottom","2%"],[1,"fa","fa-file"],[1,"p-m-0"],["optionLabel","name","optionValue","value",3,"options","ngModel","ngModelChange"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"],[1,"col-12"],["type","button",1,"button-15",3,"click"],[1,"fa","fa-clock-o"],["routerLink","/mis-turnos","role","button",1,"button-15"],[1,"fa","fa-pencil"]],template:function(t,i){1&t&&(u.TgZ(0,"p-dialog",0),u.NdJ("visibleChange",function(l){return i.display=l}),u.YNc(1,Sx,2,2,"ng-template",1),u.YNc(2,Ax,1,0,"ng-template",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4),u._UZ(5,"img",5),u.TgZ(6,"div",6)(7,"div",4)(8,"div",7)(9,"h3"),u._uU(10,"Nombre:"),u.qZA(),u.TgZ(11,"h4"),u._uU(12),u.qZA()(),u.TgZ(13,"div",7)(14,"h3"),u._uU(15,"Edad:"),u.qZA(),u.TgZ(16,"h4"),u._uU(17),u.qZA()()(),u.TgZ(18,"div",4)(19,"div",7)(20,"h3"),u._uU(21,"DNI:"),u.qZA(),u.TgZ(22,"h5"),u._uU(23),u.qZA()(),u.TgZ(24,"div",7)(25,"h3"),u._uU(26,"Email:"),u.qZA(),u.TgZ(27,"h4"),u._uU(28),u.qZA()()(),u.TgZ(29,"div",4),u.YNc(30,xx,5,1,"div",8),u.YNc(31,Mx,5,1,"div",8),u.qZA()(),u.YNc(32,Ox,3,0,"button",9),u.YNc(33,Px,3,0,"button",10),u.TgZ(34,"button",11),u._UZ(35,"i",12),u._uU(36," Imprimir historia clinica (PDF)"),u.qZA()()()),2&t&&(u.Akn(u.DdM(13,Rx)),u.Q6J("visible",i.display),u.xp6(5),u.s9C("src",null==i.usuario.value?null:i.usuario.value.imageURL1,u.LSH),u.xp6(7),u.AsE("",null==i.usuario.value?null:i.usuario.value.nombre," ",null==i.usuario.value?null:i.usuario.value.apellido,""),u.xp6(5),u.hij("",null==i.usuario.value?null:i.usuario.value.edad," A\xf1os"),u.xp6(6),u.Oqu(null==i.usuario.value?null:i.usuario.value.DNI),u.xp6(5),u.Oqu(null==i.usuario.value?null:i.usuario.value.email),u.xp6(2),u.Q6J("ngIf","paciente"==(null==i.usuario.value?null:i.usuario.value.rol)),u.xp6(1),u.Q6J("ngIf","especialista"==(null==i.usuario.value?null:i.usuario.value.rol)),u.xp6(1),u.Q6J("ngIf","especialista"==(null==i.usuario.value?null:i.usuario.value.rol)),u.xp6(1),u.Q6J("ngIf","especialista"==(null==i.usuario.value?null:i.usuario.value.rol)))},directives:[Tx.V,Cu.jx,Ix.UN,yn.JJ,yn.On,Dx.zx,p.O5,$n.rH],styles:['.img[_ngcontent-%COMP%]{border-radius:50%;margin-top:2%;width:400px;height:400px;display:block}.row[_ngcontent-%COMP%]{margin:2%}.container[_ngcontent-%COMP%]{justify-content:center;align-items:center;margin-top:2%;background-color:#add8e6;border-radius:20px}.contendor-info[_ngcontent-%COMP%]{border-radius:20px;height:100%;font-family:Cambria,Cochin,Georgia,Times,"Times New Roman",serif bold}.button-15[_ngcontent-%COMP%]{margin-top:2%;background-image:linear-gradient(#42A1EC,#0070C9);border:1px solid #0077CC;border-radius:4px;box-sizing:border-box;color:#fff;cursor:pointer;direction:ltr;display:block;font-size:23px;font-weight:400;letter-spacing:-.022em;line-height:1.47059;min-width:30px;overflow:visible;padding:4px 15px;text-align:center;user-select:none;-webkit-user-select:none;touch-action:manipulation;white-space:nowrap}.button-15[_ngcontent-%COMP%]:disabled{cursor:default;opacity:.3}.button-15[_ngcontent-%COMP%]:hover{background-image:linear-gradient(#51A9EE,#147BCD);border-color:#1482d0;text-decoration:none}.button-15[_ngcontent-%COMP%]:active{background-image:linear-gradient(#3D94D9,#0067B9);border-color:#006dbc;outline:none;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.button-15[_ngcontent-%COMP%]:focus{box-shadow:#83c0fd80 0 0 0 3px;outline:none}']}),n})();function kx(n,e){1&n&&u._UZ(0,"app-loading")}function Fx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-review",14),u.NdJ("close",function(){return u.CHM(t),u.oxw().CloseReiew()}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("review",t.turnoSelected)}}function Lx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"app-question",15),u.NdJ("close",function(o){return u.CHM(t),u.oxw().UpdateTurno(o)}),u.qZA()}}function Vx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",16),u.NdJ("click",function(){return u.CHM(t),u.oxw().onClickError()}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw();u.xp6(1),u.hij(" ",t.error," ")}}function Ux(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11)(1,"button",20),u.NdJ("click",function(){u.CHM(t);const o=u.oxw().$implicit;return u.oxw().wantToCancel(o)}),u._UZ(2,"i",21),u.qZA()()}}function Bx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",11)(1,"button",22),u.NdJ("click",function(){u.CHM(t);const o=u.oxw().$implicit;return u.oxw().wantToCancel(o)}),u._UZ(2,"i",21),u.qZA()()}}function jx(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",17)(1,"div",11),u._uU(2),u.qZA(),u.TgZ(3,"div",11),u._uU(4),u.qZA(),u.TgZ(5,"div",11),u._uU(6),u.qZA(),u.TgZ(7,"div",11),u._uU(8),u.qZA(),u.TgZ(9,"div",11)(10,"button",18),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().viewReview(l.resenia)}),u._uU(11," Rese\xf1a "),u._UZ(12,"i",12),u.qZA()(),u.TgZ(13,"div",11),u._uU(14),u.qZA(),u.YNc(15,Ux,3,0,"div",19),u.YNc(16,Bx,3,0,"div",19),u.qZA()}if(2&n){const t=e.$implicit,i=u.oxw();u.xp6(2),u.AsE("",t.usuario.nombre," ",t.usuario.apellido,""),u.xp6(2),u.Oqu(t.fecha),u.xp6(2),u.Oqu(t.hora),u.xp6(2),u.AsE("",t.especialista.nombre," ",t.especialista.apellido,""),u.xp6(5),u.ekj("cancelado","cancelado"==t.estado||"rechazado"==t.estado)("aceptado","aceptado"==t.estado)("completado","completado"==t.estado)("pendiente","pendiente"==t.estado),u.xp6(1),u.hij(" ",t.estado,""),u.xp6(1),u.Q6J("ngIf",i.canCencel(t)),u.xp6(1),u.Q6J("ngIf",!i.canCencel(t))}}const Hx=[{path:"",component:HA},{path:"usuarios",component:WA,canActivate:[CD],data:{animation:"usuariosPage"}},{path:"mis-turnos",component:Cx,loadChildren:()=>F.e(229).then(F.bind(F,8229)).then(n=>n.TurnosModule)},{path:"turnos",component:(()=>{class n{constructor(t){this.firestore=t,this.agregandoTurno=!1,this.mostrarReview=!1,this.turnos=[],this.turnosWithoutFilter=[],this.cargando=!1,this.mostrarQuestion=!1,this.error=""}ngOnInit(){this.getCurrentUser(),this.getTurnos()}onFilter(t){let i=t.srcElement.value;this.filter=i,this.turnos=this.turnosWithoutFilter.filter(o=>o.especialista.especialidad.toLowerCase().includes(i.toLowerCase())||o.especialista.nombre.toLowerCase().includes(i.toLowerCase())||o.especialista.apellido.toLowerCase().includes(i.toLowerCase()))}getTurnos(){this.cargando=!0,this.firestore.getTurnos().subscribe(t=>{this.turnos=[],t.forEach(i=>{this.turnos.push(i)}),this.filter&&this.onFilter(this.filter),this.turnosWithoutFilter=this.turnos,this.cargando=!1})}getCurrentUser(){this.user=JSON.parse(window.localStorage.getItem("usuario"))}OpenForm(){this.agregandoTurno=!0}Closeform(){this.agregandoTurno=!1}viewReview(t){null!=t&&""!=t?(this.turnoSelected=t,this.mostrarReview=!0):this.error="No hay ninguna rese\xf1a"}CloseReiew(){this.mostrarReview=!1}UpdateTurno(t){var i,o;this.cargando=!0,(null===(i=this.UpdateTurnoSelected)||void 0===i?void 0:i.estado)?(this.UpdateTurnoSelected.estado="cancelado",this.UpdateTurnoSelected.resenia=t.resenia,console.log(this.UpdateTurnoSelected.resenia),1==t.respuesta&&this.firestore.UpdateObj("turnos",this.UpdateTurnoSelected,null===(o=this.UpdateTurnoSelected)||void 0===o?void 0:o.id).then(l=>{this.cargando=!1,this.mostrarQuestion=!1,this.UpdateTurnoSelected=null})):0==t.respuesta&&(this.mostrarQuestion=!1,this.cargando=!1)}wantToCancel(t){this.UpdateTurnoSelected=t,this.mostrarQuestion=!0}onClickError(){this.error=""}canCencel(t){return"aceptado"!=t.estado&&"cancelado"!=t.estado&&"rechazado"!=t.estado}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-turnos"]],decls:30,vars:5,consts:[[1,"container"],[4,"ngIf"],[3,"review","close",4,"ngIf"],[3,"close",4,"ngIf"],[1,"row"],[1,"col-3","d-flex"],["type","text","placeholder","Buscar por ...",1,"searcher",3,"change"],["class","alert alert-danger mt-2","role","alert",3,"click",4,"ngIf"],[1,"row","mt-2"],[1,"responsive-table"],[1,"table-header"],[1,"col","col-2"],[1,"fa","fa-pencil"],["class","table-row",4,"ngFor","ngForOf"],[3,"review","close"],[3,"close"],["role","alert",1,"alert","alert-danger","mt-2",3,"click"],[1,"table-row"],[1,"btn-review",3,"click"],["class","col col-2",4,"ngIf"],[1,"button-delete-turno",3,"click"],[1,"fa","fa-ban"],["disabled","",1,"button-delete-turno",2,"color","grey",3,"click"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u.YNc(1,kx,1,0,"app-loading",1),u.YNc(2,Fx,1,1,"app-review",2),u.YNc(3,Lx,1,0,"app-question",3),u.TgZ(4,"div",0)(5,"h2"),u._uU(6,"Turnos de la clinica"),u.qZA(),u._UZ(7,"hr"),u.TgZ(8,"div",4)(9,"div",5)(10,"input",6),u.NdJ("change",function(l){return i.onFilter(l)}),u.qZA()()(),u.YNc(11,Vx,2,1,"div",7),u.TgZ(12,"div",8)(13,"ul",9)(14,"li",10)(15,"div",11),u._uU(16,"Usuario"),u.qZA(),u.TgZ(17,"div",11),u._uU(18,"Fecha"),u.qZA(),u.TgZ(19,"div",11),u._uU(20,"Hora"),u.qZA(),u.TgZ(21,"div",11),u._uU(22,"Especialista "),u.qZA(),u.TgZ(23,"div",11),u._UZ(24,"i",12),u.qZA(),u.TgZ(25,"div",11),u._uU(26,"Estado"),u.qZA(),u.TgZ(27,"div",11),u._uU(28,"Accion"),u.qZA()(),u.YNc(29,jx,17,17,"li",13),u.qZA()()()()),2&t&&(u.xp6(1),u.Q6J("ngIf",i.cargando),u.xp6(1),u.Q6J("ngIf",i.mostrarReview),u.xp6(1),u.Q6J("ngIf",i.mostrarQuestion),u.xp6(8),u.Q6J("ngIf",""!=i.error),u.xp6(18),u.Q6J("ngForOf",i.turnos))},directives:[p.O5,zv,TD,ID,p.sg],styles:["body[_ngcontent-%COMP%]{font-family:lato,sans-serif}.container[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:10px;padding-right:10px;width:4000px}h2[_ngcontent-%COMP%]{font-size:26px;margin:20px 0;text-align:center}h2[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em}.img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:10%}.header[_ngcontent-%COMP%]{border-bottom:solid 1px;border-color:#6c7a89}.button-add-turno[_ngcontent-%COMP%]{color:green;border:none;background-color:transparent;font-size:x-large;border-radius:10px;margin-left:3%}.button-delete-turno[_ngcontent-%COMP%]{color:red;border:none;background-color:transparent;box-shadow:solid gray;font-size:x-large;border-radius:10px;margin-left:3%}.searcher[_ngcontent-%COMP%]{border-radius:20px;border-color:gray;height:3rem;width:100%;font-family:Georgia,Times New Roman,Times,serif;color:gray}.searcher[_ngcontent-%COMP%]:hover{border-color:#4e67f0}.cancelado[_ngcontent-%COMP%]{color:red}.pendiente[_ngcontent-%COMP%]{color:#00f}.completado[_ngcontent-%COMP%]{color:green}.aceptado[_ngcontent-%COMP%]{color:#ff0}.responsive-table[_ngcontent-%COMP%]{max-height:850px;overflow-y:scroll}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:3px;padding:25px 15px;display:flex;justify-content:space-between;margin-top:10px;margin-bottom:25px;font-family:Verdana,Geneva,Tahoma,sans-serif;width:98%}.responsive-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 9px #0000001a}.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{margin-bottom:5px;font-size:x-large;border-bottom:solid 1px;border-radius:0}.responsive-table[_ngcontent-%COMP%]   .btn-review[_ngcontent-%COMP%]{border-radius:10px;border-color:.5px grey;background-color:gray;color:#fff;cursor:pointer}.responsive-table[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]{flex-basis:10%;justify-content:center}@media all and (max-width: 767px){.responsive-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:none}.responsive-table[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex-basis:100%}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;padding:10px 0}.responsive-table[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:before{color:#6c7a89;padding-right:10px;content:attr(data-label);flex-basis:50%;text-align:right}}"]}),n})(),canActivate:[CD]},{path:"home",component:VA,data:{animation:"homePage"}},{path:"login",component:jA,data:{animation:"fadePage"}},{path:"register",component:LA},{path:"mi-perfil",component:Nx,loadChildren:()=>F.e(977).then(F.bind(F,6977)).then(n=>n.MiPerfilModule)},{path:"**",redirectTo:"home"}];let $x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[$n.Bz.forRoot(Hx)],$n.Bz]}),n})();const DD_firebase={projectId:"tp-final-3e4ef",appId:"1:617002588097:web:fd0739fe851e0e012f8140",storageBucket:"tp-final-3e4ef.appspot.com",locationId:"southamerica-east1",apiKey:"AIzaSyBEBxf5TwgW6jUgqlCmUTT4K0Pg0XE4ZHA",authDomain:"tp-final-3e4ef.firebaseapp.com",messagingSenderId:"617002588097"},ti=!1;function SD(n){return new u.vHH(3e3,ti)}function C1(){return"undefined"!=typeof window&&void 0!==window.document}function JT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lh(n){switch(n.length){case 0:return new Tt.ZN;case 1:return n[0];default:return new Tt.ZE(n)}}function AD(n,e,t,i,o={},l={}){const h=[],_=[];let E=-1,S=null;if(i.forEach($=>{const te=$.offset,we=te==E,Ue=we&&S||{};Object.keys($).forEach(Pe=>{let Xe=Pe,ut=$[Pe];if("offset"!==Pe)switch(Xe=e.normalizePropertyName(Xe,h),ut){case Tt.k1:ut=o[Pe];break;case Tt.l3:ut=l[Pe];break;default:ut=e.normalizeStyleValue(Pe,Xe,ut,h)}Ue[Xe]=ut}),we||_.push(Ue),S=Ue,E=te}),h.length)throw function h1(n){return new u.vHH(3502,ti)}();return _}function XT(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&eI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&eI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&eI(t,"destroy",n)))}}function eI(n,e,t){const i=t.totalTime,l=tI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function tI(n,e,t,i,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:l,disabled:!!h}}function il(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function xD(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let nI=(n,e)=>!1,MD=(n,e,t)=>[],OD=null;function iI(n){const e=n.parentNode||n.host;return e===OD?null:e}(JT()||"undefined"!=typeof Element)&&(C1()?(OD=(()=>document.documentElement)(),nI=(n,e)=>{for(;e;){if(e===n)return!0;e=iI(e)}return!1}):nI=(n,e)=>n.contains(e),MD=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Pp=null,PD=!1;function RD(n){Pp||(Pp=function I1(){return"undefined"!=typeof document?document.body:null}()||{},PD=!!Pp.style&&"WebkitAppearance"in Pp.style);let e=!0;return Pp.style&&!function T1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Pp.style,!e&&PD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Pp.style)),e}const ND=nI,kD=MD;let FD=(()=>{class n{validateStyleProperty(t){return RD(t)}matchesElement(t,i){return!1}containsElement(t,i){return ND(t,i)}getParentElement(t){return iI(t)}query(t,i,o){return kD(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,l,h,_=[],E){return new Tt.ZN(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),rI=(()=>{class n{}return n.NOOP=new FD,n})();const sI="ng-enter",gE="ng-leave",mE="ng-trigger",_E=".ng-trigger",VD="ng-animating",oI=".ng-animating";function Rp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aI(parseFloat(e[1]),e[2])}function aI(n,e){return"s"===e?1e3*n:n}function yE(n,e,t){return n.hasOwnProperty("duration")?n:function A1(n,e,t){let o,l=0,h="";if("string"==typeof n){const _=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return e.push(SD()),{duration:0,delay:0,easing:""};o=aI(parseFloat(_[1]),_[2]);const E=_[3];null!=E&&(l=aI(parseFloat(E),_[4]));const S=_[5];S&&(h=S)}else o=n;if(!t){let _=!1,E=e.length;o<0&&(e.push(function Gx(){return new u.vHH(3100,ti)}()),_=!0),l<0&&(e.push(function zx(){return new u.vHH(3101,ti)}()),_=!0),_&&e.splice(E,0,SD())}return{duration:o,delay:l,easing:h}}(n,e,t)}function Zm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Vh(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Zm(n,t);return t}function BD(n,e,t){return t?e+":"+t+";":""}function jD(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=BD(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=BD(0,O1(t),n.style[t]));n.setAttribute("style",e)}function bc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const o=uI(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[o]),n.style[o]=e[i]}),JT()&&jD(n))}function Np(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=uI(t);n.style[i]=""}),JT()&&jD(n))}function qv(n){return Array.isArray(n)?1==n.length?n[0]:(0,Tt.vP)(n):n}const lI=new RegExp("{{\\s*(.+?)\\s*}}","g");function HD(n){let e=[];if("string"==typeof n){let t;for(;t=lI.exec(n);)e.push(t[1]);lI.lastIndex=0}return e}function vE(n,e,t){const i=n.toString(),o=i.replace(lI,(l,h)=>{let _=e[h];return e.hasOwnProperty(h)||(t.push(function Zx(n){return new u.vHH(3003,ti)}()),_=""),_.toString()});return o==i?n:o}function wE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const M1=/-+([a-z0-9])/g;function uI(n){return n.replace(M1,(...e)=>e[1].toUpperCase())}function O1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Wx(n){return new u.vHH(3004,ti)}()}}function $D(n,e){return window.getComputedStyle(n)[e]}function L1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function V1(n,e,t){if(":"==n[0]){const E=function U1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function l1(n){return new u.vHH(3016,ti)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function a1(n){return new u.vHH(3015,ti)}()),e;const o=i[1],l=i[2],h=i[3];e.push(GD(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(GD(h,o))}(i,t,e)):t.push(n),t}const TE=new Set(["true","1"]),IE=new Set(["false","0"]);function GD(n,e){const t=TE.has(n)||IE.has(n),i=TE.has(e)||IE.has(e);return(o,l)=>{let h="*"==n||n==o,_="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?TE.has(n):IE.has(n)),!_&&i&&"boolean"==typeof l&&(_=l?TE.has(e):IE.has(e)),h&&_}}const B1=new RegExp("s*:selfs*,?","g");function cI(n,e,t,i){return new j1(n).build(e,t,i)}class j1{constructor(e){this._driver=e}build(e,t,i){const o=new G1(t);this._resetContextStyleTimingState(o);const l=rl(this,qv(e),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push(function Yx(){return new u.vHH(3006,ti)}()),e.definitions.forEach(_=>{if(this._resetContextStyleTimingState(t),0==_.type){const E=_,S=E.name;S.toString().split(/\s*,\s*/).forEach($=>{E.name=$,l.push(this.visitState(E,t))}),E.name=S}else if(1==_.type){const E=this.visitTransition(_,t);i+=E.queryCount,o+=E.depCount,h.push(E)}else t.errors.push(function Qx(){return new u.vHH(3007,ti)}())}),{type:7,name:e.name,states:l,transitions:h,queryCount:i,depCount:o,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,h=o||{};i.styles.forEach(_=>{if(DE(_)){const E=_;Object.keys(E).forEach(S=>{HD(E[S]).forEach($=>{h.hasOwnProperty($)||l.add($)})})}}),l.size&&(wE(l.values()),t.errors.push(function Jx(n,e){return new u.vHH(3008,ti)}()))}return{type:0,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=rl(this,qv(e.animation),t);return{type:1,matchers:L1(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:kp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>rl(this,i,t)),options:kp(e.options)}}visitGroup(e,t){const i=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=i;const _=rl(this,h,t);return o=Math.max(o,t.currentTime),_});return t.currentTime=o,{type:3,steps:l,options:kp(e.options)}}visitAnimate(e,t){const i=function q1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dI(yE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=dI(0,0,"");return l.dynamic=!0,l.strValue=t,l}const o=yE(t,e);return dI(o.duration,o.delay,o.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let o,l=e.styles?e.styles:(0,Tt.oB)({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,_=!1;if(!h){_=!0;const S={};i.easing&&(S.easing=i.easing),h=(0,Tt.oB)(S)}t.currentTime+=i.duration+i.delay;const E=this.visitStyle(h,t);E.isEmptyStep=_,o=E}return t.currentAnimateTimings=null,{type:4,timings:i,style:o,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Tt.l3?i.push(h):t.errors.push(function Xx(n){return new u.vHH(3002,ti)}()):i.push(h)}):i.push(e.styles);let o=!1,l=null;return i.forEach(h=>{if(DE(h)){const _=h,E=_.easing;if(E&&(l=E,delete _.easing),!o)for(let S in _)if(_[S].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(_=>{if(!this._driver.validateStyleProperty(_))return delete h[_],void t.unsupportedCSSPropertiesFound.add(_);const E=t.collectedStyles[t.currentQuerySelector],S=E[_];let $=!0;S&&(l!=o&&l>=S.startTime&&o<=S.endTime&&(t.errors.push(function e1(n,e,t,i,o){return new u.vHH(3010,ti)}()),$=!1),l=S.startTime),$&&(E[_]={startTime:l,endTime:o}),t.options&&function x1(n,e,t){const i=e.params||{},o=HD(n);o.length&&o.forEach(l=>{i.hasOwnProperty(l)||t.push(function qx(n){return new u.vHH(3001,ti)}())})}(h[_],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function t1(){return new u.vHH(3011,ti)}()),i;let l=0;const h=[];let _=!1,E=!1,S=0;const $=e.steps.map(Kt=>{const on=this._makeStyleAst(Kt,t);let Ht=null!=on.offset?on.offset:function z1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(DE(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(DE(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(on.styles),At=0;return null!=Ht&&(l++,At=on.offset=Ht),E=E||At<0||At>1,_=_||At<S,S=At,h.push(At),on});E&&t.errors.push(function n1(){return new u.vHH(3012,ti)}()),_&&t.errors.push(function i1(){return new u.vHH(3200,ti)}());const te=e.steps.length;let we=0;l>0&&l<te?t.errors.push(function r1(){return new u.vHH(3202,ti)}()):0==l&&(we=1/(te-1));const Ue=te-1,Pe=t.currentTime,Xe=t.currentAnimateTimings,ut=Xe.duration;return $.forEach((Kt,on)=>{const Ht=we>0?on==Ue?1:we*on:h[on],At=Ht*ut;t.currentTime=Pe+Xe.delay+At,Xe.duration=At,this._validateStyleAst(Kt,t),Kt.offset=Ht,i.styles.push(Kt)}),i}visitReference(e,t){return{type:8,animation:rl(this,qv(e.animation),t),options:kp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:kp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:kp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function H1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(B1,"")),n=n.replace(/@\*/g,_E).replace(/@\w+/g,t=>_E+"-"+t.substr(1)).replace(/:animating/g,oI),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,il(t.collectedStyles,t.currentQuerySelector,{});const _=rl(this,qv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:_,originalSelector:e.selector,options:kp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function s1(){return new u.vHH(3013,ti)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yE(e.timings,t.errors,!0);return{type:12,animation:rl(this,qv(e.animation),t),timings:i,options:null}}}class G1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function DE(n){return!Array.isArray(n)&&"object"==typeof n}function kp(n){return n?(n=Zm(n)).params&&(n.params=function $1(n){return n?Zm(n):null}(n.params)):n={},n}function dI(n,e,t){return{duration:n,delay:e,easing:t}}function hI(n,e,t,i,o,l,h=null,_=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:_}}class SE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const K1=new RegExp(":enter","g"),Q1=new RegExp(":leave","g");function fI(n,e,t,i,o,l={},h={},_,E,S=[]){return(new J1).buildKeyframes(n,e,t,i,o,l,h,_,E,S)}class J1{buildKeyframes(e,t,i,o,l,h,_,E,S,$=[]){S=S||new SE;const te=new pI(e,t,S,o,l,$,[]);te.options=E,te.currentTimeline.setStyles([h],null,te.errors,E),rl(this,i,te);const we=te.timelines.filter(Ue=>Ue.containsAnimation());if(Object.keys(_).length){let Ue;for(let Pe=we.length-1;Pe>=0;Pe--){const Xe=we[Pe];if(Xe.element===t){Ue=Xe;break}}Ue&&!Ue.allowOnlyTimelineStyles()&&Ue.setStyles([_],null,te.errors,E)}return we.length?we.map(Ue=>Ue.buildKeyframes()):[hI(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(i,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const h=null!=i.duration?Rp(i.duration):null,_=null!=i.delay?Rp(i.delay):null;return 0!==h&&e.forEach(E=>{const S=t.appendInstructionToTimeline(E,h,_);l=Math.max(l,S.duration+S.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),rl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=AE);const h=Rp(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>rl(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Rp(e.options.delay):0;e.steps.forEach(h=>{const _=t.createSubContext(e.options);l&&_.delayNextStep(l),rl(this,h,_),o=Math.max(o,_.currentTimeline.currentTime),i.push(_.currentTimeline)}),i.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yE(t.params?vE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,o=t.currentTimeline.duration,l=i.duration,_=t.createSubContext().currentTimeline;_.easing=i.easing,e.styles.forEach(E=>{_.forwardTime((E.offset||0)*l),_.setStyles(E.styles,E.easing,t.errors,t.options),_.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(_),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Rp(o.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=AE);let h=i;const _=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=_.length;let E=null;_.forEach((S,$)=>{t.currentQueryIndex=$;const te=t.createSubContext(e.options,S);l&&te.delayNextStep(l),S===t.element&&(E=te.currentTimeline),rl(this,e.animation,te),te.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,te.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),_=h*(t.currentQueryTotal-1);let E=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=_-E;break;case"full":E=i.currentStaggerTime}const $=t.currentTimeline;E&&$.delayNextStep(E);const te=$.currentTime;rl(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-te+(o.startTime-i.currentTimeline.startTime)}}const AE={};class pI{constructor(e,t,i,o,l,h,_,E){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new xE(this._driver,t,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let o=this.options;null!=i.duration&&(o.duration=Rp(i.duration)),null!=i.delay&&(o.delay=Rp(i.delay));const l=i.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(_=>{(!t||!h.hasOwnProperty(_))&&(h[_]=vE(l[_],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){const o=t||this.element,l=new pI(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=AE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},l=new X1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,l,h){let _=[];if(o&&_.push(this.element),e.length>0){e=(e=e.replace(K1,"."+this._enterClassName)).replace(Q1,"."+this._leaveClassName);let S=this._driver.query(this.element,e,1!=i);0!==i&&(S=i<0?S.slice(S.length+i,S.length):S.slice(0,i)),_.push(...S)}return!l&&0==_.length&&h.push(function o1(n){return new u.vHH(3014,ti)}()),_}}class xE{constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new xE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Tt.l3,this._currentKeyframe[t]=Tt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function eM(n,e){const t={};let i;return n.forEach(o=>{"*"===o?(i=i||Object.keys(e),i.forEach(l=>{t[l]=Tt.l3})):Vh(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(_=>{const E=vE(h[_],l,i);this._pendingStyles[_]=E,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:Tt.l3),this._updateStyle(_,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],o=e._styleSummary[t];(!i||o.time>i.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((_,E)=>{const S=Vh(_,!0);Object.keys(S).forEach($=>{const te=S[$];te==Tt.k1?e.add($):te==Tt.l3&&t.add($)}),i||(S.offset=E/this.duration),o.push(S)});const l=e.size?wE(e.values()):[],h=t.size?wE(t.values()):[];if(i){const _=o[0],E=Zm(_);_.offset=0,E.offset=1,o=[_,E]}return hI(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class X1 extends xE{constructor(e,t,i,o,l,h,_=!1){super(e,t,h.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=_,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=i+t,_=t/h,E=Vh(e[0],!1);E.offset=0,l.push(E);const S=Vh(e[0],!1);S.offset=ZD(_),l.push(S);const $=e.length-1;for(let te=1;te<=$;te++){let we=Vh(e[te],!1);we.offset=ZD((t+we.offset*i)/h),l.push(we)}i=h,t=0,o="",e=l}return hI(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}}function ZD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class gI{}class tM extends gI{normalizePropertyName(e,t){return uI(e)}normalizeStyleValue(e,t,i,o){let l="";const h=i.toString().trim();if(nM[t]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const _=i.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&o.push(function Kx(n,e){return new u.vHH(3005,ti)}())}return h+l}}const nM=(()=>function iM(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function WD(n,e,t,i,o,l,h,_,E,S,$,te,we){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:i,toStyles:h,timelines:_,queriedElements:E,preStyleProps:S,postStyleProps:$,totalTime:te,errors:we}}const mI={};class KD{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return function rM(n,e,t,i,o){return n.some(l=>l(e,t,i,o))}(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,i):{};return l?l.buildStyles(t,i):h}build(e,t,i,o,l,h,_,E,S,$){const te=[],we=this.ast.options&&this.ast.options.params||mI,Pe=this.buildStyles(i,_&&_.params||mI,te),Xe=E&&E.params||mI,ut=this.buildStyles(o,Xe,te),Kt=new Set,on=new Map,Ht=new Map,At="void"===o,pn={params:Object.assign(Object.assign({},we),Xe)},gn=$?[]:fI(e,t,this.ast.animation,l,h,Pe,ut,pn,S,te);let ni=0;if(gn.forEach(ol=>{ni=Math.max(ol.duration+ol.delay,ni)}),te.length)return WD(t,this._triggerName,i,o,At,Pe,ut,[],[],on,Ht,ni,te);gn.forEach(ol=>{const Ad=ol.element,OS=il(on,Ad,{});ol.preStyleProps.forEach(Lp=>OS[Lp]=!0);const Qv=il(Ht,Ad,{});ol.postStyleProps.forEach(Lp=>Qv[Lp]=!0),Ad!==t&&Kt.add(Ad)});const Cs=wE(Kt.values());return WD(t,this._triggerName,i,o,At,Pe,ut,gn,Cs,on,Ht,ni)}}class sM{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},o=Zm(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(_=>{let E=h[_];E.length>1&&(E=vE(E,o,t));const S=this.normalizer.normalizePropertyName(_,t);E=this.normalizer.normalizeStyleValue(_,S,E,t),i[S]=E})}}),i}}class aM{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new sM(o.style,o.options&&o.options.params||{},i)}),YD(this.states,"true","1"),YD(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new KD(e,o,this.states))}),this.fallbackTransition=function lM(n,e,t){return new KD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,_)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(h=>h.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function YD(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const uM=new SE;class cM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],l=cI(this._driver,t,i,[]);if(i.length)throw function f1(n){return new u.vHH(3503,ti)}();this._animations[e]=l}_buildPlayer(e,t,i){const o=e.element,l=AD(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const o=[],l=this._animations[e];let h;const _=new Map;if(l?(h=fI(this._driver,t,l,sI,gE,{},{},i,uM,o),h.forEach($=>{const te=il(_,$.element,{});$.postStyleProps.forEach(we=>te[we]=null)})):(o.push(function p1(){return new u.vHH(3300,ti)}()),h=[]),o.length)throw function g1(n){return new u.vHH(3504,ti)}();_.forEach(($,te)=>{Object.keys($).forEach(we=>{$[we]=this._driver.computeStyle(te,we,Tt.l3)})});const S=Lh(h.map($=>{const te=_.get($.element);return this._buildPlayer($,{},te)}));return this._playersById[e]=S,S.onDestroy(()=>this.destroy(e)),this.players.push(S),S}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function m1(n){return new u.vHH(3301,ti)}();return t}listen(e,t,i,o){const l=tI(t,"","","");return XT(this._getPlayer(e),i,l,o),()=>{}}command(e,t,i,o){if("register"==i)return void this.register(e,o[0]);if("create"==i)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const QD="ng-animate-queued",_I="ng-animate-disabled",gM=[],JD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bl="__ng_removed";class yI{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function wM(n){return null!=n?n:null}(i?e.value:e),i){const l=Zm(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(o=>{null==i[o]&&(i[o]=t[o])})}}}const Zv="void",vI=new yI(Zv);class _M{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jl(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.hasOwnProperty(t))throw function _1(n,e){return new u.vHH(3302,ti)}();if(null==i||0==i.length)throw function y1(n){return new u.vHH(3303,ti)}();if(!function bM(n){return"start"==n||"done"==n}(i))throw function v1(n,e){return new u.vHH(3400,ti)}();const l=il(this._elementListeners,e,[]),h={name:t,phase:i,callback:o};l.push(h);const _=il(this._engine.statesByElement,e,{});return _.hasOwnProperty(t)||(jl(e,mE),jl(e,mE+"-"+t),_[t]=vI),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(h);E>=0&&l.splice(E,1),this._triggers[t]||delete _[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function w1(n){return new u.vHH(3401,ti)}();return t}trigger(e,t,i,o=!0){const l=this._getTrigger(t),h=new wI(this.id,t,e);let _=this._engine.statesByElement.get(e);_||(jl(e,mE),jl(e,mE+"-"+t),this._engine.statesByElement.set(e,_={}));let E=_[t];const S=new yI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&E&&S.absorbOptions(E.options),_[t]=S,E||(E=vI),S.value!==Zv&&E.value===S.value){if(!function TM(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,S.params)){const Xe=[],ut=l.matchStyles(E.value,E.params,Xe),Kt=l.matchStyles(S.value,S.params,Xe);Xe.length?this._engine.reportError(Xe):this._engine.afterFlush(()=>{Np(e,ut),bc(e,Kt)})}return}const we=il(this._engine.playersByElement,e,[]);we.forEach(Xe=>{Xe.namespaceId==this.id&&Xe.triggerName==t&&Xe.queued&&Xe.destroy()});let Ue=l.matchTransition(E.value,S.value,e,S.params),Pe=!1;if(!Ue){if(!o)return;Ue=l.fallbackTransition,Pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Ue,fromState:E,toState:S,player:h,isFallbackTransition:Pe}),Pe||(jl(e,QD),h.onStart(()=>{Wm(e,QD)})),h.onDone(()=>{let Xe=this.players.indexOf(h);Xe>=0&&this.players.splice(Xe,1);const ut=this._engine.playersByElement.get(e);if(ut){let Kt=ut.indexOf(h);Kt>=0&&ut.splice(Kt,1)}}),this.players.push(h),we.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,_E,!0);i.forEach(o=>{if(o[Bl])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){const l=this._engine.statesByElement.get(e),h=new Map;if(l){const _=[];if(Object.keys(l).forEach(E=>{if(h.set(E,l[E].value),this._triggers[E]){const S=this.trigger(e,E,Zv,o);S&&_.push(S)}}),_.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,h),i&&Lh(_).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const E=this._triggers[h].fallbackTransition,S=i[h]||vI,$=new yI(Zv),te=new wI(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:E,fromState:S,toState:$,player:te,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(i.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Bl];(!l||l===JD)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){jl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const o=i.player;if(o.destroyed)return;const l=i.element,h=this._elementListeners.get(l);h&&h.forEach(_=>{if(_.name==i.triggerName){const E=tI(l,i.triggerName,i.fromState.value,i.toState.value);E._data=e,XT(i.player,_.phase,E,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{const l=i.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class yM{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new _M(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,o=this.namespacesByHostElement,l=i.length-1;if(l>=0){let h=!1;if(void 0!==this.driver.getParentElement){let _=this.driver.getParentElement(t);for(;_;){const E=o.get(_);if(E){const S=i.indexOf(E);i.splice(S+1,0,e),h=!0;break}_=this.driver.getParentElement(_)}}else for(let _=l;_>=0;_--)if(this.driver.containsElement(i[_].hostElement,t)){i.splice(_+1,0,e),h=!0;break}h||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const o=Object.keys(i);for(let l=0;l<o.length;l++){const h=i[o[l]].namespaceId;if(h){const _=this._fetchNamespace(h);_&&t.add(_)}}}return t}trigger(e,t,i,o){if(ME(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!ME(t))return;const l=t[Bl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jl(e,_I)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wm(e,_I))}removeNode(e,t,i,o){if(ME(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),i){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,i,o,l){this.collectedLeaveElements.push(t),t[Bl]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,o,l){return ME(t)?this._fetchNamespace(e).listen(t,i,o,l):()=>{}}_buildInstruction(e,t,i,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,_E,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oI,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Lh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Bl];if(i&&i.setForRemoval){if(e[Bl]=JD,i.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(_I))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Lh(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw function b1(n){return new u.vHH(3402,ti)}()}_flushAnimations(e,t){const i=new SE,o=[],l=new Map,h=[],_=new Map,E=new Map,S=new Map,$=new Set;this.disabledNodes.forEach(zt=>{$.add(zt);const ln=this.driver.query(zt,".ng-animate-queued",!0);for(let vn=0;vn<ln.length;vn++)$.add(ln[vn])});const te=this.bodyNode,we=Array.from(this.statesByElement.keys()),Ue=tS(we,this.collectedEnterElements),Pe=new Map;let Xe=0;Ue.forEach((zt,ln)=>{const vn=sI+Xe++;Pe.set(ln,vn),zt.forEach(gi=>jl(gi,vn))});const ut=[],Kt=new Set,on=new Set;for(let zt=0;zt<this.collectedLeaveElements.length;zt++){const ln=this.collectedLeaveElements[zt],vn=ln[Bl];vn&&vn.setForRemoval&&(ut.push(ln),Kt.add(ln),vn.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(gi=>Kt.add(gi)):on.add(ln))}const Ht=new Map,At=tS(we,Array.from(Kt));At.forEach((zt,ln)=>{const vn=gE+Xe++;Ht.set(ln,vn),zt.forEach(gi=>jl(gi,vn))}),e.push(()=>{Ue.forEach((zt,ln)=>{const vn=Pe.get(ln);zt.forEach(gi=>Wm(gi,vn))}),At.forEach((zt,ln)=>{const vn=Ht.get(ln);zt.forEach(gi=>Wm(gi,vn))}),ut.forEach(zt=>{this.processLeaveNode(zt)})});const pn=[],gn=[];for(let zt=this._namespaceList.length-1;zt>=0;zt--)this._namespaceList[zt].drainQueuedTransitions(t).forEach(vn=>{const gi=vn.player,io=vn.element;if(pn.push(gi),this.collectedEnterElements.length){const ua=io[Bl];if(ua&&ua.setForMove){if(ua.previousTriggersValues&&ua.previousTriggersValues.has(vn.triggerName)){const Vp=ua.previousTriggersValues.get(vn.triggerName),Bh=this.statesByElement.get(vn.element);Bh&&Bh[vn.triggerName]&&(Bh[vn.triggerName].value=Vp)}return void gi.destroy()}}const Ec=!te||!this.driver.containsElement(te,io),al=Ht.get(io),Uh=Pe.get(io),jr=this._buildInstruction(vn,i,Uh,al,Ec);if(jr.errors&&jr.errors.length)return void gn.push(jr);if(Ec)return gi.onStart(()=>Np(io,jr.fromStyles)),gi.onDestroy(()=>bc(io,jr.toStyles)),void o.push(gi);if(vn.isFallbackTransition)return gi.onStart(()=>Np(io,jr.fromStyles)),gi.onDestroy(()=>bc(io,jr.toStyles)),void o.push(gi);const NS=[];jr.timelines.forEach(ua=>{ua.stretchStartingKeyframe=!0,this.disabledNodes.has(ua.element)||NS.push(ua)}),jr.timelines=NS,i.append(io,jr.timelines),h.push({instruction:jr,player:gi,element:io}),jr.queriedElements.forEach(ua=>il(_,ua,[]).push(gi)),jr.preStyleProps.forEach((ua,Vp)=>{const Bh=Object.keys(ua);if(Bh.length){let Up=E.get(Vp);Up||E.set(Vp,Up=new Set),Bh.forEach(MI=>Up.add(MI))}}),jr.postStyleProps.forEach((ua,Vp)=>{const Bh=Object.keys(ua);let Up=S.get(Vp);Up||S.set(Vp,Up=new Set),Bh.forEach(MI=>Up.add(MI))})});if(gn.length){const zt=[];gn.forEach(ln=>{zt.push(function E1(n,e){return new u.vHH(3505,ti)}())}),pn.forEach(ln=>ln.destroy()),this.reportError(zt)}const ni=new Map,Cs=new Map;h.forEach(zt=>{const ln=zt.element;i.has(ln)&&(Cs.set(ln,ln),this._beforeAnimationBuild(zt.player.namespaceId,zt.instruction,ni))}),o.forEach(zt=>{const ln=zt.element;this._getPreviousPlayers(ln,!1,zt.namespaceId,zt.triggerName,null).forEach(gi=>{il(ni,ln,[]).push(gi),gi.destroy()})});const ol=ut.filter(zt=>iS(zt,E,S)),Ad=new Map;eS(Ad,this.driver,on,S,Tt.l3).forEach(zt=>{iS(zt,E,S)&&ol.push(zt)});const Qv=new Map;Ue.forEach((zt,ln)=>{eS(Qv,this.driver,new Set(zt),E,Tt.k1)}),ol.forEach(zt=>{const ln=Ad.get(zt),vn=Qv.get(zt);Ad.set(zt,Object.assign(Object.assign({},ln),vn))});const Lp=[],PS=[],RS={};h.forEach(zt=>{const{element:ln,player:vn,instruction:gi}=zt;if(i.has(ln)){if($.has(ln))return vn.onDestroy(()=>bc(ln,gi.toStyles)),vn.disabled=!0,vn.overrideTotalTime(gi.totalTime),void o.push(vn);let io=RS;if(Cs.size>1){let al=ln;const Uh=[];for(;al=al.parentNode;){const jr=Cs.get(al);if(jr){io=jr;break}Uh.push(al)}Uh.forEach(jr=>Cs.set(jr,io))}const Ec=this._buildAnimation(vn.namespaceId,gi,ni,l,Qv,Ad);if(vn.setRealPlayer(Ec),io===RS)Lp.push(vn);else{const al=this.playersByElement.get(io);al&&al.length&&(vn.parentPlayer=Lh(al)),o.push(vn)}}else Np(ln,gi.fromStyles),vn.onDestroy(()=>bc(ln,gi.toStyles)),PS.push(vn),$.has(ln)&&o.push(vn)}),PS.forEach(zt=>{const ln=l.get(zt.element);if(ln&&ln.length){const vn=Lh(ln);zt.setRealPlayer(vn)}}),o.forEach(zt=>{zt.parentPlayer?zt.syncPlayerEvents(zt.parentPlayer):zt.destroy()});for(let zt=0;zt<ut.length;zt++){const ln=ut[zt],vn=ln[Bl];if(Wm(ln,gE),vn&&vn.hasAnimation)continue;let gi=[];if(_.size){let Ec=_.get(ln);Ec&&Ec.length&&gi.push(...Ec);let al=this.driver.query(ln,oI,!0);for(let Uh=0;Uh<al.length;Uh++){let jr=_.get(al[Uh]);jr&&jr.length&&gi.push(...jr)}}const io=gi.filter(Ec=>!Ec.destroyed);io.length?EM(this,ln,io):this.processLeaveNode(ln)}return ut.length=0,Lp.forEach(zt=>{this.players.push(zt),zt.onDone(()=>{zt.destroy();const ln=this.players.indexOf(zt);this.players.splice(ln,1)}),zt.play()}),Lp}elementContainsData(e,t){let i=!1;const o=t[Bl];return o&&o.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,l){let h=[];if(t){const _=this.playersByQueriedElement.get(e);_&&(h=_)}else{const _=this.playersByElement.get(e);if(_){const E=!l||l==Zv;_.forEach(S=>{S.queued||!E&&S.triggerName!=o||h.push(S)})}}return(i||o)&&(h=h.filter(_=>!(i&&i!=_.namespaceId||o&&o!=_.triggerName))),h}_beforeAnimationBuild(e,t,i){const l=t.element,h=t.isRemovalTransition?void 0:e,_=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const S=E.element,$=S!==l,te=il(i,S,[]);this._getPreviousPlayers(S,$,h,_,t.toState).forEach(Ue=>{const Pe=Ue.getRealPlayer();Pe.beforeDestroy&&Pe.beforeDestroy(),Ue.destroy(),te.push(Ue)})}Np(l,t.fromStyles)}_buildAnimation(e,t,i,o,l,h){const _=t.triggerName,E=t.element,S=[],$=new Set,te=new Set,we=t.timelines.map(Pe=>{const Xe=Pe.element;$.add(Xe);const ut=Xe[Bl];if(ut&&ut.removedBeforeQueried)return new Tt.ZN(Pe.duration,Pe.delay);const Kt=Xe!==E,on=function CM(n){const e=[];return nS(n,e),e}((i.get(Xe)||gM).map(ni=>ni.getRealPlayer())).filter(ni=>!!ni.element&&ni.element===Xe),Ht=l.get(Xe),At=h.get(Xe),pn=AD(0,this._normalizer,0,Pe.keyframes,Ht,At),gn=this._buildPlayer(Pe,pn,on);if(Pe.subTimeline&&o&&te.add(Xe),Kt){const ni=new wI(e,_,Xe);ni.setRealPlayer(gn),S.push(ni)}return gn});S.forEach(Pe=>{il(this.playersByQueriedElement,Pe.element,[]).push(Pe),Pe.onDone(()=>function vM(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const o=i.indexOf(t);i.splice(o,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,Pe.element,Pe))}),$.forEach(Pe=>jl(Pe,VD));const Ue=Lh(we);return Ue.onDestroy(()=>{$.forEach(Pe=>Wm(Pe,VD)),bc(E,t.toStyles)}),te.forEach(Pe=>{il(o,Pe,[]).push(Ue)}),Ue}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Tt.ZN(e.duration,e.delay)}}class wI{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Tt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>XT(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){il(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ME(n){return n&&1===n.nodeType}function XD(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function eS(n,e,t,i,o){const l=[];t.forEach(E=>l.push(XD(E)));const h=[];i.forEach((E,S)=>{const $={};E.forEach(te=>{const we=$[te]=e.computeStyle(S,te,o);(!we||0==we.length)&&(S[Bl]=mM,h.push(S))}),n.set(S,$)});let _=0;return t.forEach(E=>XD(E,l[_++])),h}function tS(n,e){const t=new Map;if(n.forEach(_=>t.set(_,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(_){if(!_)return 1;let E=l.get(_);if(E)return E;const S=_.parentNode;return E=t.has(S)?S:o.has(S)?1:h(S),l.set(_,E),E}return e.forEach(_=>{const E=h(_);1!==E&&t.get(E).push(_)}),t}function jl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Wm(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function EM(n,e,t){Lh(t).onDone(()=>n.processLeaveNode(e))}function nS(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Tt.ZE?nS(i.players,e):e.push(i)}}function iS(n,e,t){const i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(l=>o.add(l)):e.set(n,i),t.delete(n),!0}class OE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new yM(e,t,i),this._timelineEngine=new cM(e,t,i),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,i,o,l){const h=e+"-"+o;let _=this._triggerCache[h];if(!_){const E=[],$=cI(this._driver,l,E,[]);if(E.length)throw function d1(n,e){return new u.vHH(3404,ti)}();_=function oM(n,e,t){return new aM(n,e,t)}(o,$,this._normalizer),this._triggerCache[h]=_}this._transitionEngine.registerTrigger(t,o,_)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i,o){this._transitionEngine.removeNode(e,t,o||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if("@"==i.charAt(0)){const[l,h]=xD(i);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,l){if("@"==i.charAt(0)){const[h,_]=xD(i);return this._timelineEngine.listen(h,t,_,l)}return this._transitionEngine.listen(e,t,i,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let DM=(()=>{class n{constructor(t,i,o){this._element=t,this._startStyles=i,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&bc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bc(this._element,this._initialStyles),this._endStyles&&(bc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Np(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Np(this._element,this._endStyles),this._endStyles=null),bc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bI(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const o=t[i];SM(o)&&(e=e||{},e[o]=n[o])}return e}function SM(n){return"display"===n||"position"===n}class rS{constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:$D(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class AM{validateStyleProperty(e){return RD(e)}matchesElement(e,t){return!1}containsElement(e,t){return ND(e,t)}getParentElement(e){return iI(e)}query(e,t,i){return kD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,o,l,h=[]){const E={duration:i,delay:o,fill:0==o?"both":"forwards"};l&&(E.easing=l);const S={},$=h.filter(we=>we instanceof rS);(function P1(n,e){return 0===n||0===e})(i,o)&&$.forEach(we=>{let Ue=we.currentSnapshot;Object.keys(Ue).forEach(Pe=>S[Pe]=Ue[Pe])}),t=function R1(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let l=e[0],h=[];if(i.forEach(_=>{l.hasOwnProperty(_)||h.push(_),l[_]=t[_]}),h.length)for(var o=1;o<e.length;o++){let _=e[o];h.forEach(function(E){_[E]=$D(n,E)})}}return e}(e,t=t.map(we=>Vh(we,!1)),S);const te=function IM(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=bI(e[0]),e.length>1&&(i=bI(e[e.length-1]))):e&&(t=bI(e)),t||i?new DM(n,t,i):null}(e,t);return new rS(e,t,E,te)}}let xM=(()=>{class n extends Tt._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?(0,Tt.vP)(t):t;return sS(this._renderer,null,i,"register",[o]),new MM(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(p.K0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class MM extends Tt.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new OM(this._id,e,t||{},this._renderer)}}class OM{constructor(e,t,i,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function sS(n,e,t,i,o){return n.setProperty(e,`@@${t}:${i}`,o)}const oS="@.disabled";let PM=(()=>{class n{constructor(t,i,o){this.delegate=t,this.engine=i,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,h)=>{const _=null==h?void 0:h.parentNode(l);_&&h.removeChild(_,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let $=this._rendererCache.get(l);return $||($=new aS("",l,this.engine),this._rendererCache.set(l,$)),$}const h=i.id,_=i.id+"-"+this._currentId;this._currentId++,this.engine.register(_,t);const E=$=>{Array.isArray($)?$.forEach(E):this.engine.registerTrigger(h,_,t,$.name,$)};return i.data.animation.forEach(E),new RM(this,_,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,o){t>=0&&t<this._microtaskId?this._zone.run(()=>i(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,_]=l;h(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(OE),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class aS{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==oS?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class RM extends aS{constructor(e,t,i,o){super(t,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oS?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const o=function NM(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function kM(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,_=>{this.factory.scheduleListenerCallback(_._data||-1,i,_)})}return this.delegate.listen(e,t,i)}}let FM=(()=>{class n extends OE{constructor(t,i,o){super(t.body,i,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(p.K0),u.LFG(rI),u.LFG(gI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const lS=new u.OlP("AnimationModuleType"),uS=[{provide:Tt._j,useClass:xM},{provide:gI,useFactory:function LM(){return new tM}},{provide:OE,useClass:FM},{provide:u.FYo,useFactory:function VM(n,e,t){return new PM(n,e,t)},deps:[ze,OE,u.R0b]}],cS=[{provide:rI,useFactory:()=>new AM},{provide:lS,useValue:"BrowserAnimations"},...uS],UM=[{provide:rI,useClass:FD},{provide:lS,useValue:"NoopAnimations"},...uS];let BM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UM:cS}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:cS,imports:[Ci]}),n})();var jM=F(5503),HM=F(2544);function RE(n,e=0){return function GM(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}var EI=F(8421),qM=F(5577),ZM=F(1144),WM=F(3268);const KM=["addListener","removeListener"],YM=["addEventListener","removeEventListener"],QM=["on","off"];function NE(n,e,t,i){if((0,wu.m)(t)&&(i=t,t=void 0),i)return NE(n,e,t).pipe((0,WM.Z)(i));const[o,l]=function eO(n){return(0,wu.m)(n.addEventListener)&&(0,wu.m)(n.removeEventListener)}(n)?YM.map(h=>_=>n[h](e,_,t)):function JM(n){return(0,wu.m)(n.addListener)&&(0,wu.m)(n.removeListener)}(n)?KM.map(dS(n,e)):function XM(n){return(0,wu.m)(n.on)&&(0,wu.m)(n.off)}(n)?QM.map(dS(n,e)):[];if(!o&&(0,ZM.z)(n))return(0,qM.z)(h=>NE(h,e,t))((0,EI.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Gi.y(h=>{const _=(...E)=>h.next(1<E.length?E:E[0]);return o(_),()=>l(_)})}function dS(n,e){return t=>i=>n[t](e,i)}var hS=F(4408),fS=F(727);const Wv={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Wv;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const o=e(l=>{t=void 0,n(l)});return new fS.w0(()=>null==t?void 0:t(o))},requestAnimationFrame(...n){const{delegate:e}=Wv;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Wv;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var pS=F(7565);const iO=new class nO extends pS.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class tO extends hS.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Wv.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(o=>o.id===t)||(Wv.cancelAnimationFrame(t),e._scheduled=void 0)}});let CI,rO=1;const kE={};function gS(n){return n in kE&&(delete kE[n],!0)}const sO={setImmediate(n){const e=rO++;return kE[e]=!0,CI||(CI=Promise.resolve()),CI.then(()=>gS(e)&&n()),e},clearImmediate(n){gS(n)}},{setImmediate:oO,clearImmediate:aO}=sO,FE={setImmediate(...n){const{delegate:e}=FE;return((null==e?void 0:e.setImmediate)||oO)(...n)},clearImmediate(n){const{delegate:e}=FE;return((null==e?void 0:e.clearImmediate)||aO)(n)},delegate:void 0},cO=new class uO extends pS.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class lO extends hS.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FE.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(o=>o.id===t)||(FE.clearImmediate(t),e._scheduled=void 0)}});function mS(n){return!!n&&(n instanceof Gi.y||(0,wu.m)(n.lift)&&(0,wu.m)(n.subscribe))}var hO=F(3532);function TI(n,e=Zr.z){return function dO(n){return(0,Ra.e)((e,t)=>{let i=!1,o=null,l=null,h=!1;const _=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const S=o;o=null,t.next(S)}h&&t.complete()},E=()=>{l=null,h&&t.complete()};e.subscribe((0,$o.x)(t,S=>{i=!0,o=S,l||(0,EI.Xf)(n(S)).subscribe(l=(0,$o.x)(t,_,E))},()=>{h=!0,(!i||!l||l.closed)&&t.complete()}))})}(()=>function pO(n=0,e,t=Zr.P){let i=-1;return null!=e&&((0,hO.K)(e)?t=e:i=e),new Gi.y(o=>{let l=function fO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(n,e))}var gO=F(5032);function II(n){return(0,Ra.e)((e,t)=>{(0,EI.Xf)(n).subscribe((0,$o.x)(t,()=>t.complete(),gO.Z)),!t.closed&&e.subscribe(t)})}let DI;try{DI="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){DI=!1}let LE,Fp,_S=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DI)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yv(){if("object"!=typeof document||!document)return 0;if(null==LE){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),LE=0,0===n.scrollLeft&&(n.scrollLeft=1,LE=0===n.scrollLeft?1:2),n.remove()}return LE}const vO=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function wO(){return(0,u.f3M)(p.K0)}}),bO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vS=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const o=t.documentElement?t.documentElement.dir:null;this.value=function EO(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?bO.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class IO extends class CO{}{constructor(e){super(),this._data=e}connect(){return mS(this._data)?this._data:(0,Vs.of)(this._data)}disconnect(){}}class DO{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,i,o,l){e.forEachOperation((h,_,E)=>{let S,$;null==h.previousIndex?(S=this._insertView(()=>i(h,_,E),E,t,o(h)),$=S?1:0):null==E?(this._detachAndCacheView(_,t),$=3):(S=this._moveView(_,E,t,o(h)),$=2),l&&l({context:null==S?void 0:S.context,operation:$,record:h})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,i,o){const l=this._insertViewFromCache(t,i);if(l)return void(l.context.$implicit=o);const h=e();return i.createEmbeddedView(h.templateRef,h.context,h.index)}_detachAndCacheView(e,t){const i=t.detach(e);this._maybeCacheView(i,t)}_moveView(e,t,i,o){const l=i.get(e);return i.move(l,t),l.context.$implicit=o,l}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const i=t.indexOf(e);-1===i?e.destroy():t.remove(i)}}_insertViewFromCache(e,t){const i=this._viewCache.pop();return i&&t.insert(i,e),i||null}}const bS=new u.OlP("_ViewRepeater"),SO=["contentWrapper"],AO=["*"],ES=new u.OlP("VIRTUAL_SCROLL_STRATEGY");class xO{constructor(e,t,i){this._scrolledIndexChange=new el.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Ms()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,i){this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},i=this._viewport.getViewportSize(),o=this._viewport.getDataLength();let l=this._viewport.measureScrollOffset(),h=this._itemSize>0?l/this._itemSize:0;if(t.end>o){const E=Math.ceil(i/this._itemSize),S=Math.max(0,Math.min(h,o-E));h!=S&&(h=S,l=S*this._itemSize,t.start=Math.floor(h)),t.end=Math.max(0,Math.min(o,t.start+E))}const _=l-t.start*this._itemSize;if(_<this._minBufferPx&&0!=t.start){const E=Math.ceil((this._maxBufferPx-_)/this._itemSize);t.start=Math.max(0,t.start-E),t.end=Math.min(o,Math.ceil(h+(i+this._minBufferPx)/this._itemSize))}else{const E=t.end*this._itemSize-(l+i);if(E<this._minBufferPx&&t.end!=o){const S=Math.ceil((this._maxBufferPx-E)/this._itemSize);S>0&&(t.end=Math.min(o,t.end+S),t.start=Math.max(0,Math.floor(h-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(h))}}function MO(n){return n._scrollStrategy}let OO=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new xO(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=RE(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=RE(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=RE(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[u._Bn([{provide:ES,useFactory:MO,deps:[(0,u.Gpc)(()=>n)]}]),u.TTD]}),n})(),CS=(()=>{class n{constructor(t,i,o){this._ngZone=t,this._platform=i,this._scrolled=new el.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Gi.y(i=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(TI(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Vs.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const o=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,ka.h)(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,t)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let o=function zM(n){return n instanceof u.SBq?n.nativeElement:n}(i),l=t.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>NE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(_S),u.LFG(p.K0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TS=(()=>{class n{constructor(t,i,o,l){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=o,this.dir=l,this._destroyed=new el.x,this._elementScrolled=new Gi.y(h=>this.ngZone.runOutsideAngular(()=>NE(this.elementRef.nativeElement,"scroll").pipe(II(this._destroyed)).subscribe(h)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=o?t.end:t.start),null==t.right&&(t.right=o?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),o&&0!=Yv()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Yv()?t.left=t.right:1==Yv()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function _O(){if(null==Fp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fp=!1,Fp;if("scrollBehavior"in document.documentElement.style)Fp=!0;else{const n=Element.prototype.scrollTo;Fp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fp}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",o="right",l=this.elementRef.nativeElement;if("top"==t)return l.scrollTop;if("bottom"==t)return l.scrollHeight-l.clientHeight-l.scrollTop;const h=this.dir&&"rtl"==this.dir.value;return"start"==t?t=h?o:i:"end"==t&&(t=h?i:o),h&&2==Yv()?t==i?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:h&&1==Yv()?t==i?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:t==i?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(CS),u.Y36(u.R0b),u.Y36(vS,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),NO=(()=>{class n{constructor(t,i,o){this._platform=t,this._change=new el.x,this._changeListener=l=>{this._change.next(l)},this._document=o,i.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),o=t.documentElement,l=o.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||i.scrollY||o.scrollTop||0,left:-l.left||t.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(TI(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_S),u.LFG(u.R0b),u.LFG(p.K0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FO="undefined"!=typeof requestAnimationFrame?iO:cO;let AI=(()=>{class n extends TS{constructor(t,i,o,l,h,_,E){super(t,_,o,h),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=l,this._detachedSubject=new el.x,this._renderedRangeSubject=new el.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Gi.y(S=>this._scrollStrategy.scrolledIndexChange.subscribe($=>Promise.resolve().then(()=>this.ngZone.run(()=>S.next($))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=fS.w0.EMPTY,this._viewportChanges=E.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function $M(n){return null!=n&&"false"!=`${n}`}(t)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,ao.O)(null),TI(0,FO)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(II(this._detachedSubject)).subscribe(i=>{const o=i.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function kO(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){const l="horizontal"==this.orientation,h=l?"X":"Y";let E=`translate${h}(${Number((l&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t=this.appendOnly&&"to-start"===i?0:t,"to-end"===i&&(E+=` translate${h}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=E&&(this._renderedContentTransform=E,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const o={behavior:i};"horizontal"===this.orientation?o.start=t:o.top=t,this.scrollTo(o)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(ES,8),u.Y36(vS,8),u.Y36(CS),u.Y36(NO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&u.Gf(SO,7),2&t){let o;u.iGM(o=u.CRH())&&(i._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[u._Bn([{provide:TS,useExisting:n}]),u.qOj],ngContentSelectors:AO,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&t&&(u.xp6(3),u.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function IS(n,e,t){if(!t.getBoundingClientRect)return 0;const o=t.getBoundingClientRect();return"horizontal"===n?"start"===e?o.left:o.right:"start"===e?o.top:o.bottom}let LO=(()=>{class n{constructor(t,i,o,l,h,_){this._viewContainerRef=t,this._template=i,this._differs=o,this._viewRepeater=l,this._viewport=h,this.viewChange=new el.x,this._dataSourceChanges=new el.x,this.dataStream=this._dataSourceChanges.pipe((0,ao.O)(null),_l(),(0,Ul.w)(([E,S])=>this._changeDataSource(E,S)),Nb(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new el.x,this.dataStream.subscribe(E=>{this._data=E,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(II(this._destroyed)).subscribe(E=>{this._renderedRange=E,this.viewChange.observers.length&&_.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function TO(n){return n&&"function"==typeof n.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new IO(mS(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,o)=>t(i+(this._renderedRange?this._renderedRange.start:0),o):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=RE(t)}measureRangeSize(t,i){if(t.start>=t.end)return 0;const o=t.start-this._renderedRange.start,l=t.end-t.start;let h,_;for(let E=0;E<l;E++){const S=this._viewContainerRef.get(E+o);if(S&&S.rootNodes.length){h=_=S.rootNodes[0];break}}for(let E=l-1;E>-1;E--){const S=this._viewContainerRef.get(E+o);if(S&&S.rootNodes.length){_=S.rootNodes[S.rootNodes.length-1];break}}return h&&_?IS(i,"end",_)-IS(i,"start",h):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):(0,Vs.of)()}_updateContext(){const t=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const o=this._viewContainerRef.get(i);o.context.index=this._renderedRange.start+i,o.context.count=t,this._updateComputedContextProperties(o.context),o.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(l,h,_)=>this._getEmbeddedViewArgs(l,_),l=>l.item),t.forEachIdentityChange(l=>{this._viewContainerRef.get(l.currentIndex).context.$implicit=l.item});const i=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const l=this._viewContainerRef.get(o);l.context.index=this._renderedRange.start+o,l.context.count=i,this._updateComputedContextProperties(l.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(bS),u.Y36(AI,4),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[u._Bn([{provide:bS,useClass:DO}])]}),n})(),DS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),SS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[wS,DS],wS,DS]}),n})();var qn=F(5730),sl=F(5921);let VO=(()=>{class n{constructor(t,i,o){this.el=t,this.zone=i,this.config=o,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.text&&(this.setOption({tooltipLabel:t.text.currentValue}),this.active&&(t.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?qn.p.appendChild(this.container,this.el.nativeElement):qn.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),qn.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?sl.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&sl.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+qn.p.getWindowScrollLeft(),top:t.top+qn.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),i=t.left+qn.p.getOuterWidth(this.el.nativeElement),o=t.top+(qn.p.getOuterHeight(this.el.nativeElement)-qn.p.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-qn.p.getOuterWidth(this.container),o=t.top+(qn.p.getOuterHeight(this.el.nativeElement)-qn.p.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(qn.p.getOuterWidth(this.el.nativeElement)-qn.p.getOuterWidth(this.container))/2,o=t.top-qn.p.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(qn.p.getOuterWidth(this.el.nativeElement)-qn.p.getOuterWidth(this.container))/2,o=t.top+qn.p.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return qn.p.hasClass(t,"p-inputwrapper")?qn.p.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,o=t.left,l=qn.p.getOuterWidth(this.container),h=qn.p.getOuterHeight(this.container),_=qn.p.getViewport();return o+l>_.width||o<0||i<0||i+h>_.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qn.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):qn.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&sl.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Cu.b4))},n.\u0275dir=u.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[u.TTD]}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[p.ez]]}),n})();var AS=F(5787);function BO(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.label||"empty")}}function jO(n,e){1&n&&u.GkF(0)}const xS=function(n){return{height:n}},HO=function(n,e){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e}},xI=function(n){return{$implicit:n}},$O=["container"],GO=["filter"],zO=["in"],qO=["editableInput"];function ZO(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.label||"empty")}}function WO(n,e){1&n&&u.GkF(0)}const KO=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function YO(n,e){if(1&n&&(u.TgZ(0,"span",12),u.YNc(1,ZO,2,1,"ng-container",13),u.YNc(2,WO,1,0,"ng-container",14),u.qZA()),2&n){const t=u.oxw();u.Q6J("ngClass",u.VKq(9,KO,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),u.uIk("id",t.labelId),u.xp6(1),u.Q6J("ngIf",!t.selectedItemTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",u.VKq(11,xI,t.selectedOption))}}const QO=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function JO(n,e){if(1&n&&(u.TgZ(0,"span",15),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Q6J("ngClass",u.VKq(2,QO,null==t.placeholder||0===t.placeholder.length)),u.xp6(1),u.Oqu(t.placeholder||"empty")}}function XO(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",16,17),u.NdJ("click",function(){return u.CHM(t),u.oxw().onEditableInputClick()})("input",function(o){return u.CHM(t),u.oxw().onEditableInputChange(o)})("focus",function(o){return u.CHM(t),u.oxw().onEditableInputFocus(o)})("blur",function(o){return u.CHM(t),u.oxw().onInputBlur(o)}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("disabled",t.disabled),u.uIk("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function eP(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"i",18),u.NdJ("click",function(o){return u.CHM(t),u.oxw().clear(o)}),u.qZA()}}function tP(n,e){1&n&&u.GkF(0)}function nP(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"div",27),u.NdJ("click",function(o){return o.stopPropagation()}),u.TgZ(2,"input",28,29),u.NdJ("keydown.enter",function(o){return o.preventDefault()})("keydown",function(o){return u.CHM(t),u.oxw(2).onKeydown(o,!1)})("input",function(o){return u.CHM(t),u.oxw(2).onFilterInputChange(o)}),u.qZA(),u._UZ(4,"span",30),u.qZA()()}if(2&n){const t=u.oxw(2);u.xp6(2),u.Q6J("value",t.filterValue||""),u.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId)}}function iP(n,e){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit,i=u.oxw(3);u.xp6(1),u.Oqu(i.getOptionGroupLabel(t)||"empty")}}function rP(n,e){1&n&&u.GkF(0)}function sP(n,e){1&n&&u.GkF(0)}const MS=function(n,e){return{$implicit:n,selectedOption:e}};function oP(n,e){if(1&n&&(u.TgZ(0,"li",32),u.YNc(1,iP,2,1,"span",13),u.YNc(2,rP,1,0,"ng-container",14),u.qZA(),u.YNc(3,sP,1,0,"ng-container",14)),2&n){const t=e.$implicit;u.oxw(2);const i=u.MAs(8),o=u.oxw();u.xp6(1),u.Q6J("ngIf",!o.groupTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",u.VKq(5,xI,t)),u.xp6(1),u.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",u.WLB(7,MS,o.getOptionGroupChildren(t),o.selectedOption))}}function aP(n,e){if(1&n&&(u.ynx(0),u.YNc(1,oP,4,10,"ng-template",31),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.optionsToDisplay)}}function lP(n,e){1&n&&u.GkF(0)}function uP(n,e){if(1&n&&(u.ynx(0),u.YNc(1,lP,1,0,"ng-container",14),u.BQk()),2&n){u.oxw();const t=u.MAs(8),i=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",u.WLB(2,MS,i.optionsToDisplay,i.selectedOption))}}function cP(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"p-dropdownItem",35),u.NdJ("onClick",function(o){return u.CHM(t),u.oxw(4).onItemClick(o)}),u.qZA()}if(2&n){const t=e.$implicit,i=u.oxw(2).selectedOption,o=u.oxw(2);u.Q6J("option",t)("selected",i==t)("label",o.getOptionLabel(t))("disabled",o.isOptionDisabled(t))("template",o.itemTemplate)}}function dP(n,e){if(1&n&&(u.ynx(0),u.YNc(1,cP,1,5,"ng-template",31),u.BQk()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngForOf",t)}}function hP(n,e){if(1&n){const t=u.EpF();u.ynx(0),u.TgZ(1,"p-dropdownItem",35),u.NdJ("onClick",function(o){return u.CHM(t),u.oxw(5).onItemClick(o)}),u.qZA(),u.BQk()}if(2&n){const t=e.$implicit,i=u.oxw(3).selectedOption,o=u.oxw(2);u.xp6(1),u.Q6J("option",t)("selected",i==t)("label",o.getOptionLabel(t))("disabled",o.isOptionDisabled(t))("template",o.itemTemplate)}}function fP(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"cdk-virtual-scroll-viewport",37,38),u.NdJ("scrolledIndexChange",function(){return u.CHM(t),u.oxw(4).scrollToSelectedVirtualScrollElement()}),u.YNc(2,hP,2,5,"ng-container",39),u.qZA()}if(2&n){const t=u.oxw(2).$implicit,i=u.oxw(2);u.Q6J("ngStyle",u.VKq(3,xS,i.scrollHeight))("itemSize",i.itemSize),u.xp6(2),u.Q6J("cdkVirtualForOf",t)}}function pP(n,e){if(1&n&&u.YNc(0,fP,3,5,"cdk-virtual-scroll-viewport",36),2&n){const t=u.oxw(3);u.Q6J("ngIf",t.virtualScroll&&t.optionsToDisplay&&t.optionsToDisplay.length)}}function gP(n,e){if(1&n&&(u.YNc(0,dP,2,1,"ng-container",33),u.YNc(1,pP,1,1,"ng-template",null,34,u.W1O)),2&n){const t=u.MAs(2),i=u.oxw(2);u.Q6J("ngIf",!i.virtualScroll)("ngIfElse",t)}}function mP(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.emptyFilterMessageLabel," ")}}function _P(n,e){1&n&&u.GkF(0,null,41)}function yP(n,e){if(1&n&&(u.TgZ(0,"li",40),u.YNc(1,mP,2,1,"ng-container",33),u.YNc(2,_P,2,0,"ng-container",20),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),u.xp6(1),u.Q6J("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function vP(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.emptyMessageLabel," ")}}function wP(n,e){1&n&&u.GkF(0,null,42)}function bP(n,e){if(1&n&&(u.TgZ(0,"li",40),u.YNc(1,vP,2,1,"ng-container",33),u.YNc(2,wP,2,0,"ng-container",20),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),u.xp6(1),u.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function EP(n,e){1&n&&u.GkF(0)}const CP=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},TP=function(n){return{value:"visible",params:n}},IP=function(n){return{"p-dropdown-virtualscroll":n}};function DP(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("click",function(o){return u.CHM(t),u.oxw().onOverlayClick(o)})("@overlayAnimation.start",function(o){return u.CHM(t),u.oxw().onOverlayAnimationStart(o)})("@overlayAnimation.start",function(o){return u.CHM(t),u.oxw().onOverlayAnimationEnd(o)}),u.YNc(1,tP,1,0,"ng-container",20),u.YNc(2,nP,5,4,"div",21),u.TgZ(3,"div",22)(4,"ul",23),u.YNc(5,aP,2,1,"ng-container",13),u.YNc(6,uP,2,5,"ng-container",13),u.YNc(7,gP,3,2,"ng-template",null,24,u.W1O),u.YNc(9,yP,3,3,"li",25),u.YNc(10,bP,3,3,"li",25),u.qZA()(),u.YNc(11,EP,1,0,"ng-container",20),u.qZA()}if(2&n){const t=u.oxw();u.Tol(t.panelStyleClass),u.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",u.VKq(19,TP,u.WLB(16,CP,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),u.xp6(1),u.Q6J("ngTemplateOutlet",t.headerTemplate),u.xp6(1),u.Q6J("ngIf",t.filter),u.xp6(1),u.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),u.xp6(1),u.Q6J("ngClass",u.VKq(21,IP,t.virtualScroll)),u.uIk("id",t.listId),u.xp6(1),u.Q6J("ngIf",t.group),u.xp6(1),u.Q6J("ngIf",!t.group),u.xp6(3),u.Q6J("ngIf",t.filterValue&&t.isEmpty()),u.xp6(1),u.Q6J("ngIf",!t.filterValue&&t.isEmpty()),u.xp6(1),u.Q6J("ngTemplateOutlet",t.footerTemplate)}}const SP=function(n,e,t,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":e,"p-focus":t,"p-dropdown-clearable":i}},AP={provide:yn.JU,useExisting:(0,u.Gpc)(()=>MP),multi:!0};let xP=(()=>{class n{constructor(){this.onClick=new u.vpe}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(u.TgZ(0,"li",0),u.NdJ("click",function(l){return i.onOptionClick(l)}),u.YNc(1,BO,2,1,"span",1),u.YNc(2,jO,1,0,"ng-container",2),u.qZA()),2&t&&(u.Q6J("ngStyle",u.VKq(8,xS,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",u.WLB(10,HO,i.selected,i.disabled)),u.uIk("aria-label",i.label)("aria-selected",i.selected),u.xp6(1),u.Q6J("ngIf",!i.template),u.xp6(1),u.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",u.VKq(13,xI,i.option)))},directives:[AS.H,p.PC,p.mk,p.O5,p.tP],encapsulation:2}),n})(),MP=(()=>{class n{constructor(t,i,o,l,h,_,E){this.el=t,this.renderer=i,this.cd=o,this.zone=l,this.filterService=h,this.config=_,this.overlayService=E,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new u.vpe,this.onFilter=new u.vpe,this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClick=new u.vpe,this.onShow=new u.vpe,this.onHide=new u.vpe,this.onClear=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=(0,sl.Th)()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Cu.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Cu.ws.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?sl.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?sl.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?sl.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?sl.gb.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?sl.gb.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const i=t.option;this.isOptionDisabled(i)||(this.selectItem(t.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(t,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}qn.p.findSingle(this.overlay,"li.p-highlight")&&qn.p.scrollInView(this.itemsWrapper,qn.p.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}isInputClick(t){return qn.p.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=qn.p.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&sl.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let o=qn.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");o&&o.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide(),this.onHide.emit(t)}}onOverlayAnimationEnd(t){"void"===t.toState&&sl.P9.clear(t.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(t){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(t&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):qn.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=qn.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?qn.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):qn.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let o=t-1;0<=o;o--){let l=this.optionsToDisplay[o];if(!this.isOptionDisabled(l)){i=l;break}}if(!i)for(let o=this.optionsToDisplay.length-1;o>=t;o--){let l=this.optionsToDisplay[o];if(!this.isOptionDisabled(l)){i=l;break}}}return i}findNextEnabledOption(t){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let o=t+1;o<this.optionsToDisplay.length;o++){let l=this.optionsToDisplay[o];if(!this.isOptionDisabled(l)){i=l;break}}if(!i)for(let o=0;o<t;o++){let l=this.optionsToDisplay[o];if(!this.isOptionDisabled(l)){i=l;break}}}return i}onKeydown(t,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==o){let l=o.itemIndex+1;l<this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex])[l]),this.selectedOptionUpdated=!0):this.optionsToDisplay[o.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findNextEnabledOption(o);l&&(this.selectItem(t,l),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==o){let l=o.itemIndex-1;if(l>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[o.groupIndex])[l]),this.selectedOptionUpdated=!0;else if(l<0){let h=this.optionsToDisplay[o.groupIndex-1];h&&(this.selectItem(t,this.getOptionGroupChildren(h)[this.getOptionGroupChildren(h).length-1]),this.selectedOptionUpdated=!0)}}}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,l=this.findPrevEnabledOption(o);l&&(this.selectItem(t,l),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!t.metaKey&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=t.key;let o;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let l=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};o=this.searchOptionWithinGroup(l)}else{let l=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;o=this.searchOption(++l)}o&&!this.isOptionDisabled(o)&&(this.selectItem(t,o),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let i;return this.searchValue&&(i=this.searchOptionInRange(t,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,t))),i}searchOptionInRange(t,i){for(let o=t;o<i;o++){let l=this.optionsToDisplay[o];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let o=t.groupIndex;o<this.optionsToDisplay.length;o++)for(let l=t.groupIndex===o?t.itemIndex+1:0;l<this.getOptionGroupChildren(this.optionsToDisplay[o]).length;l++){let h=this.getOptionGroupChildren(this.optionsToDisplay[o])[l];if(this.getOptionLabel(h).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(h))return h}for(let o=0;o<=t.groupIndex;o++)for(let l=0;l<(t.groupIndex===o?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[o]).length);l++){let h=this.getOptionGroupChildren(this.optionsToDisplay[o])[l];if(this.getOptionLabel(h).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(h))return h}}return null}findOptionIndex(t,i){let o=-1;if(i)for(let l=0;l<i.length;l++)if(null==t&&null==this.getOptionValue(i[l])||sl.gb.equals(t,this.getOptionValue(i[l]),this.dataKey)){o=l;break}return o}findOptionGroupIndex(t,i){let o,l;if(i)for(let h=0;h<i.length&&(o=h,l=this.findOptionIndex(t,this.getOptionGroupChildren(i[h])),-1===l);h++);return-1!==l?{groupIndex:o,itemIndex:l}:-1}findOption(t,i,o){if(this.group&&!o){let l;if(i&&i.length)for(let h of i)if(l=this.findOption(t,this.getOptionGroupChildren(h),!0),l)break;return l}{let l=this.findOptionIndex(t,i);return-1!=l?i[l]:null}}onFilterInputChange(t){let i=t.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let o of this.options){let l=this.filterService.filter(this.getOptionGroupChildren(o),t,this.filterValue,this.filterMatchMode,this.filterLocale);l&&l.length&&i.push(Object.assign(Object.assign({},o),{[this.optionGroupChildren]:l}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?qn.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():qn.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!qn.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new qn.V(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&sl.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(Cu.iZ),u.Y36(Cu.b4),u.Y36(Cu.F0))},n.\u0275cmp=u.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(t,i,o){if(1&t&&u.Suo(o,Cu.jx,4),2&t){let l;u.iGM(l=u.CRH())&&(i.templates=l)}},viewQuery:function(t,i){if(1&t&&(u.Gf($O,5),u.Gf(GO,5),u.Gf(zO,5),u.Gf(AI,5),u.Gf(qO,5)),2&t){let o;u.iGM(o=u.CRH())&&(i.containerViewChild=o.first),u.iGM(o=u.CRH())&&(i.filterViewChild=o.first),u.iGM(o=u.CRH())&&(i.accessibleViewChild=o.first),u.iGM(o=u.CRH())&&(i.viewPort=o.first),u.iGM(o=u.CRH())&&(i.editableInputViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,i){2&t&&u.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[u._Bn([AP])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(t,i){1&t&&(u.TgZ(0,"div",0,1),u.NdJ("click",function(l){return i.onMouseclick(l)}),u.TgZ(2,"div",2)(3,"input",3,4),u.NdJ("focus",function(l){return i.onInputFocus(l)})("blur",function(l){return i.onInputBlur(l)})("keydown",function(l){return i.onKeydown(l,!0)}),u.qZA()(),u.YNc(5,YO,3,13,"span",5),u.YNc(6,JO,2,4,"span",6),u.YNc(7,XO,2,4,"input",7),u.YNc(8,eP,1,0,"i",8),u.TgZ(9,"div",9),u._UZ(10,"span",10),u.qZA(),u.YNc(11,DP,12,23,"div",11),u.qZA()),2&t&&(u.Tol(i.styleClass),u.Q6J("ngClass",u.l5B(20,SP,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),u.xp6(3),u.Q6J("disabled",i.disabled),u.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),u.xp6(2),u.Q6J("ngIf",!i.editable&&null!=i.label),u.xp6(1),u.Q6J("ngIf",!i.editable&&null==i.label),u.xp6(1),u.Q6J("ngIf",i.editable),u.xp6(1),u.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),u.xp6(1),u.uIk("aria-expanded",i.overlayVisible),u.xp6(1),u.Q6J("ngClass",i.dropdownIcon),u.xp6(1),u.Q6J("ngIf",i.overlayVisible))},directives:[xP,AI,p.mk,p.PC,p.O5,VO,p.tP,p.sg,OO,LO],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[(0,Tt.X$)("overlayAnimation",[(0,Tt.eR)(":enter",[(0,Tt.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Tt.jt)("{{showTransitionParams}}")]),(0,Tt.eR)(":leave",[(0,Tt.jt)("{{hideTransitionParams}}",(0,Tt.oB)({opacity:0}))])])]},changeDetection:0}),n})(),OP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[p.ez,Cu.m8,SS,UO,AS.T],Cu.m8,SS]}),n})(),PP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[wA]}),n.\u0275inj=u.cJS({providers:[],imports:[[Ci,$x,yn.u5,Si.hO,yn.UX,Si.hO.initializeApp(DD_firebase),BM,jM.D,HM.T,OP]]}),n})();(0,u.G48)(),Li().bootstrapModule(PP).catch(n=>console.error(n))},4327:function(lt,Se){var u;void 0!==(u=function(){"use strict";function ae(ee,X,fe){var $e=new XMLHttpRequest;$e.open("GET",ee),$e.responseType="blob",$e.onload=function(){re($e.response,X,fe)},$e.onerror=function(){console.error("could not download file")},$e.send()}function B(ee){var X=new XMLHttpRequest;X.open("HEAD",ee,!1);try{X.send()}catch(fe){}return 200<=X.status&&299>=X.status}function J(ee){try{ee.dispatchEvent(new MouseEvent("click"))}catch(fe){var X=document.createEvent("MouseEvents");X.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ee.dispatchEvent(X)}}var Q="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ne=Q.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),re=Q.saveAs||("object"!=typeof window||window!==Q?function(){}:"download"in HTMLAnchorElement.prototype&&!ne?function(ee,X,fe){var $e=Q.URL||Q.webkitURL,ke=document.createElement("a");ke.download=X=X||ee.name||"download",ke.rel="noopener","string"==typeof ee?(ke.href=ee,ke.origin===location.origin?J(ke):B(ke.href)?ae(ee,X,fe):J(ke,ke.target="_blank")):(ke.href=$e.createObjectURL(ee),setTimeout(function(){$e.revokeObjectURL(ke.href)},4e4),setTimeout(function(){J(ke)},0))}:"msSaveOrOpenBlob"in navigator?function(ee,X,fe){if(X=X||ee.name||"download","string"!=typeof ee)navigator.msSaveOrOpenBlob(function j(ee,X){return void 0===X?X={autoBom:!1}:"object"!=typeof X&&(console.warn("Deprecated: Expected third argument to be a object"),X={autoBom:!X}),X.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ee.type)?new Blob(["\ufeff",ee],{type:ee.type}):ee}(ee,fe),X);else if(B(ee))ae(ee,X,fe);else{var $e=document.createElement("a");$e.href=ee,$e.target="_blank",setTimeout(function(){J($e)})}}:function(ee,X,fe,$e){if(($e=$e||open("","_blank"))&&($e.document.title=$e.document.body.innerText="downloading..."),"string"==typeof ee)return ae(ee,X,fe);var ke="application/octet-stream"===ee.type,Fe=/constructor/i.test(Q.HTMLElement)||Q.safari,Be=/CriOS\/[\d]+/.test(navigator.userAgent);if((Be||ke&&Fe||ne)&&"undefined"!=typeof FileReader){var me=new FileReader;me.onloadend=function(){var et=me.result;et=Be?et:et.replace(/^data:[^;]*;/,"data:attachment/file;"),$e?$e.location.href=et:location=et,$e=null},me.readAsDataURL(ee)}else{var ce=Q.URL||Q.webkitURL,Ye=ce.createObjectURL(ee);$e?$e.location=Ye:location.href=Ye,$e=null,setTimeout(function(){ce.revokeObjectURL(Ye)},4e4)}});Q.saveAs=re.saveAs=re,lt.exports=re}.apply(Se,[]))&&(lt.exports=u)},5867:(lt,Se,F)=>{"use strict";F.d(Se,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=F(9681);(0,p.registerVersion)("firebase","9.8.2","app")},127:(lt,Se,F)=>{"use strict";F.d(Se,{Z:()=>p.Z});var p=F(3942);p.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(lt,Se,F)=>{"use strict";F.r(Se);var p=F(5861),u=F(3942),j=F(2090),ae=F(9681),B=F(655),J=F(1877),Q=F(4859);const Fe=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new J.Yd("@firebase/auth");function et(y,...f){Ye.logLevel<=J.in.ERROR&&Ye.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Le(y,...f){throw Ce(y,...f)}function Z(y,...f){return Ce(y,...f)}function De(y,f,m){const b=Object.assign(Object.assign({},Be()),{[f]:m});return new j.LL("auth","Firebase",b).create(f,{appName:y.name})}function ue(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Le(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return me.create(y,...f)}function oe(y,f,...m){if(!y)throw Ce(f,...m)}function He(y){const f="INTERNAL ASSERTION FAILED: "+y;throw et(f),new Error(f)}function _e(y,f){y||He(f)}const Me=new Map;function Oe(y){_e(y instanceof Function,"Expected a class definition");let f=Me.get(y);return f?(_e(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Me.set(y,f),f)}function at(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Nt(){return"http:"===wn()||"https:"===wn()}function wn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ct{constructor(f,m){this.shortDelay=f,this.longDelay=m,_e(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function un(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(y,f){_e(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class ct{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xt=new Ct(3e4,6e4);function jt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Yt(y,f,m,b){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(y,f,m,b,V={}){return mn(y,V,(0,p.Z)(function*(){let Y={},Te={};b&&("GET"===f?Te=b:Y={body:JSON.stringify(b)});const Ke=(0,j.xO)(Object.assign({key:y.config.apiKey},Te)).slice(1),gt=yield y._getAdditionalHeaders();return gt["Content-Type"]="application/json",y.languageCode&&(gt["X-Firebase-Locale"]=y.languageCode),ct.fetch()(or(y,y.config.apiHost,m,Ke),Object.assign({method:f,headers:gt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function mn(y,f,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},ft),f);try{const V=new Ci(y),Y=yield Promise.race([m(),V.promise]);V.clearNetworkTimeout();const Te=yield Y.json();if("needConfirmation"in Te)throw Or(y,"account-exists-with-different-credential",Te);if(Y.ok&&!("errorMessage"in Te))return Te;{const Ke=Y.ok?Te.errorMessage:Te.error.message,[gt,It]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw Or(y,"credential-already-in-use",Te);if("EMAIL_EXISTS"===gt)throw Or(y,"email-already-in-use",Te);if("USER_DISABLED"===gt)throw Or(y,"user-disabled",Te);const Rt=b[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw De(y,Rt,It);Le(y,Rt)}}catch(V){if(V instanceof j.ZR)throw V;Le(y,"network-request-failed")}})).apply(this,arguments)}function oi(y,f,m,b){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(y,f,m,b,V={}){const Y=yield Yt(y,f,m,b,V);return"mfaPendingCredential"in Y&&Le(y,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function or(y,f,m,b){const V=`${f}${m}?${b}`;return y.config.emulator?Ie(y.config,V):`${y.config.apiScheme}://${V}`}class Ci{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Z(this.auth,"network-request-failed")),Xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Or(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const V=Z(y,f,b);return V.customData._tokenResponse=m,V}function yr(){return(yr=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Bn(y,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ss(y,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Vi(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Mi(){return(Mi=(0,p.Z)(function*(y,f=!1){const m=(0,j.m9)(y),b=yield m.getIdToken(f),V=kt(b);oe(V&&V.exp&&V.auth_time&&V.iat,m.auth,"internal-error");const Y="object"==typeof V.firebase?V.firebase:void 0,Te=null==Y?void 0:Y.sign_in_provider;return{claims:V,token:b,authTime:Vi(_t(V.auth_time)),issuedAtTime:Vi(_t(V.iat)),expirationTime:Vi(_t(V.exp)),signInProvider:Te||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function _t(y){return 1e3*Number(y)}function kt(y){const[f,m,b]=y.split(".");if(void 0===f||void 0===m||void 0===b)return et("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,j.tV)(m);return V?JSON.parse(V):(et("Failed to decode base64 JWT payload"),null)}catch(V){return et("Caught error parsing JWT payload as JSON",V),null}}function Ti(y,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,p.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof j.ZR&&Dn(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Dn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ro{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const V=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class Ji{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ai(y){return he.apply(this,arguments)}function he(){return(he=(0,p.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),V=yield Ti(y,ss(m,{idToken:b}));oe(null==V?void 0:V.users.length,m,"internal-error");const Y=V.users[0];y._notifyReloadListener(Y);const Te=(null===(f=Y.providerUserInfo)||void 0===f?void 0:f.length)?pe(Y.providerUserInfo):[],Ke=tt(y.providerData,Te),Rt=!!y.isAnonymous&&!(y.email&&Y.passwordHash||(null==Ke?void 0:Ke.length)),Wt={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:Ke,metadata:new Ji(Y.createdAt,Y.lastLoginAt),isAnonymous:Rt};Object.assign(y,Wt)})).apply(this,arguments)}function Ee(){return(Ee=(0,p.Z)(function*(y){const f=(0,j.m9)(y);yield ai(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function tt(y,f){return[...y.filter(b=>!f.some(V=>V.providerId===b.providerId)),...f]}function pe(y){return y.map(f=>{var{providerId:m}=f,b=(0,B._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function it(){return(it=(0,p.Z)(function*(y,f){const m=yield mn(y,{},(0,p.Z)(function*(){const b=(0,j.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:V,apiKey:Y}=y.config,Te=or(y,V,"/v1/token",`key=${Y}`),Ke=yield y._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",ct.fetch()(Te,{method:"POST",headers:Ke,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(void 0!==f.idToken,"internal-error"),oe(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Ft(y){const f=kt(y);return oe(f,"internal-error"),oe(void 0!==f.exp,"internal-error"),oe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,p.Z)(function*(){return oe(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,p.Z)(function*(){const{accessToken:V,refreshToken:Y,expiresIn:Te}=yield function Ae(y,f){return it.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(V,Y,Number(Te))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:V,expirationTime:Y}=m,Te=new vt;return b&&(oe("string"==typeof b,"internal-error",{appName:f}),Te.refreshToken=b),V&&(oe("string"==typeof V,"internal-error",{appName:f}),Te.accessToken=V),Y&&(oe("number"==typeof Y,"internal-error",{appName:f}),Te.expirationTime=Y),Te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return He("not implemented")}}function Ut(y,f){oe("string"==typeof y||void 0===y,"internal-error",{appName:f})}class qt{constructor(f){var{uid:m,auth:b,stsTokenManager:V}=f,Y=(0,B._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new Ji(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,p.Z)(function*(){const b=yield Ti(m,m.stsTokenManager.getToken(m.auth,f));return oe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function ar(y){return Mi.apply(this,arguments)}(this,f)}reload(){return function be(y){return Ee.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new qt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,p.Z)(function*(){let V=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),V=!0),m&&(yield ai(b)),yield b.auth._persistUserIfCurrent(b),V&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,p.Z)(function*(){const m=yield f.getIdToken();return yield Ti(f,function $t(y,f){return yr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,V,Y,Te,Ke,gt,It,Rt;const Wt=null!==(b=m.displayName)&&void 0!==b?b:void 0,pr=null!==(V=m.email)&&void 0!==V?V:void 0,Xr=null!==(Y=m.phoneNumber)&&void 0!==Y?Y:void 0,Gu=null!==(Te=m.photoURL)&&void 0!==Te?Te:void 0,ff=null!==(Ke=m.tenantId)&&void 0!==Ke?Ke:void 0,Jd=null!==(gt=m._redirectEventId)&&void 0!==gt?gt:void 0,du=null!==(It=m.createdAt)&&void 0!==It?It:void 0,Xd=null!==(Rt=m.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:zc,emailVerified:lg,isAnonymous:hu,providerData:pf,stsTokenManager:gf}=m;oe(zc&&gf,f,"internal-error");const ms=vt.fromJSON(this.name,gf);oe("string"==typeof zc,f,"internal-error"),Ut(Wt,f.name),Ut(pr,f.name),oe("boolean"==typeof lg,f,"internal-error"),oe("boolean"==typeof hu,f,"internal-error"),Ut(Xr,f.name),Ut(Gu,f.name),Ut(ff,f.name),Ut(Jd,f.name),Ut(du,f.name),Ut(Xd,f.name);const Sl=new qt({uid:zc,auth:f,email:pr,emailVerified:lg,displayName:Wt,isAnonymous:hu,photoURL:Gu,phoneNumber:Xr,tenantId:ff,stsTokenManager:ms,createdAt:du,lastLoginAt:Xd});return pf&&Array.isArray(pf)&&(Sl.providerData=pf.map(Al=>Object.assign({},Al))),Jd&&(Sl._redirectEventId=Jd),Sl}static _fromIdTokenResponse(f,m,b=!1){return(0,p.Z)(function*(){const V=new vt;V.updateFromServerResponse(m);const Y=new qt({uid:m.localId,auth:f,stsTokenManager:V,isAnonymous:b});return yield ai(Y),Y})()}}const Zt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,b){var V=this;return(0,p.Z)(function*(){V.storage[m]=b})()}_get(m){var b=this;return(0,p.Z)(function*(){const V=b.storage[m];return void 0===V?null:V})()}_remove(m){var b=this;return(0,p.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function mi(y,f,m){return`firebase:${y}:${f}:${m}`}class Ui{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:V,name:Y}=this.auth;this.fullUserKey=mi(this.userKey,V.apiKey,Y),this.fullPersistenceKey=mi("persistence",V.apiKey,Y),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?qt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,p.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,p.Z)(function*(){if(!m.length)return new Ui(Oe(Zt),f,b);const V=(yield Promise.all(m.map(function(){var It=(0,p.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return It.apply(this,arguments)}}()))).filter(It=>It);let Y=V[0]||Oe(Zt);const Te=mi(b,f.config.apiKey,f.name);let Ke=null;for(const It of m)try{const Rt=yield It._get(Te);if(Rt){const Wt=qt._fromJSON(f,Rt);It!==Y&&(Ke=Wt),Y=It;break}}catch(Rt){}const gt=V.filter(It=>It._shouldAllowMigration);return Y._shouldAllowMigration&&gt.length?(Y=gt[0],Ke&&(yield Y._set(Te,Ke.toJSON())),yield Promise.all(m.map(function(){var It=(0,p.Z)(function*(Rt){if(Rt!==Y)try{yield Rt._remove(Te)}catch(Wt){}});return function(Rt){return It.apply(this,arguments)}}())),new Ui(Y,f,b)):new Ui(Y,f,b)})()}}function fo(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(li(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if($n(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Dt(f))return"Blackberry";if(Qn(f))return"Webos";if(Tt(f))return"Safari";if((f.includes("chrome/")||xe(f))&&!f.includes("edge/"))return"Chrome";if(Wn(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function $n(y=(0,j.z$)()){return/firefox\//i.test(y)}function Tt(y=(0,j.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function xe(y=(0,j.z$)()){return/crios\//i.test(y)}function li(y=(0,j.z$)()){return/iemobile/i.test(y)}function Wn(y=(0,j.z$)()){return/android/i.test(y)}function Dt(y=(0,j.z$)()){return/blackberry/i.test(y)}function Qn(y=(0,j.z$)()){return/webos/i.test(y)}function Xi(y=(0,j.z$)()){return/iphone|ipad|ipod/i.test(y)}function En(y=(0,j.z$)()){return Xi(y)||Wn(y)||Qn(y)||Dt(y)||/windows phone/i.test(y)||li(y)}function Hr(y,f=[]){let m;switch(y){case"Browser":m=fo((0,j.z$)());break;case"Worker":m=`${fo((0,j.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class Bi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=Y=>new Promise((Te,Ke)=>{try{Te(f(Y))}catch(gt){Ke(gt)}});b.onAbort=m,this.queue.push(b);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const V of m.queue)yield V(f),V.onAbort&&b.push(V.onAbort)}catch(V){b.reverse();for(const Y of b)try{Y()}catch(Te){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:V.message})}})()}}class mt{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sn(this),this.idTokenSubscription=new Sn(this),this.beforeStateQueue=new Bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=Oe(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var V,Y;if(!b._deleted&&(b.persistenceManager=yield Ui.create(b,f),!b._deleted)){if(null===(V=b._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(Te){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(Y=b.currentUser)||void 0===Y?void 0:Y.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,p.Z)(function*(){var b;const V=yield m.assertedPersistence.getCurrentUser();let Y=V,Te=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ke=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,gt=null==Y?void 0:Y._redirectEventId,It=yield m.tryRedirectSignIn(f);(!Ke||Ke===gt)&&(null==It?void 0:It.user)&&(Y=It.user,Te=!0)}if(!Y)return m.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Te)try{yield m.beforeStateQueue.runMiddleware(Y)}catch(Ke){Y=V,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ke))}return Y?m.reloadAndSetCurrentUserOrClear(Y):m.directlySetCurrentUser(null)}return oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Y._redirectEventId?m.directlySetCurrentUser(Y):m.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(f){var m=this;return(0,p.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(V){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,p.Z)(function*(){try{yield ai(f)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ve(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,p.Z)(function*(){const b=f?(0,j.m9)(f):null;return b&&oe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,p.Z)(function*(){if(!b._deleted)return f&&oe(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,p.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new j.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,p.Z)(function*(){const V=yield b.getOrInitRedirectPersistenceManager(m);return null===f?V.removeCurrentUser():V.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&Oe(f)||m._popupRedirectResolver;oe(b,m,"argument-error"),m.redirectPersistenceManager=yield Ui.create(m,[Oe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,p.Z)(function*(){var b,V;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(V=m.redirectUser)||void 0===V?void 0:V._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,p.Z)(function*(){if(f===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,V){if(this._deleted)return()=>{};const Y="function"==typeof m?m:m.next.bind(m),Te=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Te,this,"internal-error"),Te.then(()=>Y(this.currentUser)),"function"==typeof m?f.addObserver(m,b,V):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,p.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const V=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return V&&(b["X-Firebase-Client"]=V),b})()}}function Mt(y){return(0,j.m9)(y)}class Sn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,j.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $r(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Rr(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class wr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,m){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function Jn(y,f){return en.apply(this,arguments)}function en(){return(en=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:resetPassword",jt(y,f))})).apply(this,arguments)}function Ts(y,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ns(y,f){return br.apply(this,arguments)}function br(){return(br=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",jt(y,f))})).apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithPassword",jt(y,f))})).apply(this,arguments)}function Mn(y,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:sendOobCode",jt(y,f))})).apply(this,arguments)}function Un(y,f){return po.apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(y,f){return Mn(y,f)})).apply(this,arguments)}function er(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(y,f){return Mn(y,f)})).apply(this,arguments)}function Nr(y,f){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(y,f){return Mn(y,f)})).apply(this,arguments)}function Fo(y,f){return lr.apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(y,f){return Mn(y,f)})).apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,f))})).apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,f))})).apply(this,arguments)}class yi extends wr{constructor(f,m,b,V=null){super("password",b),this._email=f,this._password=m,this._tenantId=V}static _fromEmailAndPassword(f,m){return new yi(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new yi(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,p.Z)(function*(){switch(m.signInMethod){case"password":return function Xn(y,f){return hi.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Er(y,f){return tr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Le(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,p.Z)(function*(){switch(b.signInMethod){case"password":return Ts(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function so(y,f){return ls.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Le(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ur(y,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithIdp",jt(y,f))})).apply(this,arguments)}class nr extends wr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new nr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Le("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:V}=m,Y=(0,B._T)(m,["providerId","signInMethod"]);if(!b||!V)return null;const Te=new nr(b,V);return Te.idToken=Y.idToken||void 0,Te.accessToken=Y.accessToken||void 0,Te.secret=Y.secret,Te.nonce=Y.nonce,Te.pendingToken=Y.pendingToken||null,Te}_getIdTokenResponse(f){return ur(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,ur(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,ur(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,j.xO)(m)}return f}}function go(y,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:sendVerificationCode",jt(y,f))})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,f))})).apply(this,arguments)}function mo(){return(mo=(0,p.Z)(function*(y,f){const m=yield oi(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,f));if(m.temporaryProof)throw Or(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const cr={USER_NOT_FOUND:"user-not-found"};function yo(){return(yo=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),cr)})).apply(this,arguments)}class cs extends wr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new cs({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new cs({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function oo(y,f){return us.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Ma(y,f){return mo.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function _o(y,f){return yo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:V}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:V}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:V,temporaryProof:Y}=f;return b||m||V||Y?new cs({verificationId:m,verificationCode:b,phoneNumber:V,temporaryProof:Y}):null}}class ks{constructor(f){var m,b,V,Y,Te,Ke;const gt=(0,j.zd)((0,j.pd)(f)),It=null!==(m=gt.apiKey)&&void 0!==m?m:null,Rt=null!==(b=gt.oobCode)&&void 0!==b?b:null,Wt=function vo(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=gt.mode)&&void 0!==V?V:null);oe(It&&Rt&&Wt,"argument-error"),this.apiKey=It,this.operation=Wt,this.code=Rt,this.continueUrl=null!==(Y=gt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Te=gt.languageCode)&&void 0!==Te?Te:null,this.tenantId=null!==(Ke=gt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(f){const m=function ds(y){const f=(0,j.zd)((0,j.pd)(y)).link,m=f?(0,j.zd)((0,j.pd)(f)).deep_link_id:null,b=(0,j.zd)((0,j.pd)(y)).deep_link_id;return(b?(0,j.zd)((0,j.pd)(b)).link:null)||b||m||f||y}(f);try{return new ks(m)}catch(b){return null}}}let Uo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return yi._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const V=ks.parseLink(b);return oe(V,"argument-error"),yi._fromEmailAndCode(m,V.code,V.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ei{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ii extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Cr extends Ii{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),nr._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),nr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Cr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Cr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:V,pendingToken:Y,nonce:Te,providerId:Ke}=f;if(!b&&!V&&!m&&!Y||!Ke)return null;try{return new Cr(Ke)._credential({idToken:m,accessToken:b,nonce:Te,pendingToken:Y})}catch(gt){return null}}}let Is=(()=>{class y extends Ii{constructor(){super("facebook.com")}static credential(m){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),bo=(()=>{class y extends Ii{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:V}=m;if(!b&&!V)return null;try{return y.credential(b,V)}catch(Y){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Gr=(()=>{class y extends Ii{constructor(){super("github.com")}static credential(m){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Nn extends wr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return ur(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,ur(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,ur(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:V,pendingToken:Y}=m;return b&&V&&Y&&b===V?new Nn(b,Y):null}static _create(f,m){return new Nn(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ir extends Ei{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ir.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ir.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Nn.fromJSON(f);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Nn._create(b,m)}catch(V){return null}}}let Fs=(()=>{class y extends Ii{constructor(){super("twitter.com")}static credential(m,b){return nr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:V}=m;if(!b||!V)return null;try{return y.credential(b,V)}catch(Y){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Hi(y,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signUp",jt(y,f))})).apply(this,arguments)}class wi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,V=!1){return(0,p.Z)(function*(){const Y=yield qt._fromIdTokenResponse(f,b,V),Te=Bo(b);return new wi({user:Y,providerId:Te,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const V=Bo(b);return new wi({user:f,providerId:V,_tokenResponse:b,operationType:m})})()}}function Bo(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Zs(){return(Zs=(0,p.Z)(function*(y){var f;const m=Mt(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new wi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Hi(m,{returnSecureToken:!0}),V=yield wi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(V.user),V})).apply(this,arguments)}class Ss extends j.ZR{constructor(f,m,b,V){var Y;super(m.code,m.message),this.operationType=b,this.user=V,Object.setPrototypeOf(this,Ss.prototype),this.customData={appName:f.name,tenantId:null!==(Y=f.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,V){return new Ss(f,m,b,V)}}function qr(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?Ss._fromErrorAndOperation(y,Y,f,b):Y})}function kr(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Cn(){return(Cn=(0,p.Z)(function*(y,f){const m=(0,j.m9)(y);yield P(!0,m,f);const{providerUserInfo:b}=yield Bn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),V=kr(b||[]);return m.providerData=m.providerData.filter(Y=>V.has(Y.providerId)),V.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function R(y,f){return G.apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(y,f,m=!1){const b=yield Ti(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return wi._forOperation(y,"link",b)})).apply(this,arguments)}function P(y,f,m){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(y,f,m){yield ai(f);const V=!1===y?"provider-already-linked":"no-such-provider";oe(kr(f.providerData).has(m)===y,f.auth,V)})).apply(this,arguments)}function ge(y,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,p.Z)(function*(y,f,m=!1){const{auth:b}=y,V="reauthenticate";try{const Y=yield Ti(y,qr(b,V,f,y),m);oe(Y.idToken,b,"internal-error");const Te=kt(Y.idToken);oe(Te,b,"internal-error");const{sub:Ke}=Te;return oe(y.uid===Ke,b,"user-mismatch"),wi._forOperation(y,V,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&Le(b,"user-mismatch"),Y}})).apply(this,arguments)}function nt(y,f){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(y,f,m=!1){const b="signIn",V=yield qr(y,b,f),Y=yield wi._fromIdTokenResponse(y,b,V);return m||(yield y._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Jt(y,f){return On.apply(this,arguments)}function On(){return(On=(0,p.Z)(function*(y,f){return nt(Mt(y),f)})).apply(this,arguments)}function nn(y,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(y,f){const m=(0,j.m9)(y);return yield P(!1,m,f.providerId),R(m,f)})).apply(this,arguments)}function ei(y,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(y,f){return ge((0,j.m9)(y),f)})).apply(this,arguments)}function jn(y,f){return $i.apply(this,arguments)}function $i(){return($i=(0,p.Z)(function*(y,f){return oi(y,"POST","/v1/accounts:signInWithCustomToken",jt(y,f))})).apply(this,arguments)}function Gt(){return(Gt=(0,p.Z)(function*(y,f){const m=Mt(y),b=yield jn(m,{token:f,returnSecureToken:!0}),V=yield wi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(V.user),V})).apply(this,arguments)}class hr{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?jo._fromServerResponse(f,m):Le(f,"internal-error")}}class jo extends hr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new jo(m)}}function Ws(y,f,m){var b;oe((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),oe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function k(){return(k=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y),V={requestType:"PASSWORD_RESET",email:f};m&&Ws(b,V,m),yield er(b,V)})).apply(this,arguments)}function A(){return(A=(0,p.Z)(function*(y,f,m){yield Jn((0,j.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function de(){return(de=(0,p.Z)(function*(y,f){yield Ns((0,j.m9)(y),{oobCode:f})})).apply(this,arguments)}function st(y,f){return an.apply(this,arguments)}function an(){return(an=(0,p.Z)(function*(y,f){const m=(0,j.m9)(y),b=yield Jn(m,{oobCode:f}),V=b.requestType;switch(oe(V,m,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(b.mfaInfo,m,"internal-error");default:oe(b.email,m,"internal-error")}let Y=null;return b.mfaInfo&&(Y=hr._fromServerResponse(Mt(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:Y},operation:V}})).apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(y,f){const{data:m}=yield st((0,j.m9)(y),f);return m.email})).apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(y,f,m){const b=Mt(y),V=yield Hi(b,{returnSecureToken:!0,email:f,password:m}),Y=yield wi._fromIdTokenResponse(b,"signIn",V);return yield b._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function Tu(){return(Tu=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y),V={requestType:"EMAIL_SIGNIN",email:f};oe(m.handleCodeInApp,b,"argument-error"),m&&Ws(b,V,m),yield Nr(b,V)})).apply(this,arguments)}function Eo(){return(Eo=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y),V=Uo.credentialWithLink(f,m||at());return oe(V._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Jt(b,V)})).apply(this,arguments)}function Lr(y,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:createAuthUri",jt(y,f))})).apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(y,f){const b={identifier:f,continueUri:Nt()?at():"http://localhost"},{signinMethods:V}=yield Lr((0,j.m9)(y),b);return V||[]})).apply(this,arguments)}function Hl(){return(Hl=(0,p.Z)(function*(y,f){const m=(0,j.m9)(y),V={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Ws(m.auth,V,f);const{email:Y}=yield Un(m.auth,V);Y!==y.email&&(yield y.reload())})).apply(this,arguments)}function cl(){return(cl=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Ws(b.auth,Y,m);const{email:Te}=yield Fo(b.auth,Y);Te!==y.email&&(yield y.reload())})).apply(this,arguments)}function $l(y,f){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(y,f){return Yt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Gl(){return(Gl=(0,p.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,j.m9)(y),Y={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Te=yield Ti(b,$l(b.auth,Y));b.displayName=Te.displayName||null,b.photoURL=Te.photoUrl||null;const Ke=b.providerData.find(({providerId:gt})=>"password"===gt);Ke&&(Ke.displayName=b.displayName,Ke.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Te)})).apply(this,arguments)}function fa(y,f,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(y,f,m){const{auth:b}=y,Y={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(Y.email=f),m&&(Y.password=m);const Te=yield Ti(y,Ts(b,Y));yield y._updateTokensIfNecessary(Te,!0)})).apply(this,arguments)}class To{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class fl extends To{constructor(f,m,b,V){super(f,m,b),this.username=V}}class pl extends To{constructor(f,m){super(f,"facebook.com",m)}}class pa extends fl{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class xd extends To{constructor(f,m){super(f,"google.com",m)}}class gl extends fl{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Vr(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function hl(y){var f,m;if(!y)return null;const{providerId:b}=y,V=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},Y=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const Te=null===(m=null===(f=kt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Te)return new To(Y,"anonymous"!==Te&&"custom"!==Te?Te:null)}if(!b)return null;switch(b){case"facebook.com":return new pl(Y,V);case"github.com":return new pa(Y,V);case"google.com":return new xd(Y,V);case"twitter.com":return new gl(Y,V,y.screenName||null);case"custom":case"anonymous":return new To(Y,null);default:return new To(Y,b,V)}}(m)}class Ys{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ys("enroll",f)}static _fromMfaPendingCredential(f){return new Ys("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ys._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Ys._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ma{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=Mt(f),V=m.customData._serverResponse,Y=(V.mfaInfo||[]).map(Ke=>hr._fromServerResponse(b,Ke));oe(V.mfaPendingCredential,b,"internal-error");const Te=Ys._fromMfaPendingCredential(V.mfaPendingCredential);return new ma(Te,Y,function(){var Ke=(0,p.Z)(function*(gt){const It=yield gt._process(b,Te);delete V.mfaInfo,delete V.mfaPendingCredential;const Rt=Object.assign(Object.assign({},V),{idToken:It.idToken,refreshToken:It.refreshToken});switch(m.operationType){case"signIn":const Wt=yield wi._fromIdTokenResponse(b,m.operationType,Rt);return yield b._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return oe(m.user,b,"internal-error"),wi._forOperation(m.user,m.operationType,Rt);default:Le(b,"internal-error")}});return function(gt){return Ke.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,p.Z)(function*(){return m.signInResolver(f)})()}}function ql(y,f){return Yt(y,"POST","/v2/accounts/mfaEnrollment:start",jt(y,f))}class Gi{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>hr._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Gi(f)}getSession(){var f=this;return(0,p.Z)(function*(){return Ys._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,p.Z)(function*(){const V=f,Y=yield b.getSession(),Te=yield Ti(b.user,V._process(b.user.auth,Y,m));return yield b.user._updateTokensIfNecessary(Te),b.user.reload()})()}unenroll(f){var m=this;return(0,p.Z)(function*(){const b="string"==typeof f?f:f.uid,V=yield m.user.getIdToken(),Y=yield Ti(m.user,function Zr(y,f){return Yt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(y,f))}(m.user.auth,{idToken:V,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Te})=>Te!==b),yield m.user._updateTokensIfNecessary(Y);try{yield m.user.reload()}catch(Te){if("auth/user-token-expired"!==Te.code)throw Te}})()}}const zi=new WeakMap,Gn="__sak";class ao{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Gn,"1"),this.storage.removeItem(Gn),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Io=(()=>{class y extends ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ra(){const y=(0,j.z$)();return Tt(y)||Xi(y)}()&&function di(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const V=this.storage.getItem(b),Y=this.localCache[b];V!==Y&&m(b,Y,V)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ke,gt,It)=>{this.notifyListeners(Ke,It)});const V=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(V);if(m.newValue!==Ke)null!==m.newValue?this.storage.setItem(V,m.newValue):this.storage.removeItem(V);else if(this.localCache[V]===m.newValue&&!b)return}const Y=()=>{const Ke=this.storage.getItem(V);!b&&this.localCache[V]===Ke||this.notifyListeners(V,Ke)},Te=this.storage.getItem(V);!function os(){return(0,j.w1)()&&10===document.documentMode}()||Te===m.newValue||m.newValue===m.oldValue?Y():setTimeout(Y,10)}notifyListeners(m,b){this.localCache[m]=b;const V=this.listeners[m];if(V)for(const Y of Array.from(V))Y(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var V=()=>super._set,Y=this;return(0,p.Z)(function*(){yield V().call(Y,m,b),Y.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,V=this;return(0,p.Z)(function*(){const Y=yield b().call(V,m);return V.localCache[m]=JSON.stringify(Y),Y})()}_remove(m){var b=()=>super._remove,V=this;return(0,p.Z)(function*(){yield b().call(V,m),delete V.localCache[m]})()}}return y.type="LOCAL",y})(),Ms=(()=>{class y extends ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let ka=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(Y=>Y.isListeningto(m));if(b)return b;const V=new y(m);return this.receivers.push(V),V}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,p.Z)(function*(){const V=m,{eventId:Y,eventType:Te,data:Ke}=V.data,gt=b.handlersMap[Te];if(!(null==gt?void 0:gt.size))return;V.ports[0].postMessage({status:"ack",eventId:Y,eventType:Te});const It=Array.from(gt).map(function(){var Wt=(0,p.Z)(function*(pr){return pr(V.origin,Ke)});return function(pr){return Wt.apply(this,arguments)}}()),Rt=yield function Na(y){return Promise.all(y.map(function(){var f=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(It);V.ports[0].postMessage({status:"done",eventId:Y,eventType:Te,response:Rt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Si(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class zo{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var V=this;return(0,p.Z)(function*(){const Y="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Te,Ke;return new Promise((gt,It)=>{const Rt=Si("",20);Y.port1.start();const Wt=setTimeout(()=>{It(new Error("unsupported_event"))},b);Ke={messageChannel:Y,onMessage(pr){const Xr=pr;if(Xr.data.eventId===Rt)switch(Xr.data.status){case"ack":clearTimeout(Wt),Te=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(Te),gt(Xr.data.response);break;default:clearTimeout(Wt),clearTimeout(Te),It(new Error("invalid_response"))}}},V.handlers.add(Ke),Y.port1.addEventListener("message",Ke.onMessage),V.target.postMessage({eventType:f,eventId:Rt,data:m},[Y.port2])}).finally(()=>{Ke&&V.removeMessageHandler(Ke)})})()}}function Ri(){return window}function qo(){return void 0!==Ri().WorkerGlobalScope&&"function"==typeof Ri().importScripts}function St(){return(St=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Fa="firebaseLocalStorageDb",gs="firebaseLocalStorage",_a="fbase_key";class Do{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function I(y,f){return y.transaction([gs],f?"readwrite":"readonly").objectStore(gs)}function w(){const y=indexedDB.open(Fa,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(gs,{keyPath:_a})}catch(V){m(V)}}),y.addEventListener("success",(0,p.Z)(function*(){const b=y.result;b.objectStoreNames.contains(gs)?f(b):(b.close(),yield function C(){const y=indexedDB.deleteDatabase(Fa);return new Do(y).toPromise()}(),f(yield w()))}))})}function M(y,f,m){return L.apply(this,arguments)}function L(){return(L=(0,p.Z)(function*(y,f,m){const b=I(y,!0).put({[_a]:f,value:m});return new Do(b).toPromise()})).apply(this,arguments)}function se(){return(se=(0,p.Z)(function*(y,f){const m=I(y,!1).get(f),b=yield new Do(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ye(y,f){const m=I(y,!0).delete(f);return new Do(m).toPromise()}const Ot=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield w()),m.db})()}_withRetries(m){var b=this;return(0,p.Z)(function*(){let V=0;for(;;)try{const Y=yield b._openDb();return yield m(Y)}catch(Y){if(V++>3)throw Y;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return qo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=ka._getInstance(function tn(){return qo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,p.Z)(function*(V,Y){return{keyProcessed:(yield m._poll()).includes(Y.key)}});return function(V,Y){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,p.Z)(function*(V,Y){return["keyChanged"]});return function(V,Y){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var b,V;if(m.activeServiceWorker=yield function Wr(){return St.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new zo(m.activeServiceWorker);const Y=yield m.sender._send("ping",{},800);!Y||(null===(b=Y[0])||void 0===b?void 0:b.fulfilled)&&(null===(V=Y[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,p.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function yl(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield w();return yield M(m,Gn,"1"),yield ye(m,Gn),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,p.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var V=this;return(0,p.Z)(function*(){return V._withPendingWrite((0,p.Z)(function*(){return yield V._withRetries(Y=>M(Y,m,b)),V.localCache[m]=b,V.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,p.Z)(function*(){const V=yield b._withRetries(Y=>function z(y,f){return se.apply(this,arguments)}(Y,m));return b.localCache[m]=V,V})()}_remove(m){var b=this;return(0,p.Z)(function*(){return b._withPendingWrite((0,p.Z)(function*(){return yield b._withRetries(V=>ye(V,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const b=yield m._withRetries(Te=>{const Ke=I(Te,!1).getAll();return new Do(Ke).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const V=[],Y=new Set;for(const{fbase_key:Te,value:Ke}of b)Y.add(Te),JSON.stringify(m.localCache[Te])!==JSON.stringify(Ke)&&(m.notifyListeners(Te,Ke),V.push(Te));for(const Te of Object.keys(m.localCache))m.localCache[Te]&&!Y.has(Te)&&(m.notifyListeners(Te,null),V.push(Te));return V})()}notifyListeners(m,b){this.localCache[m]=b;const V=this.listeners[m];if(V)for(const Y of Array.from(V))Y(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Fn(y,f){return Yt(y,"POST","/v2/accounts/mfaSignIn:start",jt(y,f))}function Us(){return(Us=(0,p.Z)(function*(y){return(yield Yt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zo(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=V=>{const Y=Z("internal-error");Y.customData=V,m(Y)},b.type="text/javascript",b.charset="UTF-8",function Ai(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function ri(y){return`__${y}${Math.floor(1e6*Math.random())}`}const vl=1e12;class Su{constructor(f){this.auth=f,this.counter=vl,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Va(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||vl;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||vl))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,p.Z)(function*(){var b;return null===(b=m._widgets.get(f||vl))||void 0===b||b.execute(),""})()}}class Va{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof f?document.getElementById(f):f;oe(V,"argument-error",{appName:m}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ic(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Au=ri("rcb"),qi=new Ct(3e4,6e4);class xu{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ri().grecaptcha}load(f,m=""){return oe(function Hh(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Ri().grecaptcha):new Promise((b,V)=>{const Y=Ri().setTimeout(()=>{V(Z(f,"network-request-failed"))},qi.get());Ri()[Au]=()=>{Ri().clearTimeout(Y),delete Ri()[Au];const Ke=Ri().grecaptcha;if(!Ke)return void V(Z(f,"internal-error"));const gt=Ke.render;Ke.render=(It,Rt)=>{const Wt=gt(It,Rt);return this.counter++,Wt},this.hostLanguage=m,b(Ke)},Zo(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Au,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Y),V(Z(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Ri().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Dc{load(f){return(0,p.Z)(function*(){return new Su(f)})()}clearedOneInstance(){}}const Sc="recaptcha",jp={theme:"light",type:"image"};class $h{constructor(f,m=Object.assign({},jp),b){this.parameters=m,this.type=Sc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(b),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof f?document.getElementById(f):f;oe(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Dc:new xu,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(Y=>{const Te=Ke=>{!Ke||(f.tokenChangeListeners.delete(Te),Y(Ke))};f.tokenChangeListeners.add(Te),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Ri()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){oe(Nt()&&!qo(),f.auth,"internal-error"),yield function ya(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Ni(y){return Us.apply(this,arguments)}(f.auth);oe(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mu{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=cs._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Ua(){return(Ua=(0,p.Z)(function*(y,f,m){const b=Mt(y),V=yield Bs(b,f,(0,j.m9)(m));return new Mu(V,Y=>Jt(b,Y))})).apply(this,arguments)}function Pd(){return(Pd=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y);yield P(!1,b,"phone");const V=yield Bs(b.auth,f,(0,j.m9)(m));return new Mu(V,Y=>nn(b,Y))})).apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y),V=yield Bs(b.auth,f,(0,j.m9)(m));return new Mu(V,Y=>ei(b,Y))})).apply(this,arguments)}function Bs(y,f,m){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,p.Z)(function*(y,f,m){var b;const V=yield m.verify();try{let Y;if(oe("string"==typeof V,y,"argument-error"),oe(m.type===Sc,y,"argument-error"),Y="string"==typeof f?{phoneNumber:f}:f,"session"in Y){const Te=Y.session;if("phoneNumber"in Y)return oe("enroll"===Te.type,y,"internal-error"),(yield ql(y,{idToken:Te.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{oe("signin"===Te.type,y,"internal-error");const Ke=(null===(b=Y.multiFactorHint)||void 0===b?void 0:b.uid)||Y.multiFactorUid;return oe(Ke,y,"missing-multi-factor-info"),(yield Fn(y,{mfaPendingCredential:Te.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Te}=yield go(y,{phoneNumber:Y.phoneNumber,recaptchaToken:V});return Te}}finally{m._reset()}})).apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(y,f){yield R((0,j.m9)(y),f)})).apply(this,arguments)}let va=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Mt(m)}verifyPhoneNumber(m,b){return Bs(this.auth,m,(0,j.m9)(b))}static credential(m,b){return cs._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:V}=m;return b&&V?cs._fromTokenResponse(b,V):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Hs(y,f){return f?Oe(f):(oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Zl extends wr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ur(f,this._buildIdpRequest())}_linkToIdToken(f,m){return ur(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return ur(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Rd(y){return nt(y.auth,new Zl(y),y.bypassAuthState)}function Wl(y){const{auth:f,user:m}=y;return oe(m,f,"internal-error"),ge(m,new Zl(y),y.bypassAuthState)}function Ru(y){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(y){const{auth:f,user:m}=y;return oe(m,f,"internal-error"),R(m,new Zl(y),y.bypassAuthState)})).apply(this,arguments)}class Kl{constructor(f,m,b,V,Y=!1){this.auth=f,this.resolver=b,this.user=V,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,p.Z)(function*(b,V){f.pendingPromise={resolve:b,reject:V};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(Y){f.reject(Y)}});return function(b,V){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,p.Z)(function*(){const{urlResponse:b,sessionId:V,postBody:Y,tenantId:Te,error:Ke,type:gt}=f;if(Ke)return void m.reject(Ke);const It={auth:m.auth,requestUri:b,sessionId:V,tenantId:Te||void 0,postBody:Y||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(gt)(It))}catch(Rt){m.reject(Rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Rd;case"linkViaPopup":case"linkViaRedirect":return Ru;case"reauthViaPopup":case"reauthViaRedirect":return Wl;default:Le(this.auth,"internal-error")}}resolve(f){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new Ct(2e3,1e4);function So(){return(So=(0,p.Z)(function*(y,f,m){const b=Mt(y);ue(y,f,Ei);const V=Hs(b,m);return new Yl(b,"signInViaPopup",f,V).executeNotNull()})).apply(this,arguments)}function Mc(){return(Mc=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y);ue(b.auth,f,Ei);const V=Hs(b.auth,m);return new Yl(b.auth,"reauthViaPopup",f,V,b).executeNotNull()})).apply(this,arguments)}function Ao(){return(Ao=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y);ue(b.auth,f,Ei);const V=Hs(b.auth,m);return new Yl(b.auth,"linkViaPopup",f,V,b).executeNotNull()})).apply(this,arguments)}let Yl=(()=>{class y extends Kl{constructor(m,b,V,Y,Te){super(m,b,Y,Te),this.provider=V,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const b=yield m.execute();return oe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,p.Z)(function*(){_e(1===m.filter.length,"Popup operations only handle one event");const b=Si();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(V=>{m.reject(V)}),m.resolver._isIframeWebStorageSupported(m.auth,V=>{V||m.reject(Z(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Z(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,V;this.pollId=(null===(V=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Z(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,wa.get())};m()}}return y.currentPopupAction=null,y})();const Ba=new Map;class Ql extends Kl{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,p.Z)(function*(){let b=Ba.get(m.auth._key());if(!b){try{const Y=(yield function Oc(y,f){return Qo.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(Y)}catch(V){b=()=>Promise.reject(V)}Ba.set(m.auth._key(),b)}return m.bypassAuthState||Ba.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const V=yield b.auth._redirectUserForId(f.eventId);if(V)return b.user=V,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Qo(){return(Qo=(0,p.Z)(function*(y,f){const m=le(f),b=W(y);if(!(yield b._isAvailable()))return!1;const V="true"===(yield b._get(m));return yield b._remove(m),V})).apply(this,arguments)}function ki(y,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,p.Z)(function*(y,f){return W(y)._set(le(f),"true")})).apply(this,arguments)}function N(y,f){Ba.set(y._key(),f)}function W(y){return Oe(y._redirectPersistence)}function le(y){return mi("pendingRedirect",y.config.apiKey,y.name)}function dt(){return(dt=(0,p.Z)(function*(y,f,m){const b=Mt(y);ue(y,f,Ei);const V=Hs(b,m);return yield ki(V,b),V._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function rn(){return(rn=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y);ue(b.auth,f,Ei);const V=Hs(b.auth,m);yield ki(V,b.auth);const Y=yield Qs(b);return V._openRedirect(b.auth,f,"reauthViaRedirect",Y)})).apply(this,arguments)}function Ir(){return(Ir=(0,p.Z)(function*(y,f,m){const b=(0,j.m9)(y);ue(b.auth,f,Ei);const V=Hs(b.auth,m);yield P(!1,b,f.providerId),yield ki(V,b.auth);const Y=yield Qs(b);return V._openRedirect(b.auth,f,"linkViaRedirect",Y)})).apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(y,f){return yield Mt(y)._initializationPromise,Ea(y,f,!1)})).apply(this,arguments)}function Ea(y,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(y,f,m=!1){const b=Mt(y),V=Hs(b,f),Te=yield new Ql(b,V,m).execute();return Te&&!m&&(delete Te.user._redirectEventId,yield b._persistUserIfCurrent(Te.user),yield b._setRedirectUser(null,f)),Te})).apply(this,arguments)}function Qs(y){return $s.apply(this,arguments)}function $s(){return($s=(0,p.Z)(function*(y){const f=Si(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Gh{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ld(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jl(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!Jl(f)){const V=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Z(this.auth,V))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fd(f))}saveEventToCache(f){this.cachedEventUids.add(Fd(f)),this.lastProcessedEventTime=Date.now()}}function Fd(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Jl({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function zh(y){return wl.apply(this,arguments)}function wl(){return(wl=(0,p.Z)(function*(y,f={}){return Yt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Ym=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nu=/^https?/;function Vd(){return(Vd=(0,p.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield zh(y);for(const m of f)try{if(qh(m))return}catch(b){}Le(y,"unauthorized-domain")})).apply(this,arguments)}function qh(y){const f=at(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const Te=new URL(y);return""===Te.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Te.hostname===b}if(!Nu.test(m))return!1;if(Ym.test(y))return b===y;const V=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(b)}const Zh=new Ct(3e4,6e4);function ku(){const y=Ri().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Qr=null;function Hp(y){return Qr=Qr||function Qm(y){return new Promise((f,m)=>{var b,V,Y;function Te(){ku(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ku(),m(Z(y,"network-request-failed"))},timeout:Zh.get()})}if(null===(V=null===(b=Ri().gapi)||void 0===b?void 0:b.iframes)||void 0===V?void 0:V.Iframe)f(gapi.iframes.getContext());else{if(!(null===(Y=Ri().gapi)||void 0===Y?void 0:Y.load)){const Ke=ri("iframefcb");return Ri()[Ke]=()=>{gapi.load?Te():m(Z(y,"network-request-failed"))},Zo(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(gt=>m(gt))}Te()}}).catch(f=>{throw Qr=null,f})}(y),Qr}const Pc=new Ct(5e3,15e3),bl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$p=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gp(y){const f=y.config;oe(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Ie(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},V=$p.get(y.config.apiHost);V&&(b.eid=V);const Y=y._getFrameworks();return Y.length&&(b.fw=Y.join(",")),`${m}?${(0,j.xO)(b).slice(1)}`}function El(){return El=(0,p.Z)(function*(y){const f=yield Hp(y),m=Ri().gapi;return oe(m,y,"internal-error"),f.open({where:document.body,url:Gp(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bl,dontclear:!0},b=>new Promise(function(){var V=(0,p.Z)(function*(Y,Te){yield b.restyle({setHideOnLeave:!1});const Ke=Z(y,"network-request-failed"),gt=Ri().setTimeout(()=>{Te(Ke)},Pc.get());function It(){Ri().clearTimeout(gt),Y(b)}b.ping(It).then(It,()=>{Te(Ke)})});return function(Y,Te){return V.apply(this,arguments)}}()))}),El.apply(this,arguments)}const Rc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zp{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Xo(y,f,m,b,V,Y){oe(y.config.authDomain,y,"auth-domain-config-required"),oe(y.config.apiKey,y,"invalid-api-key");const Te={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:V};if(f instanceof Ei){f.setDefaultLanguage(y.languageCode),Te.providerId=f.providerId||"",(0,j.xb)(f.getCustomParameters())||(Te.customParameters=JSON.stringify(f.getCustomParameters()));for(const[gt,It]of Object.entries(Y||{}))Te[gt]=It}if(f instanceof Ii){const gt=f.getScopes().filter(It=>""!==It);gt.length>0&&(Te.scopes=gt.join(","))}y.tenantId&&(Te.tid=y.tenantId);const Ke=Te;for(const gt of Object.keys(Ke))void 0===Ke[gt]&&delete Ke[gt];return`${function Lu({config:y}){return y.emulator?Ie(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,j.xO)(Ke).slice(1)}`}const Qh="webStorageSupport";class Vu extends class Jh{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return He("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Vu(f)}_finalizeEnroll(f,m,b){return function Du(y,f){return Yt(y,"POST","/v2/accounts/mfaEnrollment:finalize",jt(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Ln(y,f){return Yt(y,"POST","/v2/accounts/mfaSignIn:finalize",jt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uu=(()=>{class y{constructor(){}static assertion(m){return Vu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var kc="@firebase/auth";class Xh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var V;f((null===(V=b)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cl(){return window}function Dr(){return(Dr=(0,p.Z)(function*(y,f,m){var b;const{BuildInfo:V}=Cl();_e(f.sessionId,"AuthEvent did not contain a session ID");const Y=yield Jv(f.sessionId),Te={};return Xi()?Te.ibi=V.packageName:Wn()?Te.apn=V.packageName:Le(y,"operation-not-supported-in-this-environment"),V.displayName&&(Te.appDisplayName=V.displayName),Te.sessionId=Y,Xo(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,Te)})).apply(this,arguments)}function eu(){return(eu=(0,p.Z)(function*(y){const{BuildInfo:f}=Cl(),m={};Xi()?m.iosBundleId=f.packageName:Wn()?m.androidPackageName=f.packageName:Le(y,"operation-not-supported-in-this-environment"),yield zh(y,m)})).apply(this,arguments)}function xi(){return(xi=(0,p.Z)(function*(y,f,m){const{cordova:b}=Cl();let V=()=>{};try{yield new Promise((Y,Te)=>{let Ke=null;function gt(){var Wt;Y();const pr=null===(Wt=b.plugins.browsertab)||void 0===Wt?void 0:Wt.close;"function"==typeof pr&&pr(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function It(){Ke||(Ke=window.setTimeout(()=>{Te(Z(y,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===(null==document?void 0:document.visibilityState)&&It()}f.addPassiveListener(gt),document.addEventListener("resume",It,!1),Wn()&&document.addEventListener("visibilitychange",Rt,!1),V=()=>{f.removePassiveListener(gt),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",Rt,!1),Ke&&window.clearTimeout(Ke)}})}finally{V()}})).apply(this,arguments)}function Jv(y){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,p.Z)(function*(y){const f=tu(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tu(y){if(_e(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function ef(y){(0,ae._registerComponent)(new Q.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),V=f.getProvider("heartbeat"),{apiKey:Y,authDomain:Te}=b.options;return((Ke,gt)=>{oe(Y&&!Y.includes(":"),"invalid-api-key",{appName:Ke.name}),oe(!(null==Te?void 0:Te.includes(":")),"argument-error",{appName:Ke.name});const It={apiKey:Y,authDomain:Te,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(y)},Rt=new mt(Ke,gt,It);return function je(y,f){const m=(null==f?void 0:f.persistence)||[],b=(Array.isArray(m)?m:[m]).map(Oe);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Rt,m),Rt})(b,V)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Q.wA("auth-internal",f=>{const m=Mt(f.getProvider("auth").getImmediate());return new Xh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(kc,"0.20.2",function Bu(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(kc,"0.20.2","esm2017")}("Browser");class Xv extends Gh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,p.Z)(function*(){yield f.initPromise})()}}function Yp(y){return rf.apply(this,arguments)}function rf(){return(rf=(0,p.Z)(function*(y){const f=yield ea()._get(iu(y));return f&&(yield ea()._remove(iu(y))),f})).apply(this,arguments)}function Uc(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function ea(){return Oe(Io)}function iu(y){return mi("authEvent",y.config.apiKey,y.name)}function Ha(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...m]=y.split("?");return(0,j.zd)(m.join("?"))}function qd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Z("no-auth-event")}}function ju(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function uf(y=(0,j.z$)()){return!("file:"!==ju()&&"ionic:"!==ju()&&"capacitor:"!==ju()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ru(){try{const y=self.localStorage,f=Si();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Hu(y=(0,j.z$)()){return function Bc(){return(0,j.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Gs(y=(0,j.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,j.hl)()}catch(y){return su()&&(0,j.hl)()}return!1}function su(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ar(){return(function eg(){return"http:"===ju()||"https:"===ju()}()||(0,j.ru)()||uf())&&!function e0(){return(0,j.b$)()||(0,j.UG)()}()&&ru()&&!su()}function ou(){return uf()&&"undefined"!=typeof document}function lu(){return(lu=(0,p.Z)(function*(){return!!ou()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},$u=oe,cf="persistence";function Zd(y){return df.apply(this,arguments)}function df(){return(df=(0,p.Z)(function*(y){yield y._initializationPromise;const f=jc(),m=mi(cf,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function jc(){var y;try{return(null===(y=function t_(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const ng=oe;class ta{constructor(){this.browserResolver=Oe(class $d{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Ea,this._overrideRedirectResult=N}_openPopup(f,m,b,V){var Y=this;return(0,p.Z)(function*(){var Te;_e(null===(Te=Y.eventManagers[f._key()])||void 0===Te?void 0:Te.manager,"_initialize() not called before _openPopup()");const Ke=Xo(f,m,b,at(),V);return function Kh(y,f,m,b=500,V=600){const Y=Math.max((window.screen.availHeight-V)/2,0).toString(),Te=Math.max((window.screen.availWidth-b)/2,0).toString();let Ke="";const gt=Object.assign(Object.assign({},Rc),{width:b.toString(),height:V.toString(),top:Y,left:Te}),It=(0,j.z$)().toLowerCase();m&&(Ke=xe(It)?"_blank":m),$n(It)&&(f=f||"http://localhost",gt.scrollbars="yes");const Rt=Object.entries(gt).reduce((pr,[Xr,Gu])=>`${pr}${Xr}=${Gu},`,"");if(function Rs(y=(0,j.z$)()){var f;return Xi(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(It)&&"_self"!==Ke)return function Hd(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Ke),new zp(null);const Wt=window.open(f||"",Ke,Rt);oe(Wt,y,"popup-blocked");try{Wt.focus()}catch(pr){}return new zp(Wt)}(f,Ke,Si())})()}_openRedirect(f,m,b,V){var Y=this;return(0,p.Z)(function*(){return yield Y._originValidation(f),function Ur(y){Ri().location.href=y}(Xo(f,m,b,at(),V)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:V,promise:Y}=this.eventManagers[m];return V?Promise.resolve(V):(_e(Y,"If manager is not set, promise should be"),Y)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,p.Z)(function*(){const b=yield function Bd(y){return El.apply(this,arguments)}(f),V=new Gh(f);return b.register("authEvent",Y=>(oe(null==Y?void 0:Y.authEvent,f,"invalid-auth-event"),{status:V.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:V},m.iframes[f._key()]=b,V})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Qh,{type:Qh},V=>{var Y;const Te=null===(Y=null==V?void 0:V[0])||void 0===Y?void 0:Y[Qh];void 0!==Te&&m(!!Te),Le(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Jo(y){return Vd.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return En()||Tt()||Xi()}}),this.cordovaResolver=Oe(class e_{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ea,this._overrideRedirectResult=N}_initialize(f){var m=this;return(0,p.Z)(function*(){const b=f._key();let V=m.eventManagers.get(b);return V||(V=new Xv(f),m.eventManagers.set(b,V),m.attachCallbackListeners(f,V)),V})()}_openPopup(f){Le(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,V){var Y=this;return(0,p.Z)(function*(){!function nf(y){var f,m,b,V,Y,Te,Ke,gt,It,Rt;const Wt=Cl();oe("function"==typeof(null===(f=null==Wt?void 0:Wt.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(void 0!==(null===(m=null==Wt?void 0:Wt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(Y=null===(V=null===(b=null==Wt?void 0:Wt.cordova)||void 0===b?void 0:b.plugins)||void 0===V?void 0:V.browsertab)||void 0===Y?void 0:Y.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(gt=null===(Ke=null===(Te=null==Wt?void 0:Wt.cordova)||void 0===Te?void 0:Te.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===gt?void 0:gt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Rt=null===(It=null==Wt?void 0:Wt.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===Rt?void 0:Rt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Te=yield Y._initialize(f);yield Te.initialized(),Te.resetRedirect(),function x(){Ba.clear()}(),yield Y._originValidation(f);const Ke=function Jm(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Uc(),postBody:null,tenantId:y.tenantId,error:Z(y,"no-auth-event")}}(f,b,V);yield function Kp(y,f){return ea()._set(iu(y),f)}(f,Ke);const gt=yield function Tl(y,f,m){return Dr.apply(this,arguments)}(f,Ke,m),It=yield function Lc(y){const{cordova:f}=Cl();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let V=null;b?f.plugins.browsertab.openUrl(y):V=f.InAppBrowser.open(y,function qs(y=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(V)})})}(gt);return function tf(y,f,m){return xi.apply(this,arguments)}(f,Te,It)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Il(y){return eu.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:V,BuildInfo:Y}=Cl(),Te=setTimeout((0,p.Z)(function*(){yield Yp(f),m.onEvent(qd())}),500),Ke=function(){var Rt=(0,p.Z)(function*(Wt){clearTimeout(Te);const pr=yield Yp(f);let Xr=null;pr&&(null==Wt?void 0:Wt.url)&&(Xr=function Xm(y,f){var m,b;const V=function zd(y){const f=Ha(y),m=f.link?decodeURIComponent(f.link):void 0,b=Ha(m).link,V=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ha(V).link||V||b||m||y}(f);if(V.includes("/__/auth/callback")){const Y=Ha(V),Te=Y.firebaseError?function Qp(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(Y.firebaseError)):null,Ke=null===(b=null===(m=null==Te?void 0:Te.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],gt=Ke?Z(Ke):null;return gt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:gt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:V,postBody:null}}return null}(pr,Wt.url)),m.onEvent(Xr||qd())});return function(pr){return Rt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,Ke);const gt=V,It=`${Y.packageName.toLowerCase()}://`;Cl().handleOpenURL=function(){var Rt=(0,p.Z)(function*(Wt){if(Wt.toLowerCase().startsWith(It)&&Ke({url:Wt}),"function"==typeof gt)try{gt(Wt)}catch(pr){console.error(pr)}});return function(Wt){return Rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=Ea,this._overrideRedirectResult=N}_initialize(f){var m=this;return(0,p.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,V){var Y=this;return(0,p.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(f,m,b,V)})()}_openRedirect(f,m,b,V){var Y=this;return(0,p.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(f,m,b,V)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ou()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ng(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,p.Z)(function*(){if(f.underlyingResolver)return;const m=yield function au(){return lu.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Hc(y){return y.unwrap()}function ig(y){return Kd(y)}function Kd(y){const{_tokenResponse:f}=y instanceof j.ZR?y.customData:y;if(!f)return null;if(!(y instanceof j.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return va.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=bo;break;case"facebook.com":b=Is;break;case"github.com":b=Gr;break;case"twitter.com":b=Fs;break;default:const{oauthIdToken:V,oauthAccessToken:Y,oauthTokenSecret:Te,pendingToken:Ke,nonce:gt}=f;return Y||Te||V||Ke?Ke?m.startsWith("saml.")?Nn._create(m,Ke):nr._fromParams({providerId:m,signInMethod:m,pendingToken:Ke,idToken:V,accessToken:Y}):new Cr(m).credential({idToken:V,accessToken:Y,rawNonce:gt}):null}return y instanceof j.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Jr(y,f){return f.catch(m=>{throw m instanceof j.ZR&&function Wd(y,f){var m;const b=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Qd(y,function Hn(y,f){var m;const b=(0,j.m9)(y),V=f;return oe(f.customData.operationType,b,"argument-error"),oe(null===(m=V.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),ma._fromError(b,V)}(y,f));else if(b){const V=Kd(f),Y=f;V&&(Y.credential=V,Y.tenantId=b.tenantId||void 0,Y.email=b.email||void 0,Y.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const V=m.user;return{operationType:m.operationType,credential:ig(m),additionalUserInfo:Vr(m),user:na.getOrCreate(V)}})}function Yd(y,f){return $c.apply(this,arguments)}function $c(){return($c=(0,p.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Jr(y,m.confirm(b))}})).apply(this,arguments)}class Qd{constructor(f,m){this.resolver=m,this.auth=function $a(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Jr(Hc(this.auth),this.resolver.resolveSignIn(f))}}class na{constructor(f){this._delegate=f,this.multiFactor=function Vs(y){const f=(0,j.m9)(y);return zi.has(f)||zi.set(f,Gi._fromUser(f)),zi.get(f)}(f)}static getOrCreate(f){return na.USER_MAP.has(f)||na.USER_MAP.set(f,new na(f)),na.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,p.Z)(function*(){return Jr(m.auth,nn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,p.Z)(function*(){return Yd(b.auth,function Ou(y,f,m){return Pd.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,p.Z)(function*(){return Jr(m.auth,function kd(y,f,m){return Ao.apply(this,arguments)}(m._delegate,f,ta))})()}linkWithRedirect(f){var m=this;return(0,p.Z)(function*(){return yield Zd(Mt(m.auth)),function Vn(y,f,m){return function hn(y,f,m){return Ir.apply(this,arguments)}(y,f,m)}(m._delegate,f,ta)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,p.Z)(function*(){return Jr(m.auth,ei(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Yd(this.auth,function Ac(y,f,m){return Kr.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Jr(this.auth,function xc(y,f,m){return Mc.apply(this,arguments)}(this._delegate,f,ta))}reauthenticateWithRedirect(f){var m=this;return(0,p.Z)(function*(){return yield Zd(Mt(m.auth)),function Pt(y,f,m){return function Lt(y,f,m){return rn.apply(this,arguments)}(y,f,m)}(m._delegate,f,ta)})()}sendEmailVerification(f){return function ps(y,f){return Hl.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,p.Z)(function*(){return yield function Fr(y,f){return Cn.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Pa(y,f){return fa((0,j.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function dl(y,f){return fa((0,j.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Wi(y,f){return js.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ha(y,f){return Gl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function ul(y,f,m){return cl.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}na.USER_MAP=new WeakMap;const uu=oe;let Gc=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=m.options;uu(V,"invalid-api-key",{appName:m.name}),uu(V,"invalid-api-key",{appName:m.name});const Y="undefined"!=typeof window?ta:void 0;this._delegate=b.initialize({options:{persistence:sg(V,m.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?na.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function bi(y,f,m){const b=Mt(y);oe(b._canInitEmulator,b,"emulator-config-failed"),oe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const V=!!(null==m?void 0:m.disableWarnings),Y=$r(f),{host:Te,port:Ke}=function ui(y){const f=$r(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(b);if(V){const Y=V[1];return{host:Y,port:Rr(b.substr(Y.length+1))}}{const[Y,Te]=b.split(":");return{host:Y,port:Rr(Te)}}}(f);b.config.emulator={url:`${Y}//${Te}${null===Ke?"":`:${Ke}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Te,port:Ke,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Rn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function q(y,f){return de.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return st(this._delegate,m)}confirmPasswordReset(m,b){return function O(y,f,m){return A.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var V=this;return(0,p.Z)(function*(){return Jr(V._delegate,function fs(y,f,m){return fr.apply(this,arguments)}(V._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Oa(y,f){return Ks.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Iu(y,f){const m=ks.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,p.Z)(function*(){uu(Ar(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function rr(y,f){return ba.apply(this,arguments)}(m._delegate,ta);return b?Jr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function sf(y,f){Mt(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,V){const{next:Y,error:Te,complete:Ke}=rg(m,b,V);return this._delegate.onAuthStateChanged(Y,Te,Ke)}onIdTokenChanged(m,b,V){const{next:Y,error:Te,complete:Ke}=rg(m,b,V);return this._delegate.onIdTokenChanged(Y,Te,Ke)}sendSignInLinkToEmail(m,b){return function Ls(y,f,m){return Tu.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Di(y,f,m){return k.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,p.Z)(function*(){let V;switch(function n_(y,f){$u(Object.values(Kn).includes(f),y,"invalid-persistence-type"),(0,j.b$)()?$u(f!==Kn.SESSION,y,"unsupported-persistence-type"):(0,j.UG)()?$u(f===Kn.NONE,y,"unsupported-persistence-type"):su()?$u(f===Kn.NONE||f===Kn.LOCAL&&(0,j.hl)(),y,"unsupported-persistence-type"):$u(f===Kn.NONE||ru(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Kn.SESSION:V=Ms;break;case Kn.LOCAL:V=(yield Oe(Ot)._isAvailable())?Ot:Io;break;case Kn.NONE:V=Zt;break;default:return Le("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Jr(this._delegate,function zr(y){return Zs.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Jr(this._delegate,Jt(this._delegate,m))}signInWithCustomToken(m){return Jr(this._delegate,function dr(y,f){return Gt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Jr(this._delegate,function As(y,f,m){return Jt((0,j.m9)(y),Uo.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Jr(this._delegate,function Cc(y,f,m){return Eo.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Yd(this._delegate,function Zi(y,f,m){return Ua.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,p.Z)(function*(){return uu(Ar(),b._delegate,"operation-not-supported-in-this-environment"),Jr(b._delegate,function Nd(y,f,m){return So.apply(this,arguments)}(b._delegate,m,ta))})()}signInWithRedirect(m){var b=this;return(0,p.Z)(function*(){return uu(Ar(),b._delegate,"operation-not-supported-in-this-environment"),yield Zd(b._delegate),function Re(y,f,m){return function Ge(y,f,m){return dt.apply(this,arguments)}(y,f,m)}(b._delegate,m,ta)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function xn(y,f){return Tr.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Kn,y})();function rg(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const V=b;return{next:Te=>V(Te&&na.getOrCreate(Te)),error:f,complete:m}}function sg(y,f){const m=function tg(y,f){const m=jc();if(!m)return[];const b=mi(cf,y,f);switch(m.getItem(b)){case Kn.NONE:return[Zt];case Kn.LOCAL:return[Ot,Ms];case Kn.SESSION:return[Ms];default:return[]}}(y,f);if("undefined"!=typeof self&&!m.includes(Ot)&&m.push(Ot),"undefined"!=typeof window)for(const b of[Io,Ms])m.includes(b)||m.push(b);return m.includes(Zt)||m.push(Zt),m}class cu{constructor(){this.providerId="phone",this._delegate=new va(Hc(u.Z.auth()))}static credential(f,m){return va.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=va.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=va.PROVIDER_ID;const og=oe;class ag{constructor(f,m,b=u.Z.app()){var V;og(null===(V=b.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new $h(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dl(y){y.INTERNAL.registerComponent(new Q.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Gc(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Uo,FacebookAuthProvider:Is,GithubAuthProvider:Gr,GoogleAuthProvider:bo,OAuthProvider:Cr,SAMLAuthProvider:ir,PhoneAuthProvider:cu,PhoneMultiFactorGenerator:Uu,RecaptchaVerifier:ag,TwitterAuthProvider:Fs,Auth:Gc,AuthCredential:wr,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.15")}(u.Z)},3098:(lt,Se)=>{"use strict";var p=function(){function u(j){if(!j)throw new TypeError("Invalid argument; `value` has no value.");this.value=u.EMPTY,j&&u.isGuid(j)&&(this.value=j)}return u.isGuid=function(j){var ae=j.toString();return j&&(j instanceof u||u.validator.test(ae))},u.create=function(){return new u([u.gen(2),u.gen(1),u.gen(1),u.gen(1),u.gen(3)].join("-"))},u.createEmpty=function(){return new u("emptyguid")},u.parse=function(j){return new u(j)},u.raw=function(){return[u.gen(2),u.gen(1),u.gen(1),u.gen(1),u.gen(3)].join("-")},u.gen=function(j){for(var ae="",B=0;B<j;B++)ae+=(65536*(1+Math.random())|0).toString(16).substring(1);return ae},u.prototype.equals=function(j){return u.isGuid(j)&&this.value===j.toString()},u.prototype.isEmpty=function(){return this.value===u.EMPTY},u.prototype.toString=function(){return this.value},u.prototype.toJSON=function(){return{value:this.value}},u.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),u.EMPTY="00000000-0000-0000-0000-000000000000",u}();Se.i=p},1135:(lt,Se,F)=>{"use strict";F.d(Se,{X:()=>u});var p=F(7579);class u extends p.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const B=super._subscribe(ae);return!B.closed&&ae.next(this._value),B}getValue(){const{hasError:ae,thrownError:B,_value:J}=this;if(ae)throw B;return this._throwIfClosed(),J}next(ae){super.next(this._value=ae)}}},8306:(lt,Se,F)=>{"use strict";F.d(Se,{y:()=>ee});var p=F(930),u=F(727),j=F(8822),ae=F(4671);var Q=F(2416),ne=F(576),re=F(2806);let ee=(()=>{class ke{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const me=new ke;return me.source=this,me.operator=Be,me}subscribe(Be,me,ce){const Ye=function $e(ke){return ke&&ke instanceof p.Lv||function fe(ke){return ke&&(0,ne.m)(ke.next)&&(0,ne.m)(ke.error)&&(0,ne.m)(ke.complete)}(ke)&&(0,u.Nn)(ke)}(Be)?Be:new p.Hp(Be,me,ce);return(0,re.x)(()=>{const{operator:et,source:Le}=this;Ye.add(et?et.call(Ye,Le):Le?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Be){try{return this._subscribe(Be)}catch(me){Be.error(me)}}forEach(Be,me){return new(me=X(me))((ce,Ye)=>{const et=new p.Hp({next:Le=>{try{Be(Le)}catch(Z){Ye(Z),et.unsubscribe()}},error:Ye,complete:ce});this.subscribe(et)})}_subscribe(Be){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Be)}[j.L](){return this}pipe(...Be){return function J(ke){return 0===ke.length?ae.y:1===ke.length?ke[0]:function(Be){return ke.reduce((me,ce)=>ce(me),Be)}}(Be)(this)}toPromise(Be){return new(Be=X(Be))((me,ce)=>{let Ye;this.subscribe(et=>Ye=et,et=>ce(et),()=>me(Ye))})}}return ke.create=Fe=>new ke(Fe),ke})();function X(ke){var Fe;return null!==(Fe=null!=ke?ke:Q.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(lt,Se,F)=>{"use strict";F.d(Se,{x:()=>Q});var p=F(8306),u=F(727);const ae=(0,F(3888).d)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=F(8737),J=F(2806);let Q=(()=>{class re extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const fe=new ne(this,this);return fe.operator=X,fe}_throwIfClosed(){if(this.closed)throw new ae}next(X){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(X)}})}error(X){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:fe}=this;for(;fe.length;)fe.shift().error(X)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:fe,isStopped:$e,observers:ke}=this;return fe||$e?u.Lc:(this.currentObservers=null,ke.push(X),new u.w0(()=>{this.currentObservers=null,(0,B.P)(ke,X)}))}_checkFinalizedStatuses(X){const{hasError:fe,thrownError:$e,isStopped:ke}=this;fe?X.error($e):ke&&X.complete()}asObservable(){const X=new p.y;return X.source=this,X}}return re.create=(ee,X)=>new ne(ee,X),re})();class ne extends Q{constructor(ee,X){super(),this.destination=ee,this.source=X}next(ee){var X,fe;null===(fe=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===fe||fe.call(X,ee)}error(ee){var X,fe;null===(fe=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===fe||fe.call(X,ee)}complete(){var ee,X;null===(X=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===X||X.call(ee)}_subscribe(ee){var X,fe;return null!==(fe=null===(X=this.source)||void 0===X?void 0:X.subscribe(ee))&&void 0!==fe?fe:u.Lc}}},930:(lt,Se,F)=>{"use strict";F.d(Se,{Hp:()=>Be,Lv:()=>fe});var p=F(576),u=F(727),j=F(2416),ae=F(7849),B=F(5032);const J=re("C",void 0,void 0);function re(Le,Z,De){return{kind:Le,value:Z,error:De}}var ee=F(3410),X=F(2806);class fe extends u.w0{constructor(Z){super(),this.isStopped=!1,Z?(this.destination=Z,(0,u.Nn)(Z)&&Z.add(this)):this.destination=et}static create(Z,De,ue){return new Be(Z,De,ue)}next(Z){this.isStopped?Ye(function ne(Le){return re("N",Le,void 0)}(Z),this):this._next(Z)}error(Z){this.isStopped?Ye(function Q(Le){return re("E",void 0,Le)}(Z),this):(this.isStopped=!0,this._error(Z))}complete(){this.isStopped?Ye(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Z){this.destination.next(Z)}_error(Z){try{this.destination.error(Z)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ke(Le,Z){return $e.call(Le,Z)}class Fe{constructor(Z){this.partialObserver=Z}next(Z){const{partialObserver:De}=this;if(De.next)try{De.next(Z)}catch(ue){me(ue)}}error(Z){const{partialObserver:De}=this;if(De.error)try{De.error(Z)}catch(ue){me(ue)}else me(Z)}complete(){const{partialObserver:Z}=this;if(Z.complete)try{Z.complete()}catch(De){me(De)}}}class Be extends fe{constructor(Z,De,ue){let Ce;if(super(),(0,p.m)(Z)||!Z)Ce={next:null!=Z?Z:void 0,error:null!=De?De:void 0,complete:null!=ue?ue:void 0};else{let oe;this&&j.v.useDeprecatedNextContext?(oe=Object.create(Z),oe.unsubscribe=()=>this.unsubscribe(),Ce={next:Z.next&&ke(Z.next,oe),error:Z.error&&ke(Z.error,oe),complete:Z.complete&&ke(Z.complete,oe)}):Ce=Z}this.destination=new Fe(Ce)}}function me(Le){j.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(Le):(0,ae.h)(Le)}function Ye(Le,Z){const{onStoppedNotification:De}=j.v;De&&ee.z.setTimeout(()=>De(Le,Z))}const et={closed:!0,next:B.Z,error:function ce(Le){throw Le},complete:B.Z}},727:(lt,Se,F)=>{"use strict";F.d(Se,{Lc:()=>J,w0:()=>B,Nn:()=>Q});var p=F(576);const j=(0,F(3888).d)(re=>function(X){re(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((fe,$e)=>`${$e+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var ae=F(8737);class B{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const ke of X)ke.remove(this);else X.remove(this);const{initialTeardown:fe}=this;if((0,p.m)(fe))try{fe()}catch(ke){ee=ke instanceof j?ke.errors:[ke]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const ke of $e)try{ne(ke)}catch(Fe){ee=null!=ee?ee:[],Fe instanceof j?ee=[...ee,...Fe.errors]:ee.push(Fe)}}if(ee)throw new j(ee)}}add(ee){var X;if(ee&&ee!==this)if(this.closed)ne(ee);else{if(ee instanceof B){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(ee)}}_hasParent(ee){const{_parentage:X}=this;return X===ee||Array.isArray(X)&&X.includes(ee)}_addParent(ee){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(ee),X):X?[X,ee]:ee}_removeParent(ee){const{_parentage:X}=this;X===ee?this._parentage=null:Array.isArray(X)&&(0,ae.P)(X,ee)}remove(ee){const{_finalizers:X}=this;X&&(0,ae.P)(X,ee),ee instanceof B&&ee._removeParent(this)}}B.EMPTY=(()=>{const re=new B;return re.closed=!0,re})();const J=B.EMPTY;function Q(re){return re instanceof B||re&&"closed"in re&&(0,p.m)(re.remove)&&(0,p.m)(re.add)&&(0,p.m)(re.unsubscribe)}function ne(re){(0,p.m)(re)?re():re.unsubscribe()}},2416:(lt,Se,F)=>{"use strict";F.d(Se,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(lt,Se,F)=>{"use strict";F.d(Se,{z:()=>B});var p=F(8189),j=F(3269),ae=F(8996);function B(...J){return function u(){return(0,p.J)(1)}()((0,ae.D)(J,(0,j.yG)(J)))}},515:(lt,Se,F)=>{"use strict";F.d(Se,{E:()=>u});const u=new(F(8306).y)(B=>B.complete())},8996:(lt,Se,F)=>{"use strict";F.d(Se,{D:()=>Z});var p=F(8421),u=F(5363),j=F(9468),J=F(8306),ne=F(2202),re=F(576),ee=F(9672);function fe(De,ue){if(!De)throw new Error("Iterable cannot be null");return new J.y(Ce=>{(0,ee.f)(Ce,ue,()=>{const oe=De[Symbol.asyncIterator]();(0,ee.f)(Ce,ue,()=>{oe.next().then(He=>{He.done?Ce.complete():Ce.next(He.value)})},0,!0)})})}var $e=F(3670),ke=F(8239),Fe=F(1144),Be=F(6495),me=F(2206),ce=F(4532),Ye=F(3260);function Z(De,ue){return ue?function Le(De,ue){if(null!=De){if((0,$e.c)(De))return function ae(De,ue){return(0,p.Xf)(De).pipe((0,j.R)(ue),(0,u.Q)(ue))}(De,ue);if((0,Fe.z)(De))return function Q(De,ue){return new J.y(Ce=>{let oe=0;return ue.schedule(function(){oe===De.length?Ce.complete():(Ce.next(De[oe++]),Ce.closed||this.schedule())})})}(De,ue);if((0,ke.t)(De))return function B(De,ue){return(0,p.Xf)(De).pipe((0,j.R)(ue),(0,u.Q)(ue))}(De,ue);if((0,me.D)(De))return fe(De,ue);if((0,Be.T)(De))return function X(De,ue){return new J.y(Ce=>{let oe;return(0,ee.f)(Ce,ue,()=>{oe=De[ne.h](),(0,ee.f)(Ce,ue,()=>{let He,_e;try{({value:He,done:_e}=oe.next())}catch(Me){return void Ce.error(Me)}_e?Ce.complete():Ce.next(He)},0,!0)}),()=>(0,re.m)(null==oe?void 0:oe.return)&&oe.return()})}(De,ue);if((0,Ye.L)(De))return function et(De,ue){return fe((0,Ye.Q)(De),ue)}(De,ue)}throw(0,ce.z)(De)}(De,ue):(0,p.Xf)(De)}},8421:(lt,Se,F)=>{"use strict";F.d(Se,{Xf:()=>$e});var p=F(655),u=F(1144),j=F(8239),ae=F(8306),B=F(3670),J=F(2206),Q=F(4532),ne=F(6495),re=F(3260),ee=F(576),X=F(7849),fe=F(8822);function $e(Le){if(Le instanceof ae.y)return Le;if(null!=Le){if((0,B.c)(Le))return function ke(Le){return new ae.y(Z=>{const De=Le[fe.L]();if((0,ee.m)(De.subscribe))return De.subscribe(Z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,u.z)(Le))return function Fe(Le){return new ae.y(Z=>{for(let De=0;De<Le.length&&!Z.closed;De++)Z.next(Le[De]);Z.complete()})}(Le);if((0,j.t)(Le))return function Be(Le){return new ae.y(Z=>{Le.then(De=>{Z.closed||(Z.next(De),Z.complete())},De=>Z.error(De)).then(null,X.h)})}(Le);if((0,J.D)(Le))return ce(Le);if((0,ne.T)(Le))return function me(Le){return new ae.y(Z=>{for(const De of Le)if(Z.next(De),Z.closed)return;Z.complete()})}(Le);if((0,re.L)(Le))return function Ye(Le){return ce((0,re.Q)(Le))}(Le)}throw(0,Q.z)(Le)}function ce(Le){return new ae.y(Z=>{(function et(Le,Z){var De,ue,Ce,oe;return(0,p.mG)(this,void 0,void 0,function*(){try{for(De=(0,p.KL)(Le);!(ue=yield De.next()).done;)if(Z.next(ue.value),Z.closed)return}catch(He){Ce={error:He}}finally{try{ue&&!ue.done&&(oe=De.return)&&(yield oe.call(De))}finally{if(Ce)throw Ce.error}}Z.complete()})})(Le,Z).catch(De=>Z.error(De))})}},6451:(lt,Se,F)=>{"use strict";F.d(Se,{T:()=>J});var p=F(8189),u=F(8421),j=F(515),ae=F(3269),B=F(8996);function J(...Q){const ne=(0,ae.yG)(Q),re=(0,ae._6)(Q,1/0),ee=Q;return ee.length?1===ee.length?(0,u.Xf)(ee[0]):(0,p.J)(re)((0,B.D)(ee,ne)):j.E}},9646:(lt,Se,F)=>{"use strict";F.d(Se,{of:()=>j});var p=F(3269),u=F(8996);function j(...ae){const B=(0,p.yG)(ae);return(0,u.D)(ae,B)}},5403:(lt,Se,F)=>{"use strict";F.d(Se,{x:()=>u});var p=F(930);function u(ae,B,J,Q,ne){return new j(ae,B,J,Q,ne)}class j extends p.Lv{constructor(B,J,Q,ne,re,ee){super(B),this.onFinalize=re,this.shouldUnsubscribe=ee,this._next=J?function(X){try{J(X)}catch(fe){B.error(fe)}}:super._next,this._error=ne?function(X){try{ne(X)}catch(fe){B.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(X){B.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},6590:(lt,Se,F)=>{"use strict";F.d(Se,{d:()=>j});var p=F(4482),u=F(5403);function j(ae){return(0,p.e)((B,J)=>{let Q=!1;B.subscribe((0,u.x)(J,ne=>{Q=!0,J.next(ne)},()=>{Q||J.next(ae),J.complete()}))})}},9300:(lt,Se,F)=>{"use strict";F.d(Se,{h:()=>j});var p=F(4482),u=F(5403);function j(ae,B){return(0,p.e)((J,Q)=>{let ne=0;J.subscribe((0,u.x)(Q,re=>ae.call(B,re,ne++)&&Q.next(re)))})}},590:(lt,Se,F)=>{"use strict";F.d(Se,{P:()=>Q});var p=F(6805),u=F(9300),j=F(5698),ae=F(6590),B=F(8068),J=F(4671);function Q(ne,re){const ee=arguments.length>=2;return X=>X.pipe(ne?(0,u.h)((fe,$e)=>ne(fe,$e,X)):J.y,(0,j.q)(1),ee?(0,ae.d)(re):(0,B.T)(()=>new p.K))}},4004:(lt,Se,F)=>{"use strict";F.d(Se,{U:()=>j});var p=F(4482),u=F(5403);function j(ae,B){return(0,p.e)((J,Q)=>{let ne=0;J.subscribe((0,u.x)(Q,re=>{Q.next(ae.call(B,re,ne++))}))})}},8189:(lt,Se,F)=>{"use strict";F.d(Se,{J:()=>j});var p=F(5577),u=F(4671);function j(ae=1/0){return(0,p.z)(u.y,ae)}},5577:(lt,Se,F)=>{"use strict";F.d(Se,{z:()=>ne});var p=F(4004),u=F(8421),j=F(4482),ae=F(9672),B=F(5403),Q=F(576);function ne(re,ee,X=1/0){return(0,Q.m)(ee)?ne((fe,$e)=>(0,p.U)((ke,Fe)=>ee(fe,ke,$e,Fe))((0,u.Xf)(re(fe,$e))),X):("number"==typeof ee&&(X=ee),(0,j.e)((fe,$e)=>function J(re,ee,X,fe,$e,ke,Fe,Be){const me=[];let ce=0,Ye=0,et=!1;const Le=()=>{et&&!me.length&&!ce&&ee.complete()},Z=ue=>ce<fe?De(ue):me.push(ue),De=ue=>{ke&&ee.next(ue),ce++;let Ce=!1;(0,u.Xf)(X(ue,Ye++)).subscribe((0,B.x)(ee,oe=>{null==$e||$e(oe),ke?Z(oe):ee.next(oe)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(ce--;me.length&&ce<fe;){const oe=me.shift();Fe?(0,ae.f)(ee,Fe,()=>De(oe)):De(oe)}Le()}catch(oe){ee.error(oe)}}))};return re.subscribe((0,B.x)(ee,Z,()=>{et=!0,Le()})),()=>{null==Be||Be()}}(fe,$e,re,X)))}},5363:(lt,Se,F)=>{"use strict";F.d(Se,{Q:()=>ae});var p=F(9672),u=F(4482),j=F(5403);function ae(B,J=0){return(0,u.e)((Q,ne)=>{Q.subscribe((0,j.x)(ne,re=>(0,p.f)(ne,B,()=>ne.next(re),J),()=>(0,p.f)(ne,B,()=>ne.complete(),J),re=>(0,p.f)(ne,B,()=>ne.error(re),J)))})}},5026:(lt,Se,F)=>{"use strict";F.d(Se,{R:()=>ae});var p=F(4482),u=F(5403);function j(B,J,Q,ne,re){return(ee,X)=>{let fe=Q,$e=J,ke=0;ee.subscribe((0,u.x)(X,Fe=>{const Be=ke++;$e=fe?B($e,Fe,Be):(fe=!0,Fe),ne&&X.next($e)},re&&(()=>{fe&&X.next($e),X.complete()})))}}function ae(B,J){return(0,p.e)(j(B,J,arguments.length>=2,!0))}},3099:(lt,Se,F)=>{"use strict";F.d(Se,{B:()=>J});var p=F(8996),u=F(5698),j=F(7579),ae=F(930),B=F(4482);function J(ne={}){const{connector:re=(()=>new j.x),resetOnError:ee=!0,resetOnComplete:X=!0,resetOnRefCountZero:fe=!0}=ne;return $e=>{let ke=null,Fe=null,Be=null,me=0,ce=!1,Ye=!1;const et=()=>{null==Fe||Fe.unsubscribe(),Fe=null},Le=()=>{et(),ke=Be=null,ce=Ye=!1},Z=()=>{const De=ke;Le(),null==De||De.unsubscribe()};return(0,B.e)((De,ue)=>{me++,!Ye&&!ce&&et();const Ce=Be=null!=Be?Be:re();ue.add(()=>{me--,0===me&&!Ye&&!ce&&(Fe=Q(Z,fe))}),Ce.subscribe(ue),ke||(ke=new ae.Hp({next:oe=>Ce.next(oe),error:oe=>{Ye=!0,et(),Fe=Q(Le,ee,oe),Ce.error(oe)},complete:()=>{ce=!0,et(),Fe=Q(Le,X),Ce.complete()}}),(0,p.D)(De).subscribe(ke))})($e)}}function Q(ne,re,...ee){return!0===re?(ne(),null):!1===re?null:re(...ee).pipe((0,u.q)(1)).subscribe(()=>ne())}},8675:(lt,Se,F)=>{"use strict";F.d(Se,{O:()=>ae});var p=F(7272),u=F(3269),j=F(4482);function ae(...B){const J=(0,u.yG)(B);return(0,j.e)((Q,ne)=>{(J?(0,p.z)(B,Q,J):(0,p.z)(B,Q)).subscribe(ne)})}},9468:(lt,Se,F)=>{"use strict";F.d(Se,{R:()=>u});var p=F(4482);function u(j,ae=0){return(0,p.e)((B,J)=>{J.add(j.schedule(()=>B.subscribe(J),ae))})}},3900:(lt,Se,F)=>{"use strict";F.d(Se,{w:()=>ae});var p=F(8421),u=F(4482),j=F(5403);function ae(B,J){return(0,u.e)((Q,ne)=>{let re=null,ee=0,X=!1;const fe=()=>X&&!re&&ne.complete();Q.subscribe((0,j.x)(ne,$e=>{null==re||re.unsubscribe();let ke=0;const Fe=ee++;(0,p.Xf)(B($e,Fe)).subscribe(re=(0,j.x)(ne,Be=>ne.next(J?J($e,Be,Fe,ke++):Be),()=>{re=null,fe()}))},()=>{X=!0,fe()}))})}},5698:(lt,Se,F)=>{"use strict";F.d(Se,{q:()=>ae});var p=F(515),u=F(4482),j=F(5403);function ae(B){return B<=0?()=>p.E:(0,u.e)((J,Q)=>{let ne=0;J.subscribe((0,j.x)(Q,re=>{++ne<=B&&(Q.next(re),B<=ne&&Q.complete())}))})}},8505:(lt,Se,F)=>{"use strict";F.d(Se,{b:()=>B});var p=F(576),u=F(4482),j=F(5403),ae=F(4671);function B(J,Q,ne){const re=(0,p.m)(J)||Q||ne?{next:J,error:Q,complete:ne}:J;return re?(0,u.e)((ee,X)=>{var fe;null===(fe=re.subscribe)||void 0===fe||fe.call(re);let $e=!0;ee.subscribe((0,j.x)(X,ke=>{var Fe;null===(Fe=re.next)||void 0===Fe||Fe.call(re,ke),X.next(ke)},()=>{var ke;$e=!1,null===(ke=re.complete)||void 0===ke||ke.call(re),X.complete()},ke=>{var Fe;$e=!1,null===(Fe=re.error)||void 0===Fe||Fe.call(re,ke),X.error(ke)},()=>{var ke,Fe;$e&&(null===(ke=re.unsubscribe)||void 0===ke||ke.call(re)),null===(Fe=re.finalize)||void 0===Fe||Fe.call(re)}))}):ae.y}},8068:(lt,Se,F)=>{"use strict";F.d(Se,{T:()=>ae});var p=F(6805),u=F(4482),j=F(5403);function ae(J=B){return(0,u.e)((Q,ne)=>{let re=!1;Q.subscribe((0,j.x)(ne,ee=>{re=!0,ne.next(ee)},()=>re?ne.complete():ne.error(J())))})}function B(){return new p.K}},4408:(lt,Se,F)=>{"use strict";F.d(Se,{o:()=>B});var p=F(727);class u extends p.w0{constructor(Q,ne){super()}schedule(Q,ne=0){return this}}const j={setInterval(J,Q,...ne){const{delegate:re}=j;return(null==re?void 0:re.setInterval)?re.setInterval(J,Q,...ne):setInterval(J,Q,...ne)},clearInterval(J){const{delegate:Q}=j;return((null==Q?void 0:Q.clearInterval)||clearInterval)(J)},delegate:void 0};var ae=F(8737);class B extends u{constructor(Q,ne){super(Q,ne),this.scheduler=Q,this.work=ne,this.pending=!1}schedule(Q,ne=0){if(this.closed)return this;this.state=Q;const re=this.id,ee=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ee,re,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(ee,this.id,ne),this}requestAsyncId(Q,ne,re=0){return j.setInterval(Q.flush.bind(Q,this),re)}recycleAsyncId(Q,ne,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return ne;j.clearInterval(ne)}execute(Q,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(Q,ne);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,ne){let ee,re=!1;try{this.work(Q)}catch(X){re=!0,ee=X||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Q,scheduler:ne}=this,{actions:re}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(re,this),null!=Q&&(this.id=this.recycleAsyncId(ne,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Se,F)=>{"use strict";F.d(Se,{v:()=>j});var p=F(6063);class u{constructor(B,J=u.now){this.schedulerActionCtor=B,this.now=J}schedule(B,J=0,Q){return new this.schedulerActionCtor(this,B).schedule(Q,J)}}u.now=p.l.now;class j extends u{constructor(B,J=u.now){super(B,J),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:J}=this;if(this._active)return void J.push(B);let Q;this._active=!0;do{if(Q=B.execute(B.state,B.delay))break}while(B=J.shift());if(this._active=!1,Q){for(;B=J.shift();)B.unsubscribe();throw Q}}}},4986:(lt,Se,F)=>{"use strict";F.d(Se,{P:()=>ae,z:()=>j});var p=F(4408);const j=new(F(7565).v)(p.o),ae=j},6063:(lt,Se,F)=>{"use strict";F.d(Se,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(lt,Se,F)=>{"use strict";F.d(Se,{z:()=>p});const p={setTimeout(u,j,...ae){const{delegate:B}=p;return(null==B?void 0:B.setTimeout)?B.setTimeout(u,j,...ae):setTimeout(u,j,...ae)},clearTimeout(u){const{delegate:j}=p;return((null==j?void 0:j.clearTimeout)||clearTimeout)(u)},delegate:void 0}},2202:(lt,Se,F)=>{"use strict";F.d(Se,{h:()=>u});const u=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Se,F)=>{"use strict";F.d(Se,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(lt,Se,F)=>{"use strict";F.d(Se,{K:()=>u});const u=(0,F(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(lt,Se,F)=>{"use strict";F.d(Se,{_6:()=>J,jO:()=>ae,yG:()=>B});var p=F(576),u=F(3532);function j(Q){return Q[Q.length-1]}function ae(Q){return(0,p.m)(j(Q))?Q.pop():void 0}function B(Q){return(0,u.K)(j(Q))?Q.pop():void 0}function J(Q,ne){return"number"==typeof j(Q)?Q.pop():ne}},4742:(lt,Se,F)=>{"use strict";F.d(Se,{D:()=>B});const{isArray:p}=Array,{getPrototypeOf:u,prototype:j,keys:ae}=Object;function B(Q){if(1===Q.length){const ne=Q[0];if(p(ne))return{args:ne,keys:null};if(function J(Q){return Q&&"object"==typeof Q&&u(Q)===j}(ne)){const re=ae(ne);return{args:re.map(ee=>ne[ee]),keys:re}}}return{args:Q,keys:null}}},8737:(lt,Se,F)=>{"use strict";function p(u,j){if(u){const ae=u.indexOf(j);0<=ae&&u.splice(ae,1)}}F.d(Se,{P:()=>p})},3888:(lt,Se,F)=>{"use strict";function p(u){const ae=u(B=>{Error.call(B),B.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Se,{d:()=>p})},1810:(lt,Se,F)=>{"use strict";function p(u,j){return u.reduce((ae,B,J)=>(ae[B]=j[J],ae),{})}F.d(Se,{n:()=>p})},2806:(lt,Se,F)=>{"use strict";F.d(Se,{O:()=>ae,x:()=>j});var p=F(2416);let u=null;function j(B){if(p.v.useDeprecatedSynchronousErrorHandling){const J=!u;if(J&&(u={errorThrown:!1,error:null}),B(),J){const{errorThrown:Q,error:ne}=u;if(u=null,Q)throw ne}}else B()}function ae(B){p.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=B)}},9672:(lt,Se,F)=>{"use strict";function p(u,j,ae,B=0,J=!1){const Q=j.schedule(function(){ae(),J?u.add(this.schedule(null,B)):this.unsubscribe()},B);if(u.add(Q),!J)return Q}F.d(Se,{f:()=>p})},4671:(lt,Se,F)=>{"use strict";function p(u){return u}F.d(Se,{y:()=>p})},1144:(lt,Se,F)=>{"use strict";F.d(Se,{z:()=>p});const p=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(lt,Se,F)=>{"use strict";F.d(Se,{D:()=>u});var p=F(576);function u(j){return Symbol.asyncIterator&&(0,p.m)(null==j?void 0:j[Symbol.asyncIterator])}},576:(lt,Se,F)=>{"use strict";function p(u){return"function"==typeof u}F.d(Se,{m:()=>p})},3670:(lt,Se,F)=>{"use strict";F.d(Se,{c:()=>j});var p=F(8822),u=F(576);function j(ae){return(0,u.m)(ae[p.L])}},6495:(lt,Se,F)=>{"use strict";F.d(Se,{T:()=>j});var p=F(2202),u=F(576);function j(ae){return(0,u.m)(null==ae?void 0:ae[p.h])}},8239:(lt,Se,F)=>{"use strict";F.d(Se,{t:()=>u});var p=F(576);function u(j){return(0,p.m)(null==j?void 0:j.then)}},3260:(lt,Se,F)=>{"use strict";F.d(Se,{L:()=>ae,Q:()=>j});var p=F(655),u=F(576);function j(B){return(0,p.FC)(this,arguments,function*(){const Q=B.getReader();try{for(;;){const{value:ne,done:re}=yield(0,p.qq)(Q.read());if(re)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ne)}}finally{Q.releaseLock()}})}function ae(B){return(0,u.m)(null==B?void 0:B.getReader)}},3532:(lt,Se,F)=>{"use strict";F.d(Se,{K:()=>u});var p=F(576);function u(j){return j&&(0,p.m)(j.schedule)}},4482:(lt,Se,F)=>{"use strict";F.d(Se,{A:()=>u,e:()=>j});var p=F(576);function u(ae){return(0,p.m)(null==ae?void 0:ae.lift)}function j(ae){return B=>{if(u(B))return B.lift(function(J){try{return ae(J,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(lt,Se,F)=>{"use strict";F.d(Se,{Z:()=>ae});var p=F(4004);const{isArray:u}=Array;function ae(B){return(0,p.U)(J=>function j(B,J){return u(J)?B(...J):B(J)}(B,J))}},5032:(lt,Se,F)=>{"use strict";function p(){}F.d(Se,{Z:()=>p})},7849:(lt,Se,F)=>{"use strict";F.d(Se,{h:()=>j});var p=F(2416),u=F(3410);function j(ae){u.z.setTimeout(()=>{const{onUnhandledError:B}=p.v;if(!B)throw ae;B(ae)})}},4532:(lt,Se,F)=>{"use strict";function p(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>p})},655:(lt,Se,F)=>{"use strict";function ae(_e,Me){var Oe={};for(var ze in _e)Object.prototype.hasOwnProperty.call(_e,ze)&&Me.indexOf(ze)<0&&(Oe[ze]=_e[ze]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(ze=Object.getOwnPropertySymbols(_e);je<ze.length;je++)Me.indexOf(ze[je])<0&&Object.prototype.propertyIsEnumerable.call(_e,ze[je])&&(Oe[ze[je]]=_e[ze[je]])}return Oe}function ne(_e,Me,Oe,ze){return new(Oe||(Oe=Promise))(function(at,Nt){function wn(Ct){try{Ve(ze.next(Ct))}catch(Ie){Nt(Ie)}}function un(Ct){try{Ve(ze.throw(Ct))}catch(Ie){Nt(Ie)}}function Ve(Ct){Ct.done?at(Ct.value):function je(at){return at instanceof Oe?at:new Oe(function(Nt){Nt(at)})}(Ct.value).then(wn,un)}Ve((ze=ze.apply(_e,Me||[])).next())})}function me(_e){return this instanceof me?(this.v=_e,this):new me(_e)}function ce(_e,Me,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,ze=Oe.apply(_e,Me||[]),at=[];return je={},Nt("next"),Nt("throw"),Nt("return"),je[Symbol.asyncIterator]=function(){return this},je;function Nt(ct){ze[ct]&&(je[ct]=function(ft){return new Promise(function(Xt,jt){at.push([ct,ft,Xt,jt])>1||wn(ct,ft)})})}function wn(ct,ft){try{!function un(ct){ct.value instanceof me?Promise.resolve(ct.value.v).then(Ve,Ct):Ie(at[0][2],ct)}(ze[ct](ft))}catch(Xt){Ie(at[0][3],Xt)}}function Ve(ct){wn("next",ct)}function Ct(ct){wn("throw",ct)}function Ie(ct,ft){ct(ft),at.shift(),at.length&&wn(at[0][0],at[0][1])}}function et(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Me=_e[Symbol.asyncIterator];return Me?Me.call(_e):(_e=function fe(_e){var Me="function"==typeof Symbol&&Symbol.iterator,Oe=Me&&_e[Me],ze=0;if(Oe)return Oe.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&ze>=_e.length&&(_e=void 0),{value:_e&&_e[ze++],done:!_e}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Oe={},ze("next"),ze("throw"),ze("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function ze(at){Oe[at]=_e[at]&&function(Nt){return new Promise(function(wn,un){!function je(at,Nt,wn,un){Promise.resolve(un).then(function(Ve){at({value:Ve,done:wn})},Nt)}(wn,un,(Nt=_e[at](Nt)).done,Nt.value)})}}}F.d(Se,{FC:()=>ce,KL:()=>et,_T:()=>ae,mG:()=>ne,qq:()=>me})},1777:(lt,Se,F)=>{"use strict";F.d(Se,{IO:()=>Fe,LC:()=>u,X$:()=>ae,ZE:()=>Ye,ZN:()=>ce,_7:()=>ke,_j:()=>p,eR:()=>X,jt:()=>B,k1:()=>et,l3:()=>j,oB:()=>ne,oQ:()=>fe,pV:()=>$e,ru:()=>J,vP:()=>Q});class p{}class u{}const j="*";function ae(Le,Z){return{type:7,name:Le,definitions:Z,options:{}}}function B(Le,Z=null){return{type:4,styles:Z,timings:Le}}function J(Le,Z=null){return{type:3,steps:Le,options:Z}}function Q(Le,Z=null){return{type:2,steps:Le,options:Z}}function ne(Le){return{type:6,styles:Le,offset:null}}function X(Le,Z,De=null){return{type:1,expr:Le,animation:Z,options:De}}function fe(Le,Z=null){return{type:8,animation:Le,options:Z}}function $e(Le=null){return{type:9,options:Le}}function ke(Le,Z=null){return{type:10,animation:Le,options:Z}}function Fe(Le,Z,De=null){return{type:11,selector:Le,animation:Z,options:De}}function me(Le){Promise.resolve(null).then(Le)}class ce{constructor(Z=0,De=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Z+De}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}onStart(Z){this._onStartFns.push(Z)}onDone(Z){this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){me(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Z=>Z()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Z){this._position=this.totalTime?Z*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Z){const De="start"==Z?this._onStartFns:this._onDoneFns;De.forEach(ue=>ue()),De.length=0}}class Ye{constructor(Z){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Z;let De=0,ue=0,Ce=0;const oe=this.players.length;0==oe?me(()=>this._onFinish()):this.players.forEach(He=>{He.onDone(()=>{++De==oe&&this._onFinish()}),He.onDestroy(()=>{++ue==oe&&this._onDestroy()}),He.onStart(()=>{++Ce==oe&&this._onStart()})}),this.totalTime=this.players.reduce((He,_e)=>Math.max(He,_e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}init(){this.players.forEach(Z=>Z.init())}onStart(Z){this._onStartFns.push(Z)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Z=>Z()),this._onStartFns=[])}onDone(Z){this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Z=>Z.play())}pause(){this.players.forEach(Z=>Z.pause())}restart(){this.players.forEach(Z=>Z.restart())}finish(){this._onFinish(),this.players.forEach(Z=>Z.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Z=>Z.destroy()),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}reset(){this.players.forEach(Z=>Z.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Z){const De=Z*this.totalTime;this.players.forEach(ue=>{const Ce=ue.totalTime?Math.min(1,De/ue.totalTime):1;ue.setPosition(Ce)})}getPosition(){const Z=this.players.reduce((De,ue)=>null===De||ue.totalTime>De.totalTime?ue:De,null);return null!=Z?Z.getPosition():0}beforeDestroy(){this.players.forEach(Z=>{Z.beforeDestroy&&Z.beforeDestroy()})}triggerCallback(Z){const De="start"==Z?this._onStartFns:this._onDoneFns;De.forEach(ue=>ue()),De.length=0}}const et="!"},9808:(lt,Se,F)=>{"use strict";F.d(Se,{Do:()=>Le,EM:()=>Zs,HT:()=>B,JF:()=>Cn,K0:()=>Q,Mx:()=>Ts,NF:()=>Hi,O5:()=>_i,PC:()=>tr,PM:()=>Ds,S$:()=>me,V_:()=>ee,Ye:()=>Z,b0:()=>et,bD:()=>Nn,ez:()=>ca,lw:()=>ne,mk:()=>ji,mr:()=>Ye,q:()=>j,sg:()=>Xn,tP:()=>so,w_:()=>J});var p=F(5e3);let u=null;function j(){return u}function B(R){u||(u=R)}class J{}const Q=new p.OlP("DocumentToken");let ne=(()=>{class R{historyGo(P){throw new Error("Not implemented")}}return R.\u0275fac=function(P){return new(P||R)},R.\u0275prov=p.Yz7({token:R,factory:function(){return function re(){return(0,p.LFG)(X)}()},providedIn:"platform"}),R})();const ee=new p.OlP("Location Initialized");let X=(()=>{class R extends ne{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(P){const K=j().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",P,!1),()=>K.removeEventListener("popstate",P)}onHashChange(P){const K=j().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",P,!1),()=>K.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,K,ge){fe()?this._history.pushState(P,K,ge):this.location.hash=ge}replaceState(P,K,ge){fe()?this._history.replaceState(P,K,ge):this.location.hash=ge}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return R.\u0275fac=function(P){return new(P||R)(p.LFG(Q))},R.\u0275prov=p.Yz7({token:R,factory:function(){return function $e(){return new X((0,p.LFG)(Q))}()},providedIn:"platform"}),R})();function fe(){return!!window.history.pushState}function ke(R,G){if(0==R.length)return G;if(0==G.length)return R;let P=0;return R.endsWith("/")&&P++,G.startsWith("/")&&P++,2==P?R+G.substring(1):1==P?R+G:R+"/"+G}function Fe(R){const G=R.match(/#|\?|$/),P=G&&G.index||R.length;return R.slice(0,P-("/"===R[P-1]?1:0))+R.slice(P)}function Be(R){return R&&"?"!==R[0]?"?"+R:R}let me=(()=>{class R{historyGo(P){throw new Error("Not implemented")}}return R.\u0275fac=function(P){return new(P||R)},R.\u0275prov=p.Yz7({token:R,factory:function(){return function ce(R){const G=(0,p.LFG)(Q).location;return new et((0,p.LFG)(ne),G&&G.origin||"")}()},providedIn:"root"}),R})();const Ye=new p.OlP("appBaseHref");let et=(()=>{class R extends me{constructor(P,K){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ke(this._baseHref,P)}path(P=!1){const K=this._platformLocation.pathname+Be(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&P?`${K}${ge}`:K}pushState(P,K,ge,qe){const nt=this.prepareExternalUrl(ge+Be(qe));this._platformLocation.pushState(P,K,nt)}replaceState(P,K,ge,qe){const nt=this.prepareExternalUrl(ge+Be(qe));this._platformLocation.replaceState(P,K,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var K,ge;null===(ge=(K=this._platformLocation).historyGo)||void 0===ge||ge.call(K,P)}}return R.\u0275fac=function(P){return new(P||R)(p.LFG(ne),p.LFG(Ye,8))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac}),R})(),Le=(()=>{class R extends me{constructor(P,K){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(P){const K=ke(this._baseHref,P);return K.length>0?"#"+K:K}pushState(P,K,ge,qe){let nt=this.prepareExternalUrl(ge+Be(qe));0==nt.length&&(nt=this._platformLocation.pathname),this._platformLocation.pushState(P,K,nt)}replaceState(P,K,ge,qe){let nt=this.prepareExternalUrl(ge+Be(qe));0==nt.length&&(nt=this._platformLocation.pathname),this._platformLocation.replaceState(P,K,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var K,ge;null===(ge=(K=this._platformLocation).historyGo)||void 0===ge||ge.call(K,P)}}return R.\u0275fac=function(P){return new(P||R)(p.LFG(ne),p.LFG(Ye,8))},R.\u0275prov=p.Yz7({token:R,factory:R.\u0275fac}),R})(),Z=(()=>{class R{constructor(P,K){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const ge=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=Fe(Ce(ge)),this._platformStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,K=""){return this.path()==this.normalize(P+Be(K))}normalize(P){return R.stripTrailingSlash(function ue(R,G){return R&&G.startsWith(R)?G.substring(R.length):G}(this._baseHref,Ce(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,K="",ge=null){this._platformStrategy.pushState(ge,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Be(K)),ge)}replaceState(P,K="",ge=null){this._platformStrategy.replaceState(ge,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Be(K)),ge)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var K,ge;null===(ge=(K=this._platformStrategy).historyGo)||void 0===ge||ge.call(K,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(P="",K){this._urlChangeListeners.forEach(ge=>ge(P,K))}subscribe(P,K,ge){return this._subject.subscribe({next:P,error:K,complete:ge})}}return R.normalizeQueryParams=Be,R.joinWithSlash=ke,R.stripTrailingSlash=Fe,R.\u0275fac=function(P){return new(P||R)(p.LFG(me),p.LFG(ne))},R.\u0275prov=p.Yz7({token:R,factory:function(){return function De(){return new Z((0,p.LFG)(me),(0,p.LFG)(ne))}()},providedIn:"root"}),R})();function Ce(R){return R.replace(/\/index.html$/,"")}function Ts(R,G){G=encodeURIComponent(G);for(const P of R.split(";")){const K=P.indexOf("="),[ge,qe]=-1==K?[P,""]:[P.slice(0,K),P.slice(K+1)];if(ge.trim()===G)return decodeURIComponent(qe)}return null}let ji=(()=>{class R{constructor(P,K,ge,qe){this._iterableDiffers=P,this._keyValueDiffers=K,this._ngEl=ge,this._renderer=qe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),P.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),P.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),P.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(K=>this._toggleClass(K,!0)):Object.keys(P).forEach(K=>this._toggleClass(K,!!P[K])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(K=>this._toggleClass(K,!1)):Object.keys(P).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(P,K){(P=P.trim())&&P.split(/\s+/g).forEach(ge=>{K?this._renderer.addClass(this._ngEl.nativeElement,ge):this._renderer.removeClass(this._ngEl.nativeElement,ge)})}}return R.\u0275fac=function(P){return new(P||R)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class br{constructor(G,P,K,ge){this.$implicit=G,this.ngForOf=P,this.index=K,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class R{constructor(P,K,ge){this._viewContainer=P,this._template=K,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const K=this._viewContainer;P.forEachOperation((ge,qe,nt)=>{if(null==ge.previousIndex)K.createEmbeddedView(this._template,new br(ge.item,this._ngForOf,-1,-1),null===nt?void 0:nt);else if(null==nt)K.remove(null===qe?void 0:qe);else if(null!==qe){const xt=K.get(qe);K.move(xt,nt),hi(xt,ge)}});for(let ge=0,qe=K.length;ge<qe;ge++){const xt=K.get(ge).context;xt.index=ge,xt.count=qe,xt.ngForOf=this._ngForOf}P.forEachIdentityChange(ge=>{hi(K.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(P,K){return!0}}return R.\u0275fac=function(P){return new(P||R)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function hi(R,G){R.context.$implicit=G.item}let _i=(()=>{class R{constructor(P,K){this._viewContainer=P,this._context=new Un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){po("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){po("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,K){return!0}}return R.\u0275fac=function(P){return new(P||R)(p.Y36(p.s_b),p.Y36(p.Rgc))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class Un{constructor(){this.$implicit=null,this.ngIf=null}}function po(R,G){if(G&&!G.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,p.AaK)(G)}'.`)}let tr=(()=>{class R{constructor(P,K,ge){this._ngEl=P,this._differs=K,this._renderer=ge,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,K){const[ge,qe]=P.split(".");null!=(K=null!=K&&qe?`${K}${qe}`:K)?this._renderer.setStyle(this._ngEl.nativeElement,ge,K):this._renderer.removeStyle(this._ngEl.nativeElement,ge)}_applyChanges(P){P.forEachRemovedItem(K=>this._setStyle(K.key,null)),P.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),P.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return R.\u0275fac=function(P){return new(P||R)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),R})(),so=(()=>{class R{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(P){if(P.ngTemplateOutlet){const K=this._viewContainerRef;this._viewRef&&K.remove(K.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?K.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(P){return new(P||R)(p.Y36(p.s_b))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),R})(),ca=(()=>{class R{}return R.\u0275fac=function(P){return new(P||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})();const Nn="browser";function Hi(R){return R===Nn}function Ds(R){return"server"===R}let Zs=(()=>{class R{}return R.\u0275prov=(0,p.Yz7)({token:R,providedIn:"root",factory:()=>new Ss((0,p.LFG)(Q),window)}),R})();class Ss{constructor(G,P){this.document=G,this.window=P,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const P=function kr(R,G){const P=R.getElementById(G)||R.getElementsByName(G)[0];if(P)return P;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const K=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ge=K.currentNode;for(;ge;){const qe=ge.shadowRoot;if(qe){const nt=qe.getElementById(G)||qe.querySelector(`[name="${G}"]`);if(nt)return nt}ge=K.nextNode()}}return null}(this.document,G);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=G)}}scrollToElement(G){const P=G.getBoundingClientRect(),K=P.left+this.window.pageXOffset,ge=P.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo(K-qe[0],ge-qe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=qr(this.window.history)||qr(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function qr(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class Cn{}},5e3:(lt,Se,F)=>{"use strict";F.d(Se,{$8M:()=>Zo,$Z:()=>lw,AFp:()=>ST,ALo:()=>uv,AaK:()=>ne,Akn:()=>Ia,AsE:()=>Zg,BQk:()=>cc,CHM:()=>an,CRH:()=>Ib,CZH:()=>yv,CqO:()=>ny,DdM:()=>ov,EJc:()=>aD,EpF:()=>Ng,F$t:()=>fw,F4k:()=>kg,FYo:()=>nb,FiY:()=>Qs,G48:()=>UT,Gf:()=>Cb,GfV:()=>tv,GkF:()=>yh,Gpc:()=>X,Hsn:()=>hd,JOm:()=>Y,LFG:()=>Lt,LSH:()=>qd,Lbi:()=>xT,MAs:()=>fh,NdJ:()=>iy,OlP:()=>qi,Oqu:()=>np,PXZ:()=>LT,Q6J:()=>Rg,QGY:()=>ty,Qsj:()=>sr,R0b:()=>nl,RDi:()=>qr,Rgc:()=>yp,SBq:()=>lp,Sil:()=>MT,Suo:()=>Tb,TTD:()=>Cr,TgZ:()=>Zf,Tol:()=>vw,Udp:()=>Hg,VKq:()=>mm,VLi:()=>Ev,W1O:()=>Ab,WLB:()=>ub,X6Q:()=>Yb,XFs:()=>$t,Xpm:()=>Ut,Y36:()=>zf,YKP:()=>dp,YNc:()=>U_,Yjl:()=>xe,Yz7:()=>ft,ZZ4:()=>lE,_Bn:()=>Sh,_UZ:()=>X_,_Vd:()=>vd,_c5:()=>Lv,_uU:()=>qg,aQg:()=>uE,c2e:()=>sD,cJS:()=>jt,cg1:()=>Sy,dDg:()=>Ap,deG:()=>Bp,dqk:()=>Dn,eFA:()=>Cv,ekj:()=>fy,f3M:()=>Vn,g9A:()=>AT,h0i:()=>Sa,hGG:()=>$m,hij:()=>Qa,iGM:()=>Eb,ifc:()=>_t,ip1:()=>Sp,kEZ:()=>cb,kL8:()=>em,l5B:()=>db,lG2:()=>Tt,lcZ:()=>pb,n5z:()=>Us,oAB:()=>Ui,oxw:()=>dw,q4F:()=>ib,qLn:()=>Wd,qOj:()=>N_,qZA:()=>Wf,qbA:()=>_m,rFY:()=>lv,s9C:()=>dc,sBO:()=>Sv,sIi:()=>Ze,s_b:()=>Em,soG:()=>Ub,tBr:()=>lo,tb:()=>Vb,tp0:()=>ja,uIk:()=>xg,vHH:()=>Fe,vpe:()=>Xa,wAp:()=>sn,xp6:()=>wt,ynx:()=>_h,z2F:()=>Fm,zSh:()=>Ig,zs3:()=>Ta});var p=F(7579),u=F(727),j=F(8306),ae=F(6451),B=F(3099);function J(r){for(let s in r)if(r[s]===J)return s;throw Error("Could not find renamed property on target object.")}function Q(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ne(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ne).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function re(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const ee=J({__forward_ref__:J});function X(r){return r.__forward_ref__=X,r.toString=function(){return ne(this())},r}function fe(r){return $e(r)?r():r}function $e(r){return"function"==typeof r&&r.hasOwnProperty(ee)&&r.__forward_ref__===X}class Fe extends Error{constructor(s,a){super(function Be(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function me(r){return"string"==typeof r?r:null==r?"":String(r)}function ce(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():me(r)}function Z(r,s){const a=s?` in ${s}`:"";throw new Fe(-201,`No provider for ${ce(r)} found${a}`)}function un(r,s){null==r&&function Ve(r,s,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,r,null,"!=")}function ft(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function jt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Yt(r){return An(r,Li)||An(r,Ci)}function An(r,s){return r.hasOwnProperty(s)?r[s]:null}function oi(r){return r&&(r.hasOwnProperty(or)||r.hasOwnProperty(Or))?r[or]:null}const Li=J({\u0275prov:J}),or=J({\u0275inj:J}),Ci=J({ngInjectableDef:J}),Or=J({ngInjectorDef:J});var $t=(()=>(($t=$t||{})[$t.Default=0]="Default",$t[$t.Host=1]="Host",$t[$t.Self=2]="Self",$t[$t.SkipSelf=4]="SkipSelf",$t[$t.Optional=8]="Optional",$t))();let yr;function bn(r){const s=yr;return yr=r,s}function ss(r,s,a){const c=Yt(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&$t.Optional?null:void 0!==s?s:void Z(ne(r),"Injector")}function Vi(r){return{toString:r}.toString()}var vi=(()=>((vi=vi||{})[vi.OnPush=0]="OnPush",vi[vi.Default=1]="Default",vi))(),_t=(()=>{return(r=_t||(_t={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",_t;var r})();const kt="undefined"!=typeof globalThis&&globalThis,Ft="undefined"!=typeof window&&window,Ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dn=kt||"undefined"!=typeof global&&global||Ft||Ti,ai={},he=[],be=J({\u0275cmp:J}),Ee=J({\u0275dir:J}),tt=J({\u0275pipe:J}),pe=J({\u0275mod:J}),Ae=J({\u0275fac:J}),it=J({__NG_ELEMENT_ID__:J});let vt=0;function Ut(r){return Vi(()=>{const a={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===vi.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||he,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||_t.Emulated,id:"c",styles:r.styles||he,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,g=r.features,v=r.pipes;return c.id+=vt++,c.inputs=$n(r.inputs,a),c.outputs=$n(r.outputs),g&&g.forEach(T=>T(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(ii):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Zt):null,c})}function ii(r){return li(r)||function Wn(r){return r[Ee]||null}(r)}function Zt(r){return function Dt(r){return r[tt]||null}(r)}const mi={};function Ui(r){return Vi(()=>{const s={type:r.type,bootstrap:r.bootstrap||he,declarations:r.declarations||he,imports:r.imports||he,exports:r.exports||he,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(mi[r.id]=r.type),s})}function $n(r,s){if(null==r)return ai;const a={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=c,s&&(s[d]=g)}return a}const Tt=Ut;function xe(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function li(r){return r[be]||null}function Qn(r,s){const a=r[pe]||null;if(!a&&!0===s)throw new Error(`Type ${ne(r)} does not have '\u0275mod' property.`);return a}function Oi(r){return Array.isArray(r)&&"object"==typeof r[1]}function Nr(r){return Array.isArray(r)&&!0===r[1]}function as(r){return 0!=(8&r.flags)}function Fo(r){return 2==(2&r.flags)}function lr(r){return 1==(1&r.flags)}function Er(r){return null!==r.template}function tr(r){return 0!=(512&r[2])}function Ei(r,s){return r.hasOwnProperty(Ae)?r[Ae]:null}class Ii{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Cr(){return Is}function Is(r){return r.type.prototype.ngOnChanges&&(r.setInput=Gr),bo}function bo(){const r=Nn(this),s=null==r?void 0:r.current;if(s){const a=r.previous;if(a===ai)r.previous=s;else for(let c in s)a[c]=s[c];r.current=null,this.ngOnChanges(s)}}function Gr(r,s,a,c){const d=Nn(r)||function hs(r,s){return r[ca]=s}(r,{previous:ai,current:null}),g=d.current||(d.current={}),v=d.previous,T=this.declaredInputs[a],D=v[T];g[T]=new Ii(D&&D.currentValue,s,v===ai),r[c]=s}Cr.ngInherit=!0;const ca="__ngSimpleChanges__";function Nn(r){return r[ca]||null}let Ss;function qr(r){Ss=r}function Cn(r){return!!r.listen}const R={createRenderer:(r,s)=>function kr(){return void 0!==Ss?Ss:"undefined"!=typeof document?document:void 0}()};function P(r){for(;Array.isArray(r);)r=r[0];return r}function qe(r,s){return P(s[r])}function nt(r,s){return P(s[r.index])}function Jt(r,s){return r.data[s]}function On(r,s){return r[s]}function nn(r,s){const a=s[r];return Oi(a)?a:a[0]}function _n(r){return 4==(4&r[2])}function ei(r){return 128==(128&r[2])}function jn(r,s){return null==s?null:r[s]}function $i(r){r[18]=0}function dr(r,s){r[5]+=s;let a=r,c=r[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const Gt={lFrame:To(null),bindingsEnabled:!0};function O(){return Gt.bindingsEnabled}function de(){return Gt.lFrame.lView}function st(){return Gt.lFrame.tView}function an(r){return Gt.lFrame.contextLView=r,r[8]}function xn(){let r=Tr();for(;null!==r&&64===r.type;)r=r.parent;return r}function Tr(){return Gt.lFrame.currentTNode}function fr(r,s){const a=Gt.lFrame;a.currentTNode=r,a.isParent=s}function As(){return Gt.lFrame.isParent}function Ls(){Gt.lFrame.isParent=!1}function Lr(){const r=Gt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ks(){return Gt.lFrame.bindingIndex++}function ps(r){const s=Gt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function cl(r,s){const a=Gt.lFrame;a.bindingIndex=a.bindingRootIndex=r,da(s)}function da(r){Gt.lFrame.currentDirectiveIndex=r}function Gl(){return Gt.lFrame.currentQueryIndex}function Pa(r){Gt.lFrame.currentQueryIndex=r}function dl(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function fa(r,s,a){if(a&$t.SkipSelf){let d=s,g=r;for(;!(d=d.parent,null!==d||a&$t.Host||(d=dl(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;s=d,r=g}const c=Gt.lFrame=hl();return c.currentTNode=s,c.lView=r,!0}function Co(r){const s=hl(),a=r[1];Gt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function hl(){const r=Gt.lFrame,s=null===r?null:r.child;return null===s?To(r):s}function To(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function fl(){const r=Gt.lFrame;return Gt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const pl=fl;function pa(){const r=fl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Vr(){return Gt.lFrame.selectedIndex}function ga(r){Gt.lFrame.selectedIndex=r}function Pi(){const r=Gt.lFrame;return Jt(r.tView,r.selectedIndex)}function Ho(r,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const g=r.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:D,ngAfterViewChecked:U,ngOnDestroy:H}=g;v&&(r.contentHooks||(r.contentHooks=[])).push(-a,v),T&&((r.contentHooks||(r.contentHooks=[])).push(a,T),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,T)),D&&(r.viewHooks||(r.viewHooks=[])).push(-a,D),U&&((r.viewHooks||(r.viewHooks=[])).push(a,U),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,U)),null!=H&&(r.destroyHooks||(r.destroyHooks=[])).push(a,H)}}function Ys(r,s,a){ql(r,s,3,a)}function ma(r,s,a,c){(3&r[2])===a&&ql(r,s,a,c)}function Hn(r,s){let a=r[2];(3&a)===s&&(a&=2047,a+=1,r[2]=a)}function ql(r,s,a,c){const g=null!=c?c:-1,v=s.length-1;let T=0;for(let D=void 0!==c?65535&r[18]:0;D<v;D++)if("number"==typeof s[D+1]){if(T=s[D],null!=c&&T>=c)break}else s[D]<0&&(r[18]+=65536),(T<g||-1==g)&&(Du(r,a,s,D),r[18]=(4294901760&r[18])+D+2),D++}function Du(r,s,a,c){const d=a[c]<0,g=a[c+1],T=r[d?-a[c]:a[c]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}class Gi{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Io(r,s,a){const c=Cn(r);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],T=a[d++],D=a[d++];c?r.setAttribute(s,T,D,v):s.setAttributeNS(v,T,D)}else{const v=g,T=a[++d];Ms(v)?c&&r.setProperty(s,v,T):c?r.setAttribute(s,v,T):s.setAttribute(v,T),d++}}return d}function Go(r){return 3===r||4===r||6===r}function Ms(r){return 64===r.charCodeAt(0)}function Na(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||ka(r,a,d,null,-1===a||2===a?s[++c]:null)}}return r}function ka(r,s,a,c,d){let g=0,v=r.length;if(-1===s)v=-1;else for(;g<r.length;){const T=r[g++];if("number"==typeof T){if(T===s){v=-1;break}if(T>s){v=g-1;break}}}for(;g<r.length;){const T=r[g];if("number"==typeof T)break;if(T===a){if(null===c)return void(null!==d&&(r[g+1]=d));if(c===r[g+1])return void(r[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==v&&(r.splice(v,0,s),g=v+1),r.splice(g++,0,a),null!==c&&r.splice(g++,0,c),null!==d&&r.splice(g++,0,d)}function Si(r){return-1!==r}function zo(r){return 32767&r}function Ur(r,s){let a=function Ri(r){return r>>16}(r),c=s;for(;a>0;)c=c[15],a--;return c}let qo=!0;function Wr(r){const s=qo;return qo=r,s}let Fa=0;function gs(r,s){const a=Do(r,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(r.injectorIndex=s.length,_a(c.data,r),_a(s,null),_a(c.blueprint,null));const d=I(r,s),g=r.injectorIndex;if(Si(d)){const v=zo(d),T=Ur(d,s),D=T[1].data;for(let U=0;U<8;U++)s[g+U]=T[v+U]|D[v+U]}return s[g+8]=d,g}function _a(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Do(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function I(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const g=d[1],v=g.type;if(c=2===v?g.declTNode:1===v?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function C(r,s,a){!function La(r,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(it)&&(c=a[it]),null==c&&(c=a[it]=Fa++);const d=255&c;s.data[r+(d>>5)]|=1<<d}(r,s,a)}function M(r,s,a){if(a&$t.Optional)return r;Z(s,"NodeInjector")}function L(r,s,a,c){if(a&$t.Optional&&void 0===c&&(c=null),0==(a&($t.Self|$t.Host))){const d=r[9],g=bn(void 0);try{return d?d.get(s,c,a&$t.Optional):ss(s,c,a&$t.Optional)}finally{bn(g)}}return M(c,s,a)}function z(r,s,a,c=$t.Default,d){if(null!==r){const g=function Ot(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(it)?r[it]:void 0;return"number"==typeof s?s>=0?255&s:ye:s}(a);if("function"==typeof g){if(!fa(s,r,c))return c&$t.Host?M(d,a,c):L(s,a,c,d);try{const v=g(c);if(null!=v||c&$t.Optional)return v;Z(a)}finally{pl()}}else if("number"==typeof g){let v=null,T=Do(r,s),D=-1,U=c&$t.Host?s[16][6]:null;for((-1===T||c&$t.SkipSelf)&&(D=-1===T?I(r,s):s[T+8],-1!==D&&Ln(c,!1)?(v=s[1],T=zo(D),s=Ur(D,s)):T=-1);-1!==T;){const H=s[1];if(Fn(g,T,H.data)){const ie=Qe(T,s,a,v,c,U);if(ie!==se)return ie}D=s[T+8],-1!==D&&Ln(c,s[1].data[T+8]===U)&&Fn(g,T,s)?(v=H,T=zo(D),s=Ur(D,s)):T=-1}}}return L(s,a,c,d)}const se={};function ye(){return new Ni(xn(),de())}function Qe(r,s,a,c,d,g){const v=s[1],T=v.data[r+8],H=Et(T,v,a,null==c?Fo(T)&&qo:c!=v&&0!=(3&T.type),d&$t.Host&&g===T);return null!==H?dn(s,v,H,T):se}function Et(r,s,a,c,d){const g=r.providerIndexes,v=s.data,T=1048575&g,D=r.directiveStart,H=g>>20,ve=d?T+H:r.directiveEnd;for(let Ne=c?T:T+H;Ne<ve;Ne++){const Je=v[Ne];if(Ne<D&&a===Je||Ne>=D&&Je.type===a)return Ne}if(d){const Ne=v[D];if(Ne&&Er(Ne)&&Ne.type===a)return D}return null}function dn(r,s,a,c){let d=r[a];const g=s.data;if(function zi(r){return r instanceof Gi}(d)){const v=d;v.resolving&&function Ye(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${r}${a}`)}(ce(g[a]));const T=Wr(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?bn(v.injectImpl):null;fa(r,c,$t.Default);try{d=r[a]=v.factory(void 0,g,r,c),s.firstCreatePass&&a>=c.directiveStart&&function Od(r,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=s.type.prototype;if(c){const v=Is(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,g))}(a,g[a],s)}finally{null!==D&&bn(D),Wr(T),v.resolving=!1,pl()}}return d}function Fn(r,s,a){return!!(a[s+(r>>5)]&1<<r)}function Ln(r,s){return!(r&$t.Self||r&$t.Host&&s)}class Ni{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return z(this._tNode,this._lView,s,c,a)}}function Us(r){return Vi(()=>{const s=r.prototype.constructor,a=s[Ae]||Ai(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const g=d[Ae]||Ai(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ai(r){return $e(r)?()=>{const s=Ai(fe(r));return s&&s()}:Ei(r)}function Zo(r){return function w(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const g=a[d];if(Go(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(g===s)return a[d+1];d+=2}}}return null}(xn(),r)}const Wo="__parameters__";function Va(r,s,a){return Vi(()=>{const c=function Su(r){return function(...a){if(r){const c=r(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...g){if(this instanceof d)return c.apply(this,g),this;const v=new d(...g);return T.annotation=v,T;function T(D,U,H){const ie=D.hasOwnProperty(Wo)?D[Wo]:Object.defineProperty(D,Wo,{value:[]})[Wo];for(;ie.length<=H;)ie.push(null);return(ie[H]=ie[H]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class qi{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ft({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bp=new qi("AnalyzeForEntryComponents");function Kr(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let c=r[a];Array.isArray(c)?(s===r&&(s=r.slice(0,a)),Kr(c,s)):s!==r&&s.push(c)}return s}function Bs(r,s){r.forEach(a=>Array.isArray(a)?Bs(a,s):s(a))}function Pu(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Wi(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function js(r,s){const a=[];for(let c=0;c<r;c++)a.push(s);return a}function Yr(r,s,a){let c=wa(r,s);return c>=0?r[1|c]=a:(c=~c,function Zl(r,s,a,c){let d=r.length;if(d==s)r.push(a,c);else if(1===d)r.push(c,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=c}}(r,c,s,a)),c}function Kl(r,s){const a=wa(r,s);if(a>=0)return r[1|a]}function wa(r,s){return function So(r,s,a){let c=0,d=r.length>>a;for(;d!==c;){const g=c+(d-c>>1),v=r[g<<a];if(s===v)return g<<a;v>s?d=g:c=g+1}return~(d<<a)}(r,s,1)}const Qo={},ki="__NG_DI_FLAG__",Ki="ngTempTokenPath",N=/\n/gm,le="__source",Re=J({provide:String,useValue:J});let Ge;function dt(r){const s=Ge;return Ge=r,s}function Pt(r,s=$t.Default){if(void 0===Ge)throw new Fe(203,"");return null===Ge?ss(r,void 0,s):Ge.get(r,s&$t.Optional?null:void 0,s)}function Lt(r,s=$t.Default){return(function Bn(){return yr}()||Pt)(fe(r),s)}const Vn=Lt;function hn(r){const s=[];for(let a=0;a<r.length;a++){const c=fe(r[a]);if(Array.isArray(c)){if(0===c.length)throw new Fe(900,"");let d,g=$t.Default;for(let v=0;v<c.length;v++){const T=c[v],D=rr(T);"number"==typeof D?-1===D?d=T.token:g|=D:d=T}s.push(Lt(d,g))}else s.push(Lt(c))}return s}function Ir(r,s){return r[ki]=s,r.prototype[ki]=s,r}function rr(r){return r[ki]}const lo=Ir(Va("Inject",r=>({token:r})),-1),Qs=Ir(Va("Optional"),8),ja=Ir(Va("SkipSelf"),4);class Wh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Xo(r){return r instanceof Wh?r.changingThisBreaksApplicationSecurity:r}const ef=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Sr=(()=>((Sr=Sr||{})[Sr.NONE=0]="NONE",Sr[Sr.HTML=1]="HTML",Sr[Sr.STYLE=2]="STYLE",Sr[Sr.SCRIPT=3]="SCRIPT",Sr[Sr.URL=4]="URL",Sr[Sr.RESOURCE_URL=5]="RESOURCE_URL",Sr))();function qd(r){const s=function Bc(){const r=de();return r&&r[12]}();return s?s.sanitize(Sr.URL,r)||"":function Lu(r,s){const a=function Qh(r){return r instanceof Wh&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(r,"URL")?Xo(r):function Gd(r){return(r=String(r)).match(ef)||r.match(Cl)?r:"unsafe:"+r}(me(r))}const su="__ngContext__";function Ar(r,s){r[su]=s}function au(r){const s=function ou(r){return r[su]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function Hc(r){return r.ngOriginalError}function ig(r,...s){r.error(...s)}class Wd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function $a(r){return r&&r.ngErrorLogger||ig}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Hc(s);for(;a&&Hc(a);)a=Hc(a);return a||null}}const cu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dn))();function y(r){return r instanceof Function?r():r}var Y=(()=>((Y=Y||{})[Y.Important=1]="Important",Y[Y.DashCase=2]="DashCase",Y))();function Ke(r,s){return undefined(r,s)}function Rt(r){const s=r[3];return Nr(s)?s[3]:s}function Xr(r){return ff(r[13])}function Gu(r){return ff(r[4])}function ff(r){for(;null!==r&&!Nr(r);)r=r[4];return r}function du(r,s,a,c,d){if(null!=c){let g,v=!1;Nr(c)?g=c:Oi(c)&&(v=!0,c=c[0]);const T=P(c);0===r&&null!==a?null==d?We(s,a,T):yt(s,a,T,d||null,!0):1===r&&null!==a?yt(s,a,T,d||null,!0):2===r?function u_(r,s,a){const c=mf(r,s);c&&function Os(r,s,a,c){Cn(r)?r.removeChild(s,a,c):s.removeChild(a)}(r,c,s,a)}(s,T,v):3===r&&s.destroyNode(T),null!=g&&function cn(r,s,a,c,d){const g=a[7];g!==P(a)&&du(s,r,c,g,d);for(let T=10;T<a.length;T++){const D=a[T];xl(D[1],D,r,s,c,g)}}(s,r,g,a,d)}}function hu(r,s,a){if(Cn(r))return r.createElement(s,a);{const c=null!==a?function Zs(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?r.createElement(s):r.createElementNS(c,s)}}function t0(r,s){const a=r[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,dr(d,-1)),a.splice(c,1)}function ht(r,s){if(r.length<=10)return;const a=10+s,c=r[a];if(c){const d=c[17];null!==d&&d!==r&&t0(d,c),s>0&&(r[a-1][4]=c[4]);const g=Wi(r,10+s);!function pf(r,s){xl(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Br(r,s){if(!(256&s[2])){const a=s[11];Cn(a)&&a.destroyNode&&xl(r,s,a,3,null,null),function Sl(r){let s=r[13];if(!s)return qc(r[1],r);for(;s;){let a=null;if(Oi(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==r;)Oi(s)&&qc(s[1],s),s=s[3];null===s&&(s=r),Oi(s)&&qc(s[1],s),a=s&&s[4]}s=a}}(s)}}function qc(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Bt(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Gi)){const g=a[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const T=d[g[v]],D=g[v+1];try{D.call(T)}finally{}}else try{g.call(d)}finally{}}}}(r,s),function r_(r,s){const a=r.cleanup,c=s[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],T="function"==typeof v?v(s):P(s[v]),D=c[d=a[g+2]],U=a[g+3];"boolean"==typeof U?T.removeEventListener(a[g],D,U):U>=0?c[d=U]():c[d=-U].unsubscribe(),g+=2}else{const v=c[d=a[g+1]];a[g].call(v)}if(null!==c){for(let g=d+1;g<c.length;g++)c[g]();s[7]=null}}(r,s),1===s[1].type&&Cn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Nr(s[3])){a!==s[3]&&t0(a,s);const c=s[19];null!==c&&c.detachView(r)}}}function fn(r,s,a){return function n0(r,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=r.data[c.directiveStart].encapsulation;if(d===_t.None||d===_t.Emulated)return null}return nt(c,a)}(r,s.parent,a)}function yt(r,s,a,c,d){Cn(r)?r.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function We(r,s,a){Cn(r)?r.appendChild(s,a):s.appendChild(a)}function ot(r,s,a,c,d){null!==c?yt(r,s,a,c,d):We(r,s,a)}function mf(r,s){return Cn(r)?r.parentNode(s):s.parentNode}function r0(r,s,a){return o0(r,s,a)}let o0=function s0(r,s,a){return 40&r.type?nt(r,a):null};function ug(r,s,a,c){const d=fn(r,c,s),g=s[11],T=r0(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)ot(g,d,a[D],T,!1);else ot(g,d,a,T,!1)}function a_(r,s){if(null!==s){const a=s.type;if(3&a)return nt(s,r);if(4&a)return l_(-1,r[s.index]);if(8&a){const c=s.child;if(null!==c)return a_(r,c);{const d=r[s.index];return Nr(d)?l_(-1,d):P(d)}}if(32&a)return Ke(s,r)()||P(r[s.index]);{const c=xo(r,s);return null!==c?Array.isArray(c)?c[0]:a_(Rt(r[16]),c):a_(r,s.next)}}return null}function xo(r,s){return null!==s?r[16][6].projection[s.projection]:null}function l_(r,s){const a=10+r+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return a_(c,d)}return s[7]}function In(r,s,a,c,d,g,v){for(;null!=a;){const T=c[a.index],D=a.type;if(v&&0===s&&(T&&Ar(P(T),c),a.flags|=4),64!=(64&a.flags))if(8&D)In(r,s,a.child,c,d,g,!1),du(s,r,d,T,g);else if(32&D){const U=Ke(a,c);let H;for(;H=U();)du(s,r,d,H,g);du(s,r,d,T,g)}else 16&D?xr(r,s,c,a,d,g):du(s,r,d,T,g);a=v?a.projectionNext:a.next}}function xl(r,s,a,c,d,g){In(a,c,r.firstChild,s,d,g,!1)}function xr(r,s,a,c,d,g){const v=a[16],D=v[6].projection[c.projection];if(Array.isArray(D))for(let U=0;U<D.length;U++)du(s,r,d,D[U],g);else In(r,s,D,v[3],d,g,!0)}function zu(r,s,a){Cn(r)?r.setAttribute(s,"style",a):s.style.cssText=a}function cg(r,s,a){Cn(r)?""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a):s.className=a}function eh(r,s,a){let c=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const g=s.length;if(d+g===c||r.charCodeAt(d+g)<=32)return d}a=d+1}}const u0="ng-template";function _s(r,s,a){let c=0;for(;c<r.length;){let d=r[c++];if(a&&"class"===d){if(d=r[c],-1!==eh(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<r.length&&"string"==typeof(d=r[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Zc(r){return 4===r.type&&r.value!==u0}function UE(r,s,a){return s===(4!==r.type||a?r.value:u0)}function ys(r,s,a){let c=4;const d=r.attrs||[],g=function c_(r){for(let s=0;s<r.length;s++)if(Go(r[s]))return s;return r.length}(d);let v=!1;for(let T=0;T<s.length;T++){const D=s[T];if("number"!=typeof D){if(!v)if(4&c){if(c=2|1&c,""!==D&&!UE(r,D,a)||""===D&&1===s.length){if(Ga(c))return!1;v=!0}}else{const U=8&c?D:s[++T];if(8&c&&null!==r.attrs){if(!_s(r.attrs,U,a)){if(Ga(c))return!1;v=!0}continue}const ie=qu(8&c?"class":D,d,Zc(r),a);if(-1===ie){if(Ga(c))return!1;v=!0;continue}if(""!==U){let ve;ve=ie>g?"":d[ie+1].toLowerCase();const Ne=8&c?ve:null;if(Ne&&-1!==eh(Ne,U,0)||2&c&&U!==ve){if(Ga(c))return!1;v=!0}}}}else{if(!v&&!Ga(c)&&!Ga(D))return!1;if(v&&Ga(D))continue;v=!1,c=D|1&c}}return Ga(c)||v}function Ga(r){return 0==(1&r)}function qu(r,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let g=!1;for(;d<s.length;){const v=s[d];if(v===r)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let T=s[++d];for(;"string"==typeof T;)T=s[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function c0(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,r)}function gr(r,s,a=!1){for(let c=0;c<s.length;c++)if(ys(r,s[c],a))return!0;return!1}function _f(r,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function d0(r,s){return r?":not("+s.trim()+")":s}function fu(r){let s=r[0],a=1,c=2,d="",g=!1;for(;a<r.length;){let v=r[a];if("string"==typeof v)if(2&c){const T=r[++a];d+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Ga(v)&&(s+=d0(g,d),d=""),c=v,g=g||!Ga(c);a++}return""!==d&&(s+=d0(g,d)),s}const Tn={};function wt(r){pu(st(),de(),Vr()+r,!1)}function pu(r,s,a,c){if(!c)if(3==(3&s[2])){const g=r.preOrderCheckHooks;null!==g&&Ys(s,g,a)}else{const g=r.preOrderHooks;null!==g&&ma(s,g,0,a)}ga(a)}function Ml(r,s){return r<<17|s<<2}function es(r){return r>>17&32767}function dg(r){return 2|r}function Mo(r){return(131068&r)>>2}function bf(r,s){return-131069&r|s<<2}function Ef(r){return 1|r}function _0(r,s){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],g=a[c+1];if(-1!==g){const v=r.data[g];Pa(d),v.contentQueries(2,s[g],g)}}}function Ol(r,s,a,c,d,g,v,T,D,U){const H=s.blueprint.slice();return H[0]=d,H[2]=140|c,$i(H),H[3]=H[15]=r,H[8]=a,H[10]=v||r&&r[10],H[11]=T||r&&r[11],H[12]=D||r&&r[12]||null,H[9]=U||r&&r[9]||null,H[6]=g,H[16]=2==s.type?r[16]:H,H}function rh(r,s,a,c,d){let g=r.data[s];if(null===g)g=function mg(r,s,a,c,d){const g=Tr(),v=As(),D=r.data[s]=function w0(r,s,a,c,d,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,s,c,d);return null===r.firstChild&&(r.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(r,s,a,c,d),function Hl(){return Gt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=d;const v=function fs(){const r=Gt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return fr(g,!0),g}function Jc(r,s,a,c){if(0===a)return-1;const d=s.length;for(let g=0;g<a;g++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function ra(r,s,a){Co(s);try{const c=r.viewQuery;null!==c&&Pf(1,c,a);const d=r.template;null!==d&&y0(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&_0(r,s),r.staticViewQueries&&Pf(2,r.viewQuery,a);const g=r.components;null!==g&&function Ju(r,s){for(let a=0;a<s.length;a++)C_(r,s[a])}(s,g)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[2]&=-5,pa()}}function Xc(r,s,a,c){const d=s[2];if(256!=(256&d)){Co(s);try{$i(s),function Oa(r){return Gt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&y0(r,s,a,2,c);const v=3==(3&d);if(v){const U=r.preOrderCheckHooks;null!==U&&Ys(s,U,null)}else{const U=r.preOrderHooks;null!==U&&ma(s,U,0,null),Hn(s,0)}if(function x0(r){for(let s=Xr(r);null!==s;s=Gu(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],g=d[3];0==(1024&d[2])&&dr(g,1),d[2]|=1024}}}(s),function A0(r){for(let s=Xr(r);null!==s;s=Gu(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];ei(c)&&Xc(d,c,d.template,c[8])}}(s),null!==r.contentQueries&&_0(r,s),v){const U=r.contentCheckHooks;null!==U&&Ys(s,U)}else{const U=r.contentHooks;null!==U&&ma(s,U,1),Hn(s,1)}!function ZE(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)ga(~d);else{const g=d,v=a[++c],T=a[++c];cl(v,g),T(2,s[g])}}}finally{ga(-1)}}(r,s);const T=r.components;null!==T&&function WE(r,s){for(let a=0;a<s.length;a++)M0(r,s[a])}(s,T);const D=r.viewQuery;if(null!==D&&Pf(2,D,c),v){const U=r.viewCheckHooks;null!==U&&Ys(s,U)}else{const U=r.viewHooks;null!==U&&ma(s,U,2),Hn(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,dr(s[3],-1))}finally{pa()}}}function sh(r,s,a,c){const d=s[10],v=_n(s);try{!v&&d.begin&&d.begin(),v&&ra(r,s,c),Xc(r,s,a,c)}finally{!v&&d.end&&d.end()}}function y0(r,s,a,c,d){const g=Vr(),v=2&c;try{ga(-1),v&&s.length>20&&pu(r,s,20,!1),a(c,d)}finally{ga(g)}}function _g(r,s,a){if(as(s)){const d=s.directiveEnd;for(let g=s.directiveStart;g<d;g++){const v=r.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}function Df(r,s,a){!O()||(function ah(r,s,a,c){const d=a.directiveStart,g=a.directiveEnd;r.firstCreatePass||gs(a,s),Ar(c,s);const v=a.initialInputs;for(let T=d;T<g;T++){const D=r.data[T],U=Er(D);U&&JE(s,a,D);const H=dn(s,r,T,a);Ar(H,s),null!==v&&D0(0,T-d,H,D,0,v),U&&(nn(a.index,s)[8]=H)}}(r,s,a,nt(a,s)),128==(128&a.flags)&&function T0(r,s,a){const c=a.directiveStart,d=a.directiveEnd,v=a.index,T=function $l(){return Gt.lFrame.currentDirectiveIndex}();try{ga(v);for(let D=c;D<d;D++){const U=r.data[D],H=s[D];da(D),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&b_(U,H)}}finally{ga(-1),da(T)}}(r,s,a))}function Sf(r,s,a=nt){const c=s.localNames;if(null!==c){let d=s.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],T=-1===v?a(s,r):r[v];r[d++]=T}}}function ed(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=uo(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function uo(r,s,a,c,d,g,v,T,D,U){const H=20+c,ie=H+d,ve=function v0(r,s){const a=[];for(let c=0;c<s;c++)a.push(c<r?null:Tn);return a}(H,ie),Ne="function"==typeof U?U():U;return ve[1]={type:r,blueprint:ve,template:a,queries:null,viewQuery:T,declTNode:s,data:ve.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Ne,incompleteFirstPass:!1}}function vg(r,s,a,c){const d=R0(s);null===a?d.push(c):(d.push(a),r.firstCreatePass&&fi(r).push(c,d.length-1))}function v_(r,s,a){for(let c in r)if(r.hasOwnProperty(c)){const d=r[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function Oo(r,s,a,c,d,g,v,T){const D=nt(s,a);let H,U=s.inputs;!T&&null!=U&&(H=U[c])?(lh(r,a,H,c,d),Fo(s)&&function E0(r,s){const a=nn(s,r);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function b0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=v?v(d,s.value||"",c):d,Cn(g)?g.setProperty(D,c,d):Ms(c)||(D.setProperty?D.setProperty(c,d):D[c]=d))}function bg(r,s,a,c){let d=!1;if(O()){const g=function xf(r,s,a){const c=r.directiveRegistry;let d=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];gr(a,v.selectors,!1)&&(d||(d=[]),C(gs(a,s),r,v.type),Er(v)?(I0(r,a),d.unshift(v)):d.push(v))}return d}(r,s,a),v=null===c?null:{"":-1};if(null!==g){d=!0,Mf(a,r.data.length,g.length);for(let H=0;H<g.length;H++){const ie=g[H];ie.providersResolver&&ie.providersResolver(ie)}let T=!1,D=!1,U=Jc(r,s,g.length,null);for(let H=0;H<g.length;H++){const ie=g[H];a.mergedAttrs=Na(a.mergedAttrs,ie.hostAttrs),Of(r,a,s,U,ie),ns(U,ie,v),null!==ie.contentQueries&&(a.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=128);const ve=ie.type.prototype;!T&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),T=!0),!D&&(ve.ngOnChanges||ve.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),D=!0),U++}!function YE(r,s){const c=s.directiveEnd,d=r.data,g=s.attrs,v=[];let T=null,D=null;for(let U=s.directiveStart;U<c;U++){const H=d[U],ie=H.inputs,ve=null===g||Zc(s)?null:S0(ie,g);v.push(ve),T=v_(ie,U,T),D=v_(H.outputs,U,D)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=16),T.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=T,s.outputs=D}(r,a)}v&&function QE(r,s,a){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const g=a[s[d+1]];if(null==g)throw new Fe(-301,!1);c.push(s[d],g)}}}(a,c,v)}return a.mergedAttrs=Na(a.mergedAttrs,a.attrs),d}function Xu(r,s,a,c,d,g){const v=g.hostBindings;if(v){let T=r.hostBindingOpCodes;null===T&&(T=r.hostBindingOpCodes=[]);const D=~s.index;(function C0(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(T)!=D&&T.push(D),T.push(c,d,v)}}function b_(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function I0(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function ns(r,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=r;Er(s)&&(a[""]=r)}}function Mf(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function Of(r,s,a,c,d){r.data[c]=d;const g=d.factory||(d.factory=Ei(d.type)),v=new Gi(g,Er(d),null);r.blueprint[c]=v,a[c]=v,Xu(r,s,0,c,Jc(r,a,d.hostVars,Tn),d)}function JE(r,s,a){const c=nt(s,r),d=ed(a),g=r[10],v=mr(r,Ol(r,d,null,a.onPush?64:16,c,s,g,g.createRenderer(c,a),null,null));r[s.index]=v}function Ca(r,s,a,c,d,g){const v=nt(r,s);!function E_(r,s,a,c,d,g,v){if(null==g)Cn(r)?r.removeAttribute(s,d,a):s.removeAttribute(d);else{const T=null==v?me(g):v(g,c||"",d);Cn(r)?r.setAttribute(s,d,T,a):a?s.setAttributeNS(a,d,T):s.setAttribute(d,T)}}(s[11],v,g,r.value,a,c,d)}function D0(r,s,a,c,d,g){const v=g[s];if(null!==v){const T=c.setInput;for(let D=0;D<v.length;){const U=v[D++],H=v[D++],ie=v[D++];null!==T?c.setInput(a,ie,U,H):a[H]=ie}}}function S0(r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,r[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function ec(r,s,a,c){return new Array(r,!0,!1,s,null,0,c,a,null,null)}function M0(r,s){const a=nn(s,r);if(ei(a)){const c=a[1];80&a[2]?Xc(c,a,c.template,a[8]):a[5]>0&&nd(a)}}function nd(r){for(let c=Xr(r);null!==c;c=Gu(c))for(let d=10;d<c.length;d++){const g=c[d];if(1024&g[2]){const v=g[1];Xc(v,g,v.template,g[8])}else g[5]>0&&nd(g)}const a=r[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=nn(a[c],r);ei(d)&&d[5]>0&&nd(d)}}function C_(r,s){const a=nn(s,r),c=a[1];(function XE(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(c,a),ra(c,a,a[8])}function mr(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function zn(r){for(;r;){r[2]|=64;const s=Rt(r);if(tr(r)&&!s)return r;r=s}return null}function P0(r){!function Cg(r){for(let s=0;s<r.components.length;s++){const a=r.components[s],c=au(a),d=c[1];sh(d,c,d.template,a)}}(r[8])}function Pf(r,s,a){Pa(0),s(r,a)}const eC=(()=>Promise.resolve(null))();function R0(r){return r[7]||(r[7]=[])}function fi(r){return r.cleanup||(r.cleanup=[])}function Rf(r,s){const a=r[9],c=a?a.get(Wd,null):null;c&&c.handleError(s)}function lh(r,s,a,c,d){for(let g=0;g<a.length;){const v=a[g++],T=a[g++],D=s[v],U=r.data[v];null!==U.setInput?U.setInput(D,d,c,T):D[T]=d}}function sa(r,s,a){const c=qe(s,r);!function zc(r,s,a){Cn(r)?r.setValue(s,a):s.textContent=a}(r[11],c,a)}function id(r,s,a){let c=a?r.styles:null,d=a?r.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const T=s[v];"number"==typeof T?g=T:1==g?d=re(d,T):2==g&&(c=re(c,T+": "+s[++v]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=d:r.classesWithoutHost=d}const T_=new qi("INJECTOR",-1);class I_{get(s,a=Qo){if(a===Qo){const c=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw c.name="NullInjectorError",c}return a}}const Ig=new qi("Set Injector scope."),Nf={},nC={};let D_;function uh(){return void 0===D_&&(D_=new I_),D_}function S_(r,s=null,a=null,c){const d=L0(r,s,a,c);return d._resolveInjectorDefTypes(),d}function L0(r,s=null,a=null,c){return new Ps(r,a,s||uh(),c)}class Ps{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Bs(a,T=>this.processProvider(T,s,a)),Bs([s],T=>this.processInjectorType(T,[],g)),this.records.set(T_,tc(void 0,this));const v=this.records.get(Ig);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof s?null:ne(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Qo,c=$t.Default){this.assertNotDestroyed();const d=dt(this),g=bn(void 0);try{if(!(c&$t.SkipSelf)){let T=this.records.get(s);if(void 0===T){const D=function Vf(r){return"function"==typeof r||"object"==typeof r&&r instanceof qi}(s)&&Yt(s);T=D&&this.injectableDefInScope(D)?tc(kf(s),Nf):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(c&$t.Self?uh():this.parent).get(s,a=c&$t.Optional&&a===Qo?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Ki]=v[Ki]||[]).unshift(ne(s)),d)throw v;return function ba(r,s,a,c){const d=r[Ki];throw s[le]&&d.unshift(s[le]),r.message=function Ea(r,s,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=ne(s);if(Array.isArray(s))d=s.map(ne).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let T=s[v];g.push(v+":"+("string"==typeof T?JSON.stringify(T):ne(T)))}d=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${r.replace(N,"\n  ")}`}("\n"+r.message,d,a,c),r.ngTokenPath=d,r[Ki]=null,r}(v,s,"R3InjectorError",this.source)}throw v}finally{bn(g),dt(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(ne(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(s,a,c){if(!(s=fe(s)))return!1;let d=oi(s);const g=null==d&&s.ngModule||void 0,v=void 0===g?s:g,T=-1!==c.indexOf(v);if(void 0!==g&&(d=oi(g)),null==d)return!1;if(null!=d.imports&&!T){let H;c.push(v);try{Bs(d.imports,ie=>{this.processInjectorType(ie,a,c)&&(void 0===H&&(H=[]),H.push(ie))})}finally{}if(void 0!==H)for(let ie=0;ie<H.length;ie++){const{ngModule:ve,providers:Ne}=H[ie];Bs(Ne,Je=>this.processProvider(Je,ve,Ne||he))}}this.injectorDefTypes.add(v);const D=Ei(v)||(()=>new v);this.records.set(v,tc(D,Nf));const U=d.providers;if(null!=U&&!T){const H=s;Bs(U,ie=>this.processProvider(ie,H,U))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,c){let d=rd(s=fe(s))?s:fe(s&&s.provide);const g=function Ff(r,s,a){return A_(r)?tc(void 0,r.useValue):tc(qa(r),Nf)}(s);if(rd(s)||!0!==s.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=tc(void 0,Nf,!0),v.factory=()=>hn(v.multi),this.records.set(d,v)),d=s,v.multi.push(s)}this.records.set(d,g)}hydrate(s,a){return a.value===Nf&&(a.value=nC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function rC(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=fe(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function kf(r){const s=Yt(r),a=null!==s?s.factory:Ei(r);if(null!==a)return a;if(r instanceof qi)throw new Fe(204,!1);if(r instanceof Function)return function V0(r){const s=r.length;if(s>0)throw js(s,"?"),new Fe(204,!1);const a=function mn(r){const s=r&&(r[Li]||r[Ci]);if(s){const a=function Zn(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Fe(204,!1)}function qa(r,s,a){let c;if(rd(r)){const d=fe(r);return Ei(d)||kf(d)}if(A_(r))c=()=>fe(r.useValue);else if(function U0(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...hn(r.deps||[]));else if(function Lf(r){return!(!r||!r.useExisting)}(r))c=()=>Lt(fe(r.useExisting));else{const d=fe(r&&(r.useClass||r.provide));if(!function iC(r){return!!r.deps}(r))return Ei(d)||kf(d);c=()=>new d(...hn(r.deps))}return c}function tc(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function A_(r){return null!==r&&"object"==typeof r&&Re in r}function rd(r){return"function"==typeof r}let Ta=(()=>{class r{static create(a,c){var d;if(Array.isArray(a))return S_({name:""},c,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return S_({name:g},a.parent,a.providers,g)}}}return r.THROW_IF_NOT_FOUND=Qo,r.NULL=new I_,r.\u0275prov=ft({token:r,providedIn:"any",factory:()=>Lt(T_)}),r.__NG_ELEMENT_ID__=-1,r})();function uC(r,s){Ho(au(r)[1],xn())}function N_(r){let s=function W0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;s;){let d;if(Er(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Fe(903,"");d=s.\u0275dir}if(d){if(a){c.push(d);const v=r;v.inputs=k_(r.inputs),v.declaredInputs=k_(r.declaredInputs),v.outputs=k_(r.outputs);const T=d.hostBindings;T&&fC(r,T);const D=d.viewQuery,U=d.contentQueries;if(D&&dC(r,D),U&&hC(r,U),Q(r.inputs,d.inputs),Q(r.declaredInputs,d.declaredInputs),Q(r.outputs,d.outputs),Er(d)&&d.data.animation){const H=r.data;H.animation=(H.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const T=g[v];T&&T.ngInherit&&T(r),T===N_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function cC(r){let s=0,a=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Na(d.hostAttrs,a=Na(a,d.hostAttrs))}}(c)}function k_(r){return r===ai?{}:r===he?[]:r}function dC(r,s){const a=r.viewQuery;r.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function hC(r,s){const a=r.contentQueries;r.contentQueries=a?(c,d,g)=>{s(c,d,g),a(c,d,g)}:s}function fC(r,s){const a=r.hostBindings;r.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let Sg=null;function od(){if(!Sg){const r=Dn.Symbol;if(r&&r.iterator)Sg=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Sg=c)}}}return Sg}function Ze(r){return!!F_(r)&&(Array.isArray(r)||!(r instanceof Map)&&od()in r)}function F_(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Ro(r,s,a){return r[s]=a}function Ka(r,s){return r[s]}function eo(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function oa(r,s,a,c){const d=eo(r,s,a);return eo(r,s+1,c)||d}function No(r,s,a,c,d,g){const v=oa(r,s,a,c);return oa(r,s+2,d,g)||v}function xg(r,s,a,c){const d=de();return eo(d,Ks(),s)&&(st(),Ca(Pi(),d,r,s,a,c)),xg}function nc(r,s,a,c){return eo(r,Ks(),a)?s+me(a)+c:Tn}function ic(r,s,a,c,d,g){const T=oa(r,function xs(){return Gt.lFrame.bindingIndex}(),a,d);return ps(2),T?s+me(a)+c+me(d)+g:Tn}function U_(r,s,a,c,d,g,v,T){const D=de(),U=st(),H=r+20,ie=U.firstCreatePass?function X0(r,s,a,c,d,g,v,T,D){const U=s.consts,H=rh(s,r,4,v||null,jn(U,T));bg(s,a,H,jn(U,D)),Ho(s,H);const ie=H.tViews=uo(2,H,c,d,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,U);return null!==s.queries&&(s.queries.template(s,H),ie.queries=s.queries.embeddedTView(H)),H}(H,U,D,s,a,c,d,g,v):U.data[H];fr(ie,!1);const ve=D[11].createComment("");ug(U,D,ve,ie),Ar(ve,D),mr(D,D[H]=ec(ve,D,ve,ie)),lr(ie)&&Df(U,D,ie),null!=v&&Sf(D,ie,T)}function fh(r){return On(function Iu(){return Gt.lFrame.contextLView}(),20+r)}function zf(r,s=$t.Default){const a=de();return null===a?Lt(r,s):z(xn(),a,fe(r),s)}function lw(){throw new Error("invalid")}function Rg(r,s,a){const c=de();return eo(c,Ks(),s)&&Oo(st(),Pi(),c,r,s,c[11],a,!1),Rg}function mu(r,s,a,c,d){const v=d?"class":"style";lh(r,a,s.inputs[v],v,c)}function Zf(r,s,a,c){const d=de(),g=st(),v=20+r,T=d[11],D=d[v]=hu(T,s,function Tc(){return Gt.lFrame.currentNamespace}()),U=g.firstCreatePass?function qf(r,s,a,c,d,g,v){const T=s.consts,U=rh(s,r,2,d,jn(T,g));return bg(s,a,U,jn(T,v)),null!==U.attrs&&id(U,U.attrs,!1),null!==U.mergedAttrs&&id(U,U.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,U),U}(v,g,d,0,s,a,c):g.data[v];fr(U,!0);const H=U.mergedAttrs;null!==H&&Io(T,D,H);const ie=U.classes;null!==ie&&cg(T,D,ie);const ve=U.styles;return null!==ve&&zu(T,D,ve),64!=(64&U.flags)&&ug(g,d,D,U),0===function Ws(){return Gt.lFrame.elementDepthCount}()&&Ar(D,d),function Di(){Gt.lFrame.elementDepthCount++}(),lr(U)&&(Df(g,d,U),_g(g,U,d)),null!==c&&Sf(d,U),Zf}function Wf(){let r=xn();As()?Ls():(r=r.parent,fr(r,!1));const s=r;!function k(){Gt.lFrame.elementDepthCount--}();const a=st();return a.firstCreatePass&&(Ho(a,r),as(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Ra(r){return 0!=(16&r.flags)}(s)&&mu(a,s,de(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function $o(r){return 0!=(32&r.flags)}(s)&&mu(a,s,de(),s.stylesWithoutHost,!1),Wf}function X_(r,s,a,c){return Zf(r,s,a,c),Wf(),X_}function _h(r,s,a){const c=de(),d=st(),g=r+20,v=d.firstCreatePass?function ey(r,s,a,c,d){const g=s.consts,v=jn(g,c),T=rh(s,r,8,"ng-container",v);return null!==v&&id(T,v,!0),bg(s,a,T,jn(g,d)),null!==s.queries&&s.queries.elementStart(s,T),T}(g,d,c,s,a):d.data[g];fr(v,!0);const T=c[g]=c[11].createComment("");return ug(d,c,T,v),Ar(T,c),lr(v)&&(Df(d,c,v),_g(d,v,c)),null!=a&&Sf(c,v),_h}function cc(){let r=xn();const s=st();return As()?Ls():(r=r.parent,fr(r,!1)),s.firstCreatePass&&(Ho(s,r),as(r)&&s.queries.elementEnd(r)),cc}function yh(r,s,a){return _h(r,s,a),cc(),yh}function Ng(){return de()}function ty(r){return!!r&&"function"==typeof r.then}function kg(r){return!!r&&"function"==typeof r.subscribe}const ny=kg;function iy(r,s,a,c){const d=de(),g=st(),v=xn();return function Fg(r,s,a,c,d,g,v,T){const D=lr(c),H=r.firstCreatePass&&fi(r),ie=s[8],ve=R0(s);let Ne=!0;if(3&c.type||T){const bt=nt(c,s),Vt=T?T(bt):bt,rt=ve.length,Qt=T?Pn=>T(P(Pn[c.index])):c.index;if(Cn(a)){let Pn=null;if(!T&&D&&(Pn=function uw(r,s,a,c){const d=r.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===c){const T=s[7],D=d[g+2];return T.length>D?T[D]:null}"string"==typeof v&&(g+=2)}return null}(r,s,d,c.index)),null!==Pn)(Pn.__ngLastListenerFn__||Pn).__ngNextListenerFn__=g,Pn.__ngLastListenerFn__=g,Ne=!1;else{g=Lg(c,s,ie,g,!1);const pi=a.listen(Vt,d,g);ve.push(g,pi),H&&H.push(d,Qt,rt,rt+1)}}else g=Lg(c,s,ie,g,!0),Vt.addEventListener(d,g,v),ve.push(g),H&&H.push(d,Qt,rt,v)}else g=Lg(c,s,ie,g,!1);const Je=c.outputs;let pt;if(Ne&&null!==Je&&(pt=Je[d])){const bt=pt.length;if(bt)for(let Vt=0;Vt<bt;Vt+=2){const la=s[pt[Vt]][pt[Vt+1]].subscribe(g),Eu=ve.length;ve.push(g,la),H&&H.push(d,c.index,Eu,-(Eu+1))}}}(g,d,d[11],v,r,s,!!a,c),iy}function cw(r,s,a,c){try{return!1!==a(c)}catch(d){return Rf(r,d),!1}}function Lg(r,s,a,c,d){return function g(v){if(v===Function)return c;const T=2&r.flags?nn(r.index,s):s;0==(32&s[2])&&zn(T);let D=cw(s,0,c,v),U=g.__ngNextListenerFn__;for(;U;)D=cw(s,0,U,v)&&D,U=U.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function dw(r=1){return function xd(r){return(Gt.lFrame.contextLView=function gl(r,s){for(;r>0;)s=s[15],r--;return s}(r,Gt.lFrame.contextLView))[8]}(r)}function hw(r,s){let a=null;const c=function Wc(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const g=s[d];if("*"!==g){if(null===c?gr(r,g,!0):_f(c,g))return d}else a=d}return a}function fw(r){const s=de()[16][6];if(!s.projection){const c=s.projection=js(r?r.length:1,null),d=c.slice();let g=s.child;for(;null!==g;){const v=r?hw(g,r):0;null!==v&&(d[v]?d[v].projectionNext=g:c[v]=g,d[v]=g),g=g.next}}}function hd(r,s=0,a){const c=de(),d=st(),g=rh(d,20+r,16,null,a||null);null===g.projection&&(g.projection=s),Ls(),64!=(64&g.flags)&&function a0(r,s,a){xr(s[11],0,s,a,fn(r,a,s),r0(a.parent||s[6],a,s))}(d,c,g)}function dc(r,s,a){return Kf(r,"",s,"",a),dc}function Kf(r,s,a,c,d){const g=de(),v=nc(g,s,a,c);return v!==Tn&&Oo(st(),Pi(),g,r,v,g[11],d,!1),Kf}function bs(r,s,a,c,d){const g=r[a+1],v=null===s;let T=c?es(g):Mo(g),D=!1;for(;0!==T&&(!1===D||v);){const H=r[T+1];EC(r[T],s)&&(D=!0,r[T+1]=c?Ef(H):dg(H)),T=c?es(H):Mo(H)}D&&(r[a+1]=c?dg(g):Ef(g))}function EC(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&wa(r,s)>=0}const Es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mw(r){return r.substring(Es.key,Es.keyEnd)}function CC(r){return r.substring(Es.value,Es.valueEnd)}function _w(r,s){const a=Es.textEnd;return a===s?-1:(s=Es.keyEnd=function Bg(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Es.key=s,a),hc(r,s,a))}function cy(r,s){const a=Es.textEnd;let c=Es.key=hc(r,s,a);return a===c?-1:(c=Es.keyEnd=function Qf(r,s,a){let c;for(;s<a&&(45===(c=r.charCodeAt(s))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)s++;return s}(r,c,a),c=Jf(r,c,a),c=Es.value=hc(r,c,a),c=Es.valueEnd=function hy(r,s,a){let c=-1,d=-1,g=-1,v=s,T=v;for(;v<a;){const D=r.charCodeAt(v++);if(59===D)return T;34===D||39===D?T=v=jg(r,D,v,a):s===v-4&&85===g&&82===d&&76===c&&40===D?T=v=jg(r,41,v,a):D>32&&(T=v),g=d,d=c,c=-33&D}return T}(r,c,a),Jf(r,c,a))}function dy(r){Es.key=0,Es.keyEnd=0,Es.value=0,Es.valueEnd=0,Es.textEnd=r.length}function hc(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function Jf(r,s,a,c){return(s=hc(r,s,a))<a&&s++,s}function jg(r,s,a,c){let d=-1,g=a;for(;g<c;){const v=r.charCodeAt(g++);if(v==s&&92!==d)return g;d=92==v&&92===d?0:v}throw new Error}function Hg(r,s,a){return Da(r,s,a,!1),Hg}function fy(r,s){return Da(r,s,null,!0),fy}function Ia(r){ko(Gg,IC,r,!1)}function IC(r,s){for(let a=function uy(r){return dy(r),cy(r,hc(r,0,Es.textEnd))}(s);a>=0;a=cy(s,a))Gg(r,mw(s),CC(s))}function vw(r){ko(Yr,Nl,r,!0)}function Nl(r,s){for(let a=function TC(r){return dy(r),_w(r,hc(r,0,Es.textEnd))}(s);a>=0;a=_w(s,a))Yr(r,mw(s),!0)}function Da(r,s,a,c){const d=de(),g=st(),v=ps(2);g.firstUpdatePass&&$g(g,r,v,c),s!==Tn&&eo(d,v,s)&&zg(g,g.data[Vr()],d,d[11],r,d[v+1]=function gy(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ne(Xo(r)))),r}(s,a),c,v)}function ko(r,s,a,c){const d=st(),g=ps(2);d.firstUpdatePass&&$g(d,null,g,c);const v=de();if(a!==Tn&&eo(v,g,a)){const T=d.data[Vr()];if(my(T,c)&&!vh(d,g)){let D=c?T.classesWithoutHost:T.stylesWithoutHost;null!==D&&(a=re(D,a||"")),mu(d,T,v,a,c)}else!function wh(r,s,a,c,d,g,v,T){d===Tn&&(d=he);let D=0,U=0,H=0<d.length?d[0]:null,ie=0<g.length?g[0]:null;for(;null!==H||null!==ie;){const ve=D<d.length?d[D+1]:void 0,Ne=U<g.length?g[U+1]:void 0;let pt,Je=null;H===ie?(D+=2,U+=2,ve!==Ne&&(Je=ie,pt=Ne)):null===ie||null!==H&&H<ie?(D+=2,Je=H):(U+=2,Je=ie,pt=Ne),null!==Je&&zg(r,s,a,c,Je,pt,v,T),H=D<d.length?d[D]:null,ie=U<g.length?g[U]:null}}(d,T,v,v[11],v[g+1],v[g+1]=function ep(r,s,a){if(null==a||""===a)return he;const c=[],d=Xo(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)r(c,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&r(c,g,d[g]);else"string"==typeof d&&s(c,d);return c}(r,s,a),c,g)}}function vh(r,s){return s>=r.expandoStartIndex}function $g(r,s,a,c){const d=r.data;if(null===d[a+1]){const g=d[Vr()],v=vh(r,a);my(g,c)&&null===s&&!v&&(s=!1),s=function ww(r,s,a,c){const d=function ha(r){const s=Gt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let g=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Xf(a=py(null,r,s,a,c),s.attrs,c),g=null);else{const v=s.directiveStylingLast;if(-1===v||r[v]!==d)if(a=py(d,r,s,a,c),null===g){let D=function DC(r,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Mo(c))return r[es(c)]}(r,s,c);void 0!==D&&Array.isArray(D)&&(D=py(null,r,s,D[1],c),D=Xf(D,s.attrs,c),function SC(r,s,a,c){r[es(a?s.classBindings:s.styleBindings)]=c}(r,s,c,D))}else g=function AC(r,s,a){let c;const d=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<d;g++)c=Xf(c,r[g].hostAttrs,a);return Xf(c,s.attrs,a)}(r,s,c)}return void 0!==g&&(c?s.residualClasses=g:s.residualStyles=g),a}(d,g,s,c),function bC(r,s,a,c,d,g){let v=g?s.classBindings:s.styleBindings,T=es(v),D=Mo(v);r[c]=a;let H,U=!1;if(Array.isArray(a)){const ie=a;H=ie[1],(null===H||wa(ie,H)>0)&&(U=!0)}else H=a;if(d)if(0!==D){const ve=es(r[T+1]);r[c+1]=Ml(ve,T),0!==ve&&(r[ve+1]=bf(r[ve+1],c)),r[T+1]=function Zu(r,s){return 131071&r|s<<17}(r[T+1],c)}else r[c+1]=Ml(T,0),0!==T&&(r[T+1]=bf(r[T+1],c)),T=c;else r[c+1]=Ml(D,0),0===T?T=c:r[D+1]=bf(r[D+1],c),D=c;U&&(r[c+1]=dg(r[c+1])),bs(r,H,c,!0),bs(r,H,c,!1),function ly(r,s,a,c,d){const g=d?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof s&&wa(g,s)>=0&&(a[c+1]=Ef(a[c+1]))}(s,H,r,c,g),v=Ml(T,D),g?s.classBindings=v:s.styleBindings=v}(d,g,s,a,v,c)}}function py(r,s,a,c,d){let g=null;const v=a.directiveEnd;let T=a.directiveStylingLast;for(-1===T?T=a.directiveStart:T++;T<v&&(g=s[T],c=Xf(c,g.hostAttrs,d),g!==r);)T++;return null!==r&&(a.directiveStylingLast=T),c}function Xf(r,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?d=v:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Yr(r,v,!!a||s[++g]))}return void 0===r?null:r}function Gg(r,s,a){Yr(r,s,Xo(a))}function zg(r,s,a,c,d,g,v,T){if(!(3&s.type))return;const D=r.data,U=D[T+1];fc(function Wu(r){return 1==(1&r)}(U)?tp(D,s,a,d,Mo(U),v):void 0)||(fc(g)||function th(r){return 2==(2&r)}(U)&&(g=tp(D,null,a,d,T,v)),function l0(r,s,a,c,d){const g=Cn(r);if(s)d?g?r.addClass(a,c):a.classList.add(c):g?r.removeClass(a,c):a.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:Y.DashCase;if(null==d)g?r.removeStyle(a,c,v):a.style.removeProperty(c);else{const T="string"==typeof d&&d.endsWith("!important");T&&(d=d.slice(0,-10),v|=Y.Important),g?r.setStyle(a,c,d,v):a.style.setProperty(c,d,T?"important":"")}}}(c,v,qe(Vr(),a),d,g))}function tp(r,s,a,c,d,g){const v=null===s;let T;for(;d>0;){const D=r[d],U=Array.isArray(D),H=U?D[1]:D,ie=null===H;let ve=a[d+1];ve===Tn&&(ve=ie?he:void 0);let Ne=ie?Kl(ve,c):H===c?ve:void 0;if(U&&!fc(Ne)&&(Ne=Kl(D,c)),fc(Ne)&&(T=Ne,v))return T;const Je=r[d+1];d=v?es(Je):Mo(Je)}if(null!==s){let D=g?s.residualClasses:s.residualStyles;null!=D&&(T=Kl(D,c))}return T}function fc(r){return void 0!==r}function my(r,s){return 0!=(r.flags&(s?16:32))}function qg(r,s=""){const a=de(),c=st(),d=r+20,g=c.firstCreatePass?rh(c,d,1,s,null):c.data[d],v=a[d]=function Xd(r,s){return Cn(r)?r.createText(s):r.createTextNode(s)}(a[11],s);ug(c,a,v,g),fr(g,!1)}function np(r){return Qa("",r,""),np}function Qa(r,s,a){const c=de(),d=nc(c,r,s,a);return d!==Tn&&sa(c,Vr(),d),Qa}function Zg(r,s,a,c,d){const g=de(),v=ic(g,r,s,a,c,d);return v!==Tn&&sa(g,Vr(),v),Zg}const yu=void 0;var Dy=["en",[["a","p"],["AM","PM"],yu],[["AM","PM"],yu,yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yu,"{1} 'at' {0}",yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iy(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let pc={};function Sy(r){const s=function Pw(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Ow(s);if(a)return a;const c=s.split("-")[0];if(a=Ow(c),a)return a;if("en"===c)return Dy;throw new Error(`Missing locale data for the locale "${r}".`)}function em(r){return Sy(r)[sn.PluralCase]}function Ow(r){return r in pc||(pc[r]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[r]),pc[r]}var sn=(()=>((sn=sn||{})[sn.LocaleId=0]="LocaleId",sn[sn.DayPeriodsFormat=1]="DayPeriodsFormat",sn[sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",sn[sn.DaysFormat=3]="DaysFormat",sn[sn.DaysStandalone=4]="DaysStandalone",sn[sn.MonthsFormat=5]="MonthsFormat",sn[sn.MonthsStandalone=6]="MonthsStandalone",sn[sn.Eras=7]="Eras",sn[sn.FirstDayOfWeek=8]="FirstDayOfWeek",sn[sn.WeekendRange=9]="WeekendRange",sn[sn.DateFormat=10]="DateFormat",sn[sn.TimeFormat=11]="TimeFormat",sn[sn.DateTimeFormat=12]="DateTimeFormat",sn[sn.NumberSymbols=13]="NumberSymbols",sn[sn.NumberFormats=14]="NumberFormats",sn[sn.CurrencyCode=15]="CurrencyCode",sn[sn.CurrencySymbol=16]="CurrencySymbol",sn[sn.CurrencyName=17]="CurrencyName",sn[sn.Currencies=18]="Currencies",sn[sn.Directionality=19]="Directionality",sn[sn.PluralCase=20]="PluralCase",sn[sn.ExtraData=21]="ExtraData",sn))();const rp="en-US";let im=rp;function ap(r,s,a,c,d){if(r=fe(r),Array.isArray(r))for(let g=0;g<r.length;g++)ap(r[g],s,a,c,d);else{const g=st(),v=de();let T=rd(r)?r:fe(r.provide),D=qa(r);const U=xn(),H=1048575&U.providerIndexes,ie=U.directiveStart,ve=U.providerIndexes>>20;if(rd(r)||!r.multi){const Ne=new Gi(D,d,zf),Je=fm(T,s,d?H:H+ve,ie);-1===Je?(C(gs(U,v),g,T),hm(g,r,s.length),s.push(T),U.directiveStart++,U.directiveEnd++,d&&(U.providerIndexes+=1048576),a.push(Ne),v.push(Ne)):(a[Je]=Ne,v[Je]=Ne)}else{const Ne=fm(T,s,H+ve,ie),Je=fm(T,s,H,H+ve),pt=Ne>=0&&a[Ne],bt=Je>=0&&a[Je];if(d&&!bt||!d&&!pt){C(gs(U,v),g,T);const Vt=function eb(r,s,a,c,d){const g=new Gi(r,a,zf);return g.multi=[],g.index=s,g.componentProviders=0,Xy(g,d,c&&!a),g}(d?Yn:pm,a.length,d,c,D);!d&&bt&&(a[Je].providerFactory=Vt),hm(g,r,s.length,0),s.push(T),U.directiveStart++,U.directiveEnd++,d&&(U.providerIndexes+=1048576),a.push(Vt),v.push(Vt)}else hm(g,r,Ne>-1?Ne:Je,Xy(a[d?Je:Ne],D,!d&&c));!d&&c&&bt&&a[Je].componentProviders++}}}function hm(r,s,a,c){const d=rd(s),g=function B0(r){return!!r.useClass}(s);if(d||g){const D=(g?fe(s.useClass):s).prototype.ngOnDestroy;if(D){const U=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const H=U.indexOf(a);-1===H?U.push(a,[c,D]):U[H+1].push(c,D)}else U.push(a,D)}}}function Xy(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function fm(r,s,a,c){for(let d=a;d<c;d++)if(s[d]===r)return d;return-1}function pm(r,s,a,c){return gm(this.multi,[])}function Yn(r,s,a,c){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=dn(a,a[1],this.providerFactory.index,c);g=T.slice(0,v),gm(d,g);for(let D=v;D<T.length;D++)g.push(T[D])}else g=[],gm(d,g);return g}function gm(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Sh(r,s=[]){return a=>{a.providersResolver=(c,d)=>function Xw(r,s,a){const c=st();if(c.firstCreatePass){const d=Er(r);ap(a,c.data,c.blueprint,d,!0),ap(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class Fi{}class iT{resolveComponentFactory(s){throw function to(r){const s=Error(`No component factory found for ${ne(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let vd=(()=>{class r{}return r.NULL=new iT,r})();function tb(){return wd(xn(),de())}function wd(r,s){return new lp(nt(r,s))}let lp=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=tb,r})();function ev(r){return r instanceof lp?r.nativeElement:r}class nb{}let sr=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function WI(){const r=de(),a=nn(xn().index,r);return function ZI(r){return r[11]}(Oi(a)?a:r)}(),r})(),is=(()=>{class r{}return r.\u0275prov=ft({token:r,providedIn:"root",factory:()=>null}),r})();class tv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ib=new tv("13.3.11"),nv={};function up(r,s,a,c,d=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&c.push(P(g)),Nr(g))for(let T=10;T<g.length;T++){const D=g[T],U=D[1].firstChild;null!==U&&up(D[1],D,U,c)}const v=a.type;if(8&v)up(r,s,a.child,c);else if(32&v){const T=Ke(a,s);let D;for(;D=T();)c.push(D)}else if(16&v){const T=xo(s,a);if(Array.isArray(T))c.push(...T);else{const D=Rt(s[16]);up(D[1],D,T,c,!0)}}a=d?a.projectionNext:a.next}return c}class cp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return up(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Nr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(ht(s,c),Wi(a,c))}this._attachedToViewContainer=!1}Br(this._lView[1],this._lView)}onDestroy(s){vg(this._lView[1],this._lView,null,s)}markForCheck(){zn(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Pl(r,s,a){const c=s[10];c.begin&&c.begin();try{Xc(r,s,r.template,a)}catch(d){throw Rf(s,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ms(r,s){xl(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=s}}class rT extends cp{constructor(s){super(s),this._view=s}detectChanges(){P0(this._view)}checkNoChanges(){}get context(){return null}}class rb extends vd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=li(s);return new iv(a,this.ngModule)}}function sb(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class iv extends Fi{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function yf(r){return r.map(fu).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return sb(this.componentDef.inputs)}get outputs(){return sb(this.componentDef.outputs)}create(s,a,c,d){const g=(d=d||this.ngModule)?function sT(r,s){return{get:(a,c,d)=>{const g=r.get(a,nv,d);return g!==nv||c===nv?g:s.get(a,c,d)}}}(s,d.injector):s,v=g.get(nb,R),T=g.get(is,null),D=v.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",H=c?function yg(r,s,a){if(Cn(r))return r.selectRootElement(s,a===_t.ShadowDom);let c="string"==typeof s?r.querySelector(s):s;return c.textContent="",c}(D,c,this.componentDef.encapsulation):hu(v.createRenderer(null,this.componentDef),U,function KI(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(U)),ie=this.componentDef.onPush?576:528,ve=function Z0(r,s){return{components:[],scheduler:r||cu,clean:eC,playerHandler:s||null,flags:0}}(),Ne=uo(0,null,null,1,0,null,null,null,null,null),Je=Ol(null,Ne,ve,ie,null,null,v,D,T,g);let pt,bt;Co(Je);try{const Vt=function z0(r,s,a,c,d,g){const v=a[1];a[20]=r;const D=rh(v,20,2,"#host",null),U=D.mergedAttrs=s.hostAttrs;null!==U&&(id(D,U,!0),null!==r&&(Io(d,r,U),null!==D.classes&&cg(d,r,D.classes),null!==D.styles&&zu(d,r,D.styles)));const H=c.createRenderer(r,s),ie=Ol(a,ed(s),null,s.onPush?64:16,a[20],D,c,H,g||null,null);return v.firstCreatePass&&(C(gs(D,a),v,s.type),I0(v,D),Mf(D,a.length,1)),mr(a,ie),a[20]=ie}(H,this.componentDef,Je,v,D);if(H)if(c)Io(D,H,["ng-version",ib.full]);else{const{attrs:rt,classes:Qt}=function vf(r){const s=[],a=[];let c=1,d=2;for(;c<r.length;){let g=r[c];if("string"==typeof g)2===d?""!==g&&s.push(g,r[++c]):8===d&&a.push(g);else{if(!Ga(d))break;d=g}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);rt&&Io(D,H,rt),Qt&&Qt.length>0&&cg(D,H,Qt.join(" "))}if(bt=Jt(Ne,20),void 0!==a){const rt=bt.projection=[];for(let Qt=0;Qt<this.ngContentSelectors.length;Qt++){const Pn=a[Qt];rt.push(null!=Pn?Array.from(Pn):null)}}pt=function q0(r,s,a,c,d){const g=a[1],v=function td(r,s,a){const c=xn();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Of(r,c,s,Jc(r,s,1,null),a));const d=dn(s,r,c.directiveStart,c);Ar(d,s);const g=nt(c,s);return g&&Ar(g,s),d}(g,a,s);if(c.components.push(v),r[8]=v,d&&d.forEach(D=>D(v,s)),s.contentQueries){const D=xn();s.contentQueries(1,v,D.directiveStart)}const T=xn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ga(T.index),Xu(a[1],T,0,T.directiveStart,T.directiveEnd,s),b_(s,v)),v}(Vt,this.componentDef,Je,ve,[uC]),ra(Ne,Je,null)}finally{pa()}return new YI(this.componentType,pt,wd(bt,Je),Je,bt)}}class YI extends class tT{}{constructor(s,a,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new rT(d),this.componentType=s}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Sa{}class dp{}const Ah=new Map;class hp extends Sa{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rb(this);const c=Qn(s);this._bootstrapComponents=y(c.bootstrap),this._r3Injector=L0(s,a,[{provide:Sa,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],ne(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ta.THROW_IF_NOT_FOUND,c=$t.Default){return s===Ta||s===Sa||s===T_?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class bd extends dp{constructor(s){super(),this.moduleType=s,null!==Qn(s)&&function ab(r){const s=new Set;!function a(c){const d=Qn(c,!0),g=d.id;null!==g&&(function rv(r,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${r} - ${ne(s)} vs ${ne(s.name)}`)}(g,Ah.get(g),c),Ah.set(g,c));const v=y(d.imports);for(const T of v)s.has(T)||(s.add(T),a(T))}(r)}(s)}create(s){return new hp(this.moduleType,s)}}function ov(r,s,a){const c=Lr()+r,d=de();return d[c]===Tn?Ro(d,c,a?s.call(a):s()):Ka(d,c)}function mm(r,s,a,c){return ym(de(),Lr(),r,s,a,c)}function ub(r,s,a,c,d){return function vm(r,s,a,c,d,g,v){const T=s+a;return oa(r,T,d,g)?Ro(r,T+2,v?c.call(v,d,g):c(d,g)):Mh(r,T+2)}(de(),Lr(),r,s,a,c,d)}function cb(r,s,a,c,d,g){return function fb(r,s,a,c,d,g,v,T){const D=s+a;return function Bf(r,s,a,c,d){const g=oa(r,s,a,c);return eo(r,s+2,d)||g}(r,D,d,g,v)?Ro(r,D+3,T?c.call(T,d,g,v):c(d,g,v)):Mh(r,D+3)}(de(),Lr(),r,s,a,c,d,g)}function db(r,s,a,c,d,g,v){return function fp(r,s,a,c,d,g,v,T,D){const U=s+a;return No(r,U,d,g,v,T)?Ro(r,U+4,D?c.call(D,d,g,v,T):c(d,g,v,T)):Mh(r,U+4)}(de(),Lr(),r,s,a,c,d,g,v)}function _m(r,s,a,c,d,g,v,T){const D=Lr()+r,U=de(),H=No(U,D,a,c,d,g);return eo(U,D+4,v)||H?Ro(U,D+5,T?s.call(T,a,c,d,g,v):s(a,c,d,g,v)):Ka(U,D+5)}function lv(r,s,a,c){return function pp(r,s,a,c,d,g){let v=s+a,T=!1;for(let D=0;D<d.length;D++)eo(r,v++,d[D])&&(T=!0);return T?Ro(r,v,c.apply(g,d)):Mh(r,v)}(de(),Lr(),r,s,a,c)}function Mh(r,s){const a=r[s];return a===Tn?void 0:a}function ym(r,s,a,c,d,g){const v=s+a;return eo(r,v,d)?Ro(r,v+1,g?c.call(g,d):c(d)):Mh(r,v+1)}function uv(r,s){const a=st();let c;const d=r+20;a.firstCreatePass?(c=function gp(r,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(r===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const g=c.factory||(c.factory=Ei(c.type)),v=bn(zf);try{const T=Wr(!1),D=g();return Wr(T),function B_(r,s,a,c){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=c}(a,de(),d,D),D}finally{bn(v)}}function pb(r,s,a){const c=r+20,d=de(),g=On(d,c);return function Aa(r,s){return r[1].data[s].pure}(d,c)?ym(d,Lr(),s,g.transform,a,g):g.transform(a)}function bm(r){return s=>{setTimeout(r,void 0,s)}}const Xa=class oT extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,g,v;let T=s,D=a||(()=>null),U=c;if(s&&"object"==typeof s){const ie=s;T=null===(d=ie.next)||void 0===d?void 0:d.bind(ie),D=null===(g=ie.error)||void 0===g?void 0:g.bind(ie),U=null===(v=ie.complete)||void 0===v?void 0:v.bind(ie)}this.__isAsync&&(D=bm(D),T&&(T=bm(T)),U&&(U=bm(U)));const H=super.subscribe({next:T,error:D,complete:U});return s instanceof u.w0&&s.add(H),H}};function _p(){return this._results[od()]()}class Vl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=od(),c=Vl.prototype;c[a]||(c[a]=_p)}get changes(){return this._changes||(this._changes=new Xa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=Kr(s);(this._changesDetected=!function Ac(r,s,a){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],g=s[c];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let yp=(()=>{class r{}return r.__NG_ELEMENT_ID__=uT,r})();const aT=yp,lT=class extends aT{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Ol(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(a)),ra(a,c,s),new cp(c)}};function uT(){return vp(xn(),de())}function vp(r,s){return 4&r.type?new lT(s,r,wd(r,s)):null}let Em=(()=>{class r{}return r.__NG_ELEMENT_ID__=cT,r})();function cT(){return yb(xn(),de())}const gb=Em,mb=class extends gb{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const s=I(this._hostTNode,this._hostLView);if(Si(s)){const a=Ur(s,this._hostLView),c=zo(s);return new Ni(a[1].data[c+8],a)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=_b(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,g){const v=s&&!function Ou(r){return"function"==typeof r}(s);let T;if(v)T=a;else{const ie=a||{};T=ie.index,c=ie.injector,d=ie.projectableNodes,g=ie.ngModuleRef}const D=v?s:new iv(li(s)),U=c||this.parentInjector;if(!g&&null==D.ngModule){const ve=(v?U:this.parentInjector).get(Sa,null);ve&&(g=ve)}const H=D.create(U,d,void 0,g);return this.insert(H.hostView,T),H}insert(s,a){const c=s._lView,d=c[1];if(function kn(r){return Nr(r[3])}(c)){const H=this.indexOf(s);if(-1!==H)this.detach(H);else{const ie=c[3],ve=new mb(ie,ie[6],ie[3]);ve.detach(ve.indexOf(s))}}const g=this._adjustIndex(a),v=this._lContainer;!function Al(r,s,a,c){const d=10+c,g=a.length;c>0&&(a[d-1][4]=s),c<g-10?(s[4]=a[d],Pu(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function i_(r,s){const a=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===a?r[9]=[s]:a.push(s)}(v,s);const T=s[19];null!==T&&T.insertView(r),s[2]|=128}(d,c,v,g);const T=l_(g,v),D=c[11],U=mf(D,v[7]);return null!==U&&function gf(r,s,a,c,d,g){c[0]=d,c[6]=s,xl(r,c,a,1,d,g)}(d,v[6],D,c,U,T),s.attachToViewContainerRef(),Pu(Cm(v),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=_b(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=ht(this._lContainer,a);c&&(Wi(Cm(this._lContainer),a),Br(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=ht(this._lContainer,a);return c&&null!=Wi(Cm(this._lContainer),a)?new cp(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function _b(r){return r[8]}function Cm(r){return r[8]||(r[8]=[])}function yb(r,s){let a;const c=s[r.index];if(Nr(c))a=c;else{let d;if(8&r.type)d=P(c);else{const g=s[11];d=g.createComment("");const v=nt(r,s);yt(g,mf(g,v),d,function VE(r,s){return Cn(r)?r.nextSibling(s):s.nextSibling}(g,v),!1)}s[r.index]=a=ec(c,s,d,r),mr(s,a)}return new mb(a,r,s)}class Tm{constructor(s){this.queryList=s,this.matches=null}clone(){return new Tm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Im{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let g=0;g<c;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Im(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==hv(s,a).matches&&this.queries[a].setDirty()}}class wb{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class wp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(s,d);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new wp(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Oh{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Oh(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(s,a,fT(a,g)),this.matchTNodeWithReadOption(s,a,Et(a,s,g,!1,!1))}else c===yp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Et(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===lp||d===Em||d===yp&&4&a.type)this.addMatch(a.index,-2);else{const g=Et(a,s,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function fT(r,s){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function mc(r,s,a,c){return-1===a?function bb(r,s){return 11&r.type?wd(r,s):4&r.type?vp(r,s):null}(s,r):-2===a?function pT(r,s,a){return a===lp?wd(s,r):a===yp?vp(s,r):a===Em?yb(s,r):void 0}(r,s,c):dn(r,r[1],a,s)}function _c(r,s,a,c){const d=s[19].queries[c];if(null===d.matches){const g=r.data,v=a.matches,T=[];for(let D=0;D<v.length;D+=2){const U=v[D];T.push(U<0?null:mc(s,g[U],v[D+1],a.metadata.read))}d.matches=T}return d.matches}function cv(r,s,a,c){const d=r.queries.getByIndex(a),g=d.matches;if(null!==g){const v=_c(r,s,d,a);for(let T=0;T<g.length;T+=2){const D=g[T];if(D>0)c.push(v[T/2]);else{const U=g[T+1],H=s[-D];for(let ie=10;ie<H.length;ie++){const ve=H[ie];ve[17]===ve[3]&&cv(ve[1],ve,U,c)}if(null!==H[9]){const ie=H[9];for(let ve=0;ve<ie.length;ve++){const Ne=ie[ve];cv(Ne[1],Ne,U,c)}}}}}return c}function Eb(r){const s=de(),a=st(),c=Gl();Pa(c+1);const d=hv(a,c);if(r.dirty&&_n(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const g=d.crossesNgTemplate?cv(a,s,c,[]):_c(a,s,d,c);r.reset(g,ev),r.notifyOnChanges()}return!0}return!1}function Cb(r,s,a){const c=st();c.firstCreatePass&&(Sb(c,new wb(r,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),dv(c,de(),s)}function Tb(r,s,a,c){const d=st();if(d.firstCreatePass){const g=xn();Sb(d,new wb(s,a,c),g.index),function gT(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}dv(d,de(),a)}function Ib(){return function Db(r,s){return r[19].queries[s].queryList}(de(),Gl())}function dv(r,s,a){const c=new Vl(4==(4&a));vg(r,s,c,c.destroy),null===s[19]&&(s[19]=new Im),s[19].queries.push(new Tm(c))}function Sb(r,s,a){null===r.queries&&(r.queries=new wp),r.queries.track(new Oh(s,a))}function hv(r,s){return r.queries.getByIndex(s)}function Ab(r,s){return vp(r,s)}function Nh(...r){}const Sp=new qi("Application Initializer");let yv=(()=>{class r{constructor(a){this.appInits=a,this.resolve=Nh,this.reject=Nh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(ty(g))a.push(g);else if(ny(g)){const v=new Promise((T,D)=>{g.subscribe({complete:T,error:D})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Lt(Sp,8))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const ST=new qi("AppId",{providedIn:"root",factory:function kb(){return`${Lb()}${Lb()}${Lb()}`}});function Lb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AT=new qi("Platform Initializer"),xT=new qi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vb=new qi("appBootstrapListener");let sD=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ub=new qi("LocaleId",{providedIn:"root",factory:()=>Vn(Ub,$t.Optional|$t.SkipSelf)||function oD(){return"undefined"!=typeof $localize&&$localize.locale||rp}()}),aD=new qi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Bb{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let MT=(()=>{class r{compileModuleSync(a){return new bd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=y(Qn(a).declarations).reduce((v,T)=>{const D=li(T);return D&&v.push(new iv(D)),v},[]);return new Bb(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const tl=(()=>Promise.resolve(0))();function kh(r){"undefined"==typeof Zone?tl.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class nl{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function vv(){let r=Dn.requestAnimationFrame,s=Dn.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function RT(r){const s=()=>{!function jb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Dn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,bv(r),r.isCheckStableRunning=!0,wv(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),bv(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,g,v,T)=>{try{return Hb(r),a.invokeTask(d,g,v,T)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&s(),$b(r)}},onInvoke:(a,c,d,g,v,T,D)=>{try{return Hb(r),a.invoke(d,g,v,T,D)}finally{r.shouldCoalesceRunChangeDetection&&s(),$b(r)}},onHasTask:(a,c,d,g)=>{a.hasTask(d,g),c===d&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,bv(r),wv(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,d,g)=>(a.handleError(d,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,s,PT,Nh,Nh);try{return g.runTask(v,a,c)}finally{g.cancelTask(v)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const PT={};function wv(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function bv(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Hb(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function $b(r){r._nesting--,wv(r)}class ho{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let Ap=(()=>{class r{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nl.assertNotInAngularZone(),kh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kh(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(Lt(nl))},r.\u0275prov=ft({token:r,factory:r.\u0275fac}),r})(),Gb=(()=>{class r{constructor(){this._applications=new Map,Fh.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Fh.findTestabilityInTree(this,a,c)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();class NT{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function Ev(r){Fh=r}let Fh=new NT,bu=null;const Rm=new qi("AllowMultipleToken"),zb=new qi("PlatformOnDestroy");class LT{constructor(s,a){this.name=s,this.token=a}}function Cv(r,s,a=[]){const c=`Platform: ${s}`,d=new qi(c);return(g=[])=>{let v=Tv();if(!v||v.injector.get(Rm,!1)){const T=[...a,...g,{provide:d,useValue:!0}];r?r(T):function xp(r){if(bu&&!bu.get(Rm,!1))throw new Fe(400,"");bu=r;const s=r.get(Zb),a=r.get(AT,null);a&&a.forEach(c=>c())}(function qb(r=[],s){return Ta.create({name:s,providers:[{provide:Ig,useValue:"platform"},{provide:zb,useValue:()=>bu=null},...r]})}(T,c))}return function Nm(r){const s=Tv();if(!s)throw new Fe(401,"");return s}()}}function Tv(){var r;return null!==(r=null==bu?void 0:bu.get(Zb))&&void 0!==r?r:null}let Zb=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const T=function VT(r,s){let a;return a="noop"===r?new ho:("zone.js"===r?void 0:r)||new nl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),D=[{provide:nl,useValue:T}];return T.run(()=>{const U=Ta.create({providers:D,parent:this.injector,name:a.moduleType.name}),H=a.create(U),ie=H.injector.get(Wd,null);if(!ie)throw new Fe(402,"");return T.runOutsideAngular(()=>{const ve=T.onError.subscribe({next:Ne=>{ie.handleError(Ne)}});H.onDestroy(()=>{Mp(this._modules,H),ve.unsubscribe()})}),function Wb(r,s,a){try{const c=a();return ty(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(ie,T,()=>{const ve=H.injector.get(yv);return ve.runInitializers(),ve.donePromise.then(()=>(function Ay(r){un(r,"Expected localeId to be defined"),"string"==typeof r&&(im=r.toLowerCase().replace(/_/g,"-"))}(H.injector.get(Ub,rp)||rp),this._moduleDoBootstrap(H),H))})})}bootstrapModule(a,c=[]){const d=km({},c);return function kT(r,s,a){const c=new bd(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const c=a.injector.get(Fm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Fe(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(zb,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Lt(Ta))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function km(r,s){return Array.isArray(s)?s.reduce(km,r):Object.assign(Object.assign({},r),s)}let Fm=(()=>{class r{constructor(a,c,d,g){this._zone=a,this._injector=c,this._exceptionHandler=d,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new j.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),T=new j.y(D=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{nl.assertNotInAngularZone(),kh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{U.unsubscribe(),H.unsubscribe()}});this.isStable=(0,ae.T)(v,T.pipe((0,B.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Fe(405,"");let d;d=a instanceof Fi?a:this._injector.get(vd).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function FT(r){return r.isBoundToModule}(d)?void 0:this._injector.get(Sa),T=d.create(Ta.NULL,[],c||d.selector,g),D=T.location.nativeElement,U=T.injector.get(Ap,null),H=U&&T.injector.get(Gb);return U&&H&&H.registerApplication(D,U),T.onDestroy(()=>{this.detachView(T.hostView),Mp(this.components,T),H&&H.unregisterApplication(D)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Mp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Vb,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(a){return new(a||r)(Lt(nl),Lt(Ta),Lt(Wd),Lt(yv))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Mp(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let Kb=!0,Lm=!1;function Yb(){return Lm=!0,Kb}function UT(){if(Lm)throw new Error("Cannot enable prod mode after platform setup.");Kb=!1}let Sv=(()=>{class r{}return r.__NG_ELEMENT_ID__=jT,r})();function jT(r){return function HT(r,s,a){if(Fo(r)&&!a){const c=nn(r.index,s);return new cp(c,c)}return 47&r.type?new cp(s[16],s):null}(xn(),de(),16==(16&r))}class jm{constructor(){}supports(s){return Ze(s)}create(s){return new ZT(s)}}const qT=(r,s)=>s;class ZT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||qT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,g=null;for(;a||c;){const v=!c||a&&a.currentIndex<kv(c,d,g)?a:c,T=kv(v,d,g),D=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const U=T-d,H=D-d;if(U!=H){for(let ve=0;ve<U;ve++){const Ne=ve<g.length?g[ve]:g[ve]=0,Je=Ne+ve;H<=Je&&Je<U&&(g[ve]=Ne+1)}g[v.previousIndex]=H-U}}T!==D&&s(v,T,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ze(s))throw new Fe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,g,v,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let T=0;T<this.length;T++)g=s[T],v=this._trackByFn(T,g),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,g,v,T)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,T),c=!0),a=a._next}else d=0,function Wa(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[od()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,T=>{v=this._trackByFn(d,T),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,T,v,d)),Object.is(a.item,T)||this._addIdentityChange(a,T)):(a=this._mismatch(a,T,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,d)):s=this._addAfter(new WT(a,c),g,d),s}_verifyReinsertion(s,a,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?s=this._reinsertAfter(g,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,g=s._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Nv),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nv),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class WT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Nv{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new sE,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kv(r,s,a){const c=r.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Fv{constructor(){}supports(s){return s instanceof Map||F_(s)}create(){return new oE}}class oE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||F_(s)))throw new Fe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const c=new hD(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class hD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aE(){return new lE([new jm])}let lE=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||aE()),deps:[[r,new ja,new Qs]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Fe(901,"")}}return r.\u0275prov=ft({token:r,providedIn:"root",factory:aE}),r})();function Hm(){return new uE([new Fv])}let uE=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Hm()),deps:[[r,new ja,new Qs]]}}find(a){const c=this.factories.find(g=>g.supports(a));if(c)return c;throw new Fe(901,"")}}return r.\u0275prov=ft({token:r,providedIn:"root",factory:Hm}),r})();const Lv=Cv(null,"core",[]);let $m=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Lt(Fm))},r.\u0275mod=Ui({type:r}),r.\u0275inj=jt({}),r})()},2382:(lt,Se,F)=>{"use strict";F.d(Se,{Fj:()=>Le,qu:()=>Ws,NI:()=>Mn,u:()=>Is,sg:()=>ds,u5:()=>Gt,JU:()=>Fe,JJ:()=>vi,JL:()=>ar,On:()=>ur,wV:()=>nr,UX:()=>hr,kI:()=>He,_Y:()=>Lo});var p=F(5e3),u=F(9808),j=F(8306),ae=F(4742),B=F(8421),J=F(3269),Q=F(5403),ne=F(3268),re=F(1810),X=F(8996),fe=F(4004);let $e=(()=>{class k{constructor(A,q){this._renderer=A,this._elementRef=q,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(A,q){this._renderer.setProperty(this._elementRef.nativeElement,A,q)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return k.\u0275fac=function(A){return new(A||k)(p.Y36(p.Qsj),p.Y36(p.SBq))},k.\u0275dir=p.lG2({type:k}),k})(),ke=(()=>{class k extends $e{}return k.\u0275fac=function(){let O;return function(q){return(O||(O=p.n5z(k)))(q||k)}}(),k.\u0275dir=p.lG2({type:k,features:[p.qOj]}),k})();const Fe=new p.OlP("NgValueAccessor"),ce={provide:Fe,useExisting:(0,p.Gpc)(()=>Le),multi:!0},et=new p.OlP("CompositionEventMode");let Le=(()=>{class k extends $e{constructor(A,q,de){super(A,q),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ye(){const k=(0,u.q)()?(0,u.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(A){this.setProperty("value",null==A?"":A)}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return k.\u0275fac=function(A){return new(A||k)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(et,8))},k.\u0275dir=p.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,q){1&A&&p.NdJ("input",function(st){return q._handleInput(st.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(st){return q._compositionEnd(st.target.value)})},features:[p._Bn([ce]),p.qOj]}),k})();function Z(k){return null==k||0===k.length}function De(k){return null!=k&&"number"==typeof k.length}const ue=new p.OlP("NgValidators"),Ce=new p.OlP("NgAsyncValidators"),oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class He{static min(O){return function _e(k){return O=>{if(Z(O.value)||Z(k))return null;const A=parseFloat(O.value);return!isNaN(A)&&A<k?{min:{min:k,actual:O.value}}:null}}(O)}static max(O){return function Me(k){return O=>{if(Z(O.value)||Z(k))return null;const A=parseFloat(O.value);return!isNaN(A)&&A>k?{max:{max:k,actual:O.value}}:null}}(O)}static required(O){return function Oe(k){return Z(k.value)?{required:!0}:null}(O)}static requiredTrue(O){return function ze(k){return!0===k.value?null:{required:!0}}(O)}static email(O){return function je(k){return Z(k.value)||oe.test(k.value)?null:{email:!0}}(O)}static minLength(O){return function at(k){return O=>Z(O.value)||!De(O.value)?null:O.value.length<k?{minlength:{requiredLength:k,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function Nt(k){return O=>De(O.value)&&O.value.length>k?{maxlength:{requiredLength:k,actualLength:O.value.length}}:null}(O)}static pattern(O){return function wn(k){if(!k)return un;let O,A;return"string"==typeof k?(A="","^"!==k.charAt(0)&&(A+="^"),A+=k,"$"!==k.charAt(k.length-1)&&(A+="$"),O=new RegExp(A)):(A=k.toString(),O=k),q=>{if(Z(q.value))return null;const de=q.value;return O.test(de)?null:{pattern:{requiredPattern:A,actualValue:de}}}}(O)}static nullValidator(O){return null}static compose(O){return jt(O)}static composeAsync(O){return An(O)}}function un(k){return null}function Ve(k){return null!=k}function Ct(k){const O=(0,p.QGY)(k)?(0,X.D)(k):k;return(0,p.CqO)(O),O}function Ie(k){let O={};return k.forEach(A=>{O=null!=A?Object.assign(Object.assign({},O),A):O}),0===Object.keys(O).length?null:O}function ct(k,O){return O.map(A=>A(k))}function Xt(k){return k.map(O=>function ft(k){return!k.validate}(O)?O:A=>O.validate(A))}function jt(k){if(!k)return null;const O=k.filter(Ve);return 0==O.length?null:function(A){return Ie(ct(A,O))}}function Yt(k){return null!=k?jt(Xt(k)):null}function An(k){if(!k)return null;const O=k.filter(Ve);return 0==O.length?null:function(A){return function ee(...k){const O=(0,J.jO)(k),{args:A,keys:q}=(0,ae.D)(k),de=new j.y(st=>{const{length:an}=A;if(!an)return void st.complete();const xn=new Array(an);let Tr=an,fs=an;for(let fr=0;fr<an;fr++){let As=!1;(0,B.Xf)(A[fr]).subscribe((0,Q.x)(st,Ls=>{As||(As=!0,fs--),xn[fr]=Ls},()=>Tr--,void 0,()=>{(!Tr||!As)&&(fs||st.next(q?(0,re.n)(q,xn):xn),st.complete())}))}});return O?de.pipe((0,ne.Z)(O)):de}(ct(A,O).map(Ct)).pipe((0,fe.U)(Ie))}}function mn(k){return null!=k?An(Xt(k)):null}function Zn(k,O){return null===k?[O]:Array.isArray(k)?[...k,O]:[k,O]}function oi(k){return k._rawValidators}function Li(k){return k._rawAsyncValidators}function or(k){return k?Array.isArray(k)?k:[k]:[]}function Ci(k,O){return Array.isArray(k)?k.includes(O):k===O}function Or(k,O){const A=or(O);return or(k).forEach(de=>{Ci(A,de)||A.push(de)}),A}function $t(k,O){return or(O).filter(A=>!Ci(k,A))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Yt(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,A){return!!this.control&&this.control.hasError(O,A)}getError(O,A){return this.control?this.control.getError(O,A):null}}class Bn extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bn extends yr{get formDirective(){return null}get path(){return null}}class ss{constructor(O){this._cd=O}is(O){var A,q,de;return"submitted"===O?!!(null===(A=this._cd)||void 0===A?void 0:A.submitted):!!(null===(de=null===(q=this._cd)||void 0===q?void 0:q.control)||void 0===de?void 0:de[O])}}let vi=(()=>{class k extends ss{constructor(A){super(A)}}return k.\u0275fac=function(A){return new(A||k)(p.Y36(Bn,2))},k.\u0275dir=p.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,q){2&A&&p.ekj("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))},features:[p.qOj]}),k})(),ar=(()=>{class k extends ss{constructor(A){super(A)}}return k.\u0275fac=function(A){return new(A||k)(p.Y36(bn,10))},k.\u0275dir=p.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,q){2&A&&p.ekj("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))("ng-submitted",q.is("submitted"))},features:[p.qOj]}),k})();function it(k,O){return[...O.path,k]}function vt(k,O){Zt(k,O),O.valueAccessor.writeValue(k.value),function Ui(k,O){O.valueAccessor.registerOnChange(A=>{k._pendingValue=A,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&$n(k,O)})}(k,O),function Tt(k,O){const A=(q,de)=>{O.valueAccessor.writeValue(q),de&&O.viewToModelUpdate(q)};k.registerOnChange(A),O._registerOnDestroy(()=>{k._unregisterOnChange(A)})}(k,O),function fo(k,O){O.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&$n(k,O),"submit"!==k.updateOn&&k.markAsTouched()})}(k,O),function ii(k,O){if(O.valueAccessor.setDisabledState){const A=q=>{O.valueAccessor.setDisabledState(q)};k.registerOnDisabledChange(A),O._registerOnDestroy(()=>{k._unregisterOnDisabledChange(A)})}}(k,O)}function Ut(k,O,A=!0){const q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(q),O.valueAccessor.registerOnTouched(q)),mi(k,O),k&&(O._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function qt(k,O){k.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(O)})}function Zt(k,O){const A=oi(k);null!==O.validator?k.setValidators(Zn(A,O.validator)):"function"==typeof A&&k.setValidators([A]);const q=Li(k);null!==O.asyncValidator?k.setAsyncValidators(Zn(q,O.asyncValidator)):"function"==typeof q&&k.setAsyncValidators([q]);const de=()=>k.updateValueAndValidity();qt(O._rawValidators,de),qt(O._rawAsyncValidators,de)}function mi(k,O){let A=!1;if(null!==k){if(null!==O.validator){const de=oi(k);if(Array.isArray(de)&&de.length>0){const st=de.filter(an=>an!==O.validator);st.length!==de.length&&(A=!0,k.setValidators(st))}}if(null!==O.asyncValidator){const de=Li(k);if(Array.isArray(de)&&de.length>0){const st=de.filter(an=>an!==O.asyncValidator);st.length!==de.length&&(A=!0,k.setAsyncValidators(st))}}}const q=()=>{};return qt(O._rawValidators,q),qt(O._rawAsyncValidators,q),A}function $n(k,O){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function qs(k,O){if(!k.hasOwnProperty("model"))return!1;const A=k.model;return!!A.isFirstChange()||!Object.is(O,A.currentValue)}function En(k,O){if(!O)return null;let A,q,de;return Array.isArray(O),O.forEach(st=>{st.constructor===Le?A=st:function Rs(k){return Object.getPrototypeOf(k.constructor)===ke}(st)?q=st:de=st}),de||q||A||null}function di(k,O){const A=k.indexOf(O);A>-1&&k.splice(A,1)}const mt="VALID",Mt="INVALID",Sn="PENDING",bi="DISABLED";function ui(k){return(Jn(k)?k.validators:k)||null}function Rr(k){return Array.isArray(k)?Yt(k):k||null}function Rn(k,O){return(Jn(O)?O.asyncValidators:k)||null}function wr(k){return Array.isArray(k)?mn(k):k||null}function Jn(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}const en=k=>k instanceof Mn,Ts=k=>k instanceof _i,ji=k=>k instanceof Un;function Ns(k){return en(k)?k.value:k.getRawValue()}function br(k,O){const A=Ts(k),q=k.controls;if(!(A?Object.keys(q):q).length)throw new p.vHH(1e3,"");if(!q[O])throw new p.vHH(1001,"")}function Xn(k,O){Ts(k),k._forEachChild((q,de)=>{if(void 0===O[de])throw new p.vHH(1002,"")})}class hi{constructor(O,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=A,this._composedValidatorFn=Rr(this._rawValidators),this._composedAsyncValidatorFn=wr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===mt}get invalid(){return this.status===Mt}get pending(){return this.status==Sn}get disabled(){return this.status===bi}get enabled(){return this.status!==bi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=Rr(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=wr(O)}addValidators(O){this.setValidators(Or(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Or(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators($t(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators($t(O,this._rawAsyncValidators))}hasValidator(O){return Ci(this._rawValidators,O)}hasAsyncValidator(O){return Ci(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=Sn,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=bi,this.errors=null,this._forEachChild(q=>{q.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:A})),this._onDisabledChange.forEach(q=>q(!0))}enable(O={}){const A=this._parentMarkedDirty(O.onlySelf);this.status=mt,this._forEachChild(q=>{q.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:A})),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mt||this.status===Sn)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bi:mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=Sn,this._hasOwnPendingAsyncValidator=!0;const A=Ct(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,A={}){this.errors=O,this._updateControlsErrors(!1!==A.emitEvent)}get(O){return function $r(k,O,A){if(null==O||(Array.isArray(O)||(O=O.split(A)),Array.isArray(O)&&0===O.length))return null;let q=k;return O.forEach(de=>{q=Ts(q)?q.controls.hasOwnProperty(de)?q.controls[de]:null:ji(q)&&q.at(de)||null}),q}(this,O,".")}getError(O,A){const q=A?this.get(A):this;return q&&q.errors?q.errors[O]:null}hasError(O,A){return!!this.getError(O,A)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?bi:this.errors?Mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sn)?Sn:this._anyControlsHaveStatus(Mt)?Mt:mt}_anyControlsHaveStatus(O){return this._anyControls(A=>A.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Jn(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mn extends hi{constructor(O=null,A,q){super(ui(A),Rn(q,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jn(A)&&A.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(O)?O.value:O)}setValue(O,A={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(O,A={}){this.setValue(O,A)}reset(O=this.defaultValue,A={}){this._applyFormState(O),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){di(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){di(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class _i extends hi{constructor(O,A,q){super(ui(A),Rn(q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,A){return this.controls[O]?this.controls[O]:(this.controls[O]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(O,A,q={}){this.registerControl(O,A),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(O,A,q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],A&&this.registerControl(O,A),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,A={}){Xn(this,O),Object.keys(O).forEach(q=>{br(this,q),this.controls[q].setValue(O[q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(Object.keys(O).forEach(q=>{this.controls[q]&&this.controls[q].patchValue(O[q],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O={},A={}){this._forEachChild((q,de)=>{q.reset(O[de],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(O,A,q)=>(O[q]=Ns(A),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(A,q)=>!!q._syncPendingControls()||A);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(A=>{const q=this.controls[A];q&&O(q,A)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const A of Object.keys(this.controls)){const q=this.controls[A];if(this.contains(A)&&O(q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,A,q)=>((A.enabled||this.disabled)&&(O[q]=A.value),O))}_reduceChildren(O,A){let q=O;return this._forEachChild((de,st)=>{q=A(q,de,st)}),q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Un extends hi{constructor(O,A,q){super(ui(A),Rn(q,A)),this.controls=O,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,A={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}insert(O,A,q={}){this.controls.splice(O,0,A),this._registerControl(A),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(O,A={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:A.emitEvent})}setControl(O,A,q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),A&&(this.controls.splice(O,0,A),this._registerControl(A)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,A={}){Xn(this,O),O.forEach((q,de)=>{br(this,de),this.at(de).setValue(q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(O,A={}){null!=O&&(O.forEach((q,de)=>{this.at(de)&&this.at(de).patchValue(q,{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(O=[],A={}){this._forEachChild((q,de)=>{q.reset(O[de],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this.controls.map(O=>Ns(O))}clear(O={}){this.controls.length<1||(this._forEachChild(A=>A._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((A,q)=>!!q._syncPendingControls()||A,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((A,q)=>{O(A,q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(A=>A.enabled&&O(A))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const ls={provide:Bn,useExisting:(0,p.Gpc)(()=>ur)},yi=(()=>Promise.resolve(null))();let ur=(()=>{class k extends Bn{constructor(A,q,de,st,an){super(),this._changeDetectorRef=an,this.control=new Mn,this._registered=!1,this.update=new p.vpe,this._parent=A,this._setValidators(q),this._setAsyncValidators(de),this.valueAccessor=En(0,st)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const q=A.name.previousValue;this.formDirective.removeControl({name:q,path:this._getPath(q)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),qs(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){yi.then(()=>{var q;this.control.setValue(A,{emitViewToModelChange:!1}),null===(q=this._changeDetectorRef)||void 0===q||q.markForCheck()})}_updateDisabled(A){const q=A.isDisabled.currentValue,de=""===q||q&&"false"!==q;yi.then(()=>{var st;de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),null===(st=this._changeDetectorRef)||void 0===st||st.markForCheck()})}_getPath(A){return this._parent?it(A,this._parent):[A]}}return k.\u0275fac=function(A){return new(A||k)(p.Y36(bn,9),p.Y36(ue,10),p.Y36(Ce,10),p.Y36(Fe,10),p.Y36(p.sBO,8))},k.\u0275dir=p.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([ls]),p.qOj,p.TTD]}),k})(),Lo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=p.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const ll={provide:Fe,useExisting:(0,p.Gpc)(()=>nr),multi:!0};let nr=(()=>{class k extends ke{writeValue(A){this.setProperty("value",null==A?"":A)}registerOnChange(A){this.onChange=q=>{A(""==q?null:parseFloat(q))}}}return k.\u0275fac=function(){let O;return function(q){return(O||(O=p.n5z(k)))(q||k)}}(),k.\u0275dir=p.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(A,q){1&A&&p.NdJ("input",function(st){return q.onChange(st.target.value)})("blur",function(){return q.onTouched()})},features:[p._Bn([ll]),p.qOj]}),k})(),oo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({}),k})();const _o=new p.OlP("NgModelWithFormControlWarning"),vo={provide:bn,useExisting:(0,p.Gpc)(()=>ds)};let ds=(()=>{class k extends bn{constructor(A,q){super(),this.validators=A,this.asyncValidators=q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(A),this._setAsyncValidators(q)}ngOnChanges(A){this._checkFormPresent(),A.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(A){const q=this.form.get(A.path);return vt(q,A),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(A),q}getControl(A){return this.form.get(A.path)}removeControl(A){Ut(A.control||null,A,!1),di(this.directives,A)}addFormGroup(A){this._setUpFormContainer(A)}removeFormGroup(A){this._cleanUpFormContainer(A)}getFormGroup(A){return this.form.get(A.path)}addFormArray(A){this._setUpFormContainer(A)}removeFormArray(A){this._cleanUpFormContainer(A)}getFormArray(A){return this.form.get(A.path)}updateModel(A,q){this.form.get(A.path).setValue(q)}onSubmit(A){return this.submitted=!0,function os(k,O){k._syncPendingControls(),O.forEach(A=>{const q=A.control;"submit"===q.updateOn&&q._pendingChange&&(A.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(A),!1}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_updateDomValue(){this.directives.forEach(A=>{const q=A.control,de=this.form.get(A.path);q!==de&&(Ut(q||null,A),en(de)&&(vt(de,A),A.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(A){const q=this.form.get(A.path);(function xe(k,O){Zt(k,O)})(q,A),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(A){if(this.form){const q=this.form.get(A.path);q&&function li(k,O){return mi(k,O)}(q,A)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&mi(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(A){return new(A||k)(p.Y36(ue,10),p.Y36(Ce,10))},k.\u0275dir=p.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(A,q){1&A&&p.NdJ("submit",function(st){return q.onSubmit(st)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([vo]),p.qOj,p.TTD]}),k})();const Cr={provide:Bn,useExisting:(0,p.Gpc)(()=>Is)};let Is=(()=>{class k extends Bn{constructor(A,q,de,st,an){super(),this._ngModelWarningConfig=an,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=A,this._setValidators(q),this._setAsyncValidators(de),this.valueAccessor=En(0,st)}set isDisabled(A){}ngOnChanges(A){this._added||this._setUpControl(),qs(A,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}get path(){return it(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(A){return new(A||k)(p.Y36(bn,13),p.Y36(ue,10),p.Y36(Ce,10),p.Y36(Fe,10),p.Y36(_o,8))},k.\u0275dir=p.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([Cr]),p.qOj,p.TTD]}),k})(),dr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({imports:[[oo]]}),k})(),Gt=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({imports:[dr]}),k})(),hr=(()=>{class k{static withConfig(A){return{ngModule:k,providers:[{provide:_o,useValue:A.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({imports:[dr]}),k})(),Ws=(()=>{class k{group(A,q=null){const de=this._reduceControls(A);let xn,st=null,an=null;return null!=q&&(function jo(k){return void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn}(q)?(st=null!=q.validators?q.validators:null,an=null!=q.asyncValidators?q.asyncValidators:null,xn=null!=q.updateOn?q.updateOn:void 0):(st=null!=q.validator?q.validator:null,an=null!=q.asyncValidator?q.asyncValidator:null)),new _i(de,{asyncValidators:an,updateOn:xn,validators:st})}control(A,q,de){return new Mn(A,q,de)}array(A,q,de){const st=A.map(an=>this._createControl(an));return new Un(st,q,de)}_reduceControls(A){const q={};return Object.keys(A).forEach(de=>{q[de]=this._createControl(A[de])}),q}_createControl(A){return en(A)||Ts(A)||ji(A)?A:Array.isArray(A)?this.control(A[0],A.length>1?A[1]:null,A.length>2?A[2]:null):this.control(A)}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac,providedIn:hr}),k})()},441:(lt,Se,F)=>{"use strict";F.d(Se,{y6:()=>zr,OD:()=>Zn,F0:()=>Hn,rH:()=>Zr,yS:()=>Gi,Bz:()=>Si,lC:()=>Zs});var p=F(5e3),u=F(8306),j=F(4742),ae=F(8996),B=F(4671),J=F(3268),Q=F(3269),ne=F(1810),re=F(5403),ee=F(9672);function $e(I,C,w){I?(0,ee.f)(w,I,C):C()}var ke=F(576);function Fe(I,C){const w=(0,ke.m)(I)?I:()=>I,M=L=>L.error(w());return new u.y(C?L=>C.schedule(M,0,L):M)}var Be=F(8421);function me(I){return new u.y(C=>{(0,Be.Xf)(I()).subscribe(C)})}var ce=F(727),Ye=F(4482);function et(){return(0,Ye.e)((I,C)=>{let w=null;I._refCount++;const M=(0,re.x)(C,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(w=null);const L=I._connection,z=w;w=null,L&&(!z||L===z)&&L.unsubscribe(),C.unsubscribe()});I.subscribe(M),M.closed||(w=I.connect())})}class Le extends u.y{constructor(C,w){super(),this.source=C,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,null==C||C.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new ce.w0;const w=this.getSubject();C.add(this.source.subscribe((0,re.x)(w,void 0,()=>{this._teardown(),w.complete()},M=>{this._teardown(),w.error(M)},()=>this._teardown()))),C.closed&&(this._connection=null,C=ce.w0.EMPTY)}return C}refCount(){return et()(this)}}var Z=F(9646),De=F(1135),ue=F(6805),Ce=F(7272),oe=F(515),He=F(7579);function _e(I){return(0,Ye.e)((C,w)=>{let z,M=null,L=!1;M=C.subscribe((0,re.x)(w,void 0,void 0,se=>{z=(0,Be.Xf)(I(se,_e(I)(C))),M?(M.unsubscribe(),M=null,z.subscribe(w)):L=!0})),L&&(M.unsubscribe(),M=null,z.subscribe(w))})}var Me=F(5577);function Oe(I,C){return(0,ke.m)(C)?(0,Me.z)(I,C,1):(0,Me.z)(I,1)}var ze=F(9300);function je(I){return I<=0?()=>oe.E:(0,Ye.e)((C,w)=>{let M=[];C.subscribe((0,re.x)(w,L=>{M.push(L),I<M.length&&M.shift()},()=>{for(const L of M)w.next(L);w.complete()},void 0,()=>{M=null}))})}var at=F(8068),Nt=F(6590),Ve=F(4004),Ct=F(3900),Ie=F(5698),ct=F(8675),ft=F(5026),Xt=F(590),jt=F(8505),Yt=F(8189),An=F(9808);class mn{constructor(C,w){this.id=C,this.url=w}}class Zn extends mn{constructor(C,w,M="imperative",L=null){super(C,w),this.navigationTrigger=M,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends mn{constructor(C,w,M){super(C,w),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Li extends mn{constructor(C,w,M){super(C,w),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class or extends mn{constructor(C,w,M){super(C,w),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ci extends mn{constructor(C,w,M,L){super(C,w),this.urlAfterRedirects=M,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends mn{constructor(C,w,M,L){super(C,w),this.urlAfterRedirects=M,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $t extends mn{constructor(C,w,M,L,z){super(C,w),this.urlAfterRedirects=M,this.state=L,this.shouldActivate=z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yr extends mn{constructor(C,w,M,L){super(C,w),this.urlAfterRedirects=M,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bn extends mn{constructor(C,w,M,L){super(C,w),this.urlAfterRedirects=M,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ss{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pr{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vi{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vi{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(C,w,M){this.routerEvent=C,this.position=w,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _t="primary";class kt{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w[0]:w}return null}getAll(C){if(this.has(C)){const w=this.params[C];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Ft(I){return new kt(I)}const Ti="ngNavigationCancelingError";function vr(I){const C=Error("NavigationCancelingError: "+I);return C[Ti]=!0,C}function ro(I,C,w){const M=w.path.split("/");if(M.length>I.length||"full"===w.pathMatch&&(C.hasChildren()||M.length<I.length))return null;const L={};for(let z=0;z<M.length;z++){const se=M[z],ye=I[z];if(se.startsWith(":"))L[se.substring(1)]=ye;else if(se!==ye.path)return null}return{consumed:I.slice(0,M.length),posParams:L}}function ai(I,C){const w=I?Object.keys(I):void 0,M=C?Object.keys(C):void 0;if(!w||!M||w.length!=M.length)return!1;let L;for(let z=0;z<w.length;z++)if(L=w[z],!he(I[L],C[L]))return!1;return!0}function he(I,C){if(Array.isArray(I)&&Array.isArray(C)){if(I.length!==C.length)return!1;const w=[...I].sort(),M=[...C].sort();return w.every((L,z)=>M[z]===L)}return I===C}function be(I){return Array.prototype.concat.apply([],I)}function Ee(I){return I.length>0?I[I.length-1]:null}function pe(I,C){for(const w in I)I.hasOwnProperty(w)&&C(I[w],w)}function Ae(I){return(0,p.CqO)(I)?I:(0,p.QGY)(I)?(0,ae.D)(Promise.resolve(I)):(0,Z.of)(I)}const vt={exact:function Zt(I,C,w){if(!Dt(I.segments,C.segments)||!$n(I.segments,C.segments,w)||I.numberOfChildren!==C.numberOfChildren)return!1;for(const M in C.children)if(!I.children[M]||!Zt(I.children[M],C.children[M],w))return!1;return!0},subset:Ui},Ut={exact:function ii(I,C){return ai(I,C)},subset:function mi(I,C){return Object.keys(C).length<=Object.keys(I).length&&Object.keys(C).every(w=>he(I[w],C[w]))},ignored:()=>!0};function qt(I,C,w){return vt[w.paths](I.root,C.root,w.matrixParams)&&Ut[w.queryParams](I.queryParams,C.queryParams)&&!("exact"===w.fragment&&I.fragment!==C.fragment)}function Ui(I,C,w){return fo(I,C,C.segments,w)}function fo(I,C,w,M){if(I.segments.length>w.length){const L=I.segments.slice(0,w.length);return!(!Dt(L,w)||C.hasChildren()||!$n(L,w,M))}if(I.segments.length===w.length){if(!Dt(I.segments,w)||!$n(I.segments,w,M))return!1;for(const L in C.children)if(!I.children[L]||!Ui(I.children[L],C.children[L],M))return!1;return!0}{const L=w.slice(0,I.segments.length),z=w.slice(I.segments.length);return!!(Dt(I.segments,L)&&$n(I.segments,L,M)&&I.children[_t])&&fo(I.children[_t],C,z,M)}}function $n(I,C,w){return C.every((M,L)=>Ut[w](I[L].parameters,M.parameters))}class Tt{constructor(C,w,M){this.root=C,this.queryParams=w,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return Rs.serialize(this)}}class xe{constructor(C,w){this.segments=C,this.children=w,this.parent=null,pe(w,(M,L)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return os(this)}}class li{constructor(C,w){this.path=C,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Ft(this.parameters)),this._parameterMap}toString(){return bi(this)}}function Dt(I,C){return I.length===C.length&&I.every((w,M)=>w.path===C[M].path)}class Xi{}class qs{parse(C){const w=new ji(C);return new Tt(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(C){const w=`/${En(C.root,!0)}`,M=function ui(I){const C=Object.keys(I).map(w=>{const M=I[w];return Array.isArray(M)?M.map(L=>`${Hr(w)}=${Hr(L)}`).join("&"):`${Hr(w)}=${Hr(M)}`}).filter(w=>!!w);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${w}${M}${"string"==typeof C.fragment?`#${function Bi(I){return encodeURI(I)}(C.fragment)}`:""}`}}const Rs=new qs;function os(I){return I.segments.map(C=>bi(C)).join("/")}function En(I,C){if(!I.hasChildren())return os(I);if(C){const w=I.children[_t]?En(I.children[_t],!1):"",M=[];return pe(I.children,(L,z)=>{z!==_t&&M.push(`${z}:${En(L,!1)}`)}),M.length>0?`${w}(${M.join("//")})`:w}{const w=function Qn(I,C){let w=[];return pe(I.children,(M,L)=>{L===_t&&(w=w.concat(C(M,L)))}),pe(I.children,(M,L)=>{L!==_t&&(w=w.concat(C(M,L)))}),w}(I,(M,L)=>L===_t?[En(I.children[_t],!1)]:[`${L}:${En(M,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[_t]?`${os(I)}/${w[0]}`:`${os(I)}/(${w.join("//")})`}}function di(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hr(I){return di(I).replace(/%3B/gi,";")}function mt(I){return di(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(I){return decodeURIComponent(I)}function Sn(I){return Mt(I.replace(/\+/g,"%20"))}function bi(I){return`${mt(I.path)}${function $r(I){return Object.keys(I).map(C=>`;${mt(C)}=${mt(I[C])}`).join("")}(I.parameters)}`}const Rr=/^[^\/()?;=#]+/;function Rn(I){const C=I.match(Rr);return C?C[0]:""}const wr=/^[^=?&#]+/,en=/^[^&#]+/;class ji{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(C.length>0||Object.keys(w).length>0)&&(M[_t]=new xe(C,w)),M}parseSegment(){const C=Rn(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new li(Mt(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const w=Rn(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const L=Rn(this.remaining);L&&(M=L,this.capture(M))}C[Mt(w)]=Mt(M)}parseQueryParam(C){const w=function Jn(I){const C=I.match(wr);return C?C[0]:""}(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const se=function Ts(I){const C=I.match(en);return C?C[0]:""}(this.remaining);se&&(M=se,this.capture(M))}const L=Sn(w),z=Sn(M);if(C.hasOwnProperty(L)){let se=C[L];Array.isArray(se)||(se=[se],C[L]=se),se.push(z)}else C[L]=z}parseParens(C){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Rn(this.remaining),L=this.remaining[M.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let z;M.indexOf(":")>-1?(z=M.substr(0,M.indexOf(":")),this.capture(z),this.capture(":")):C&&(z=_t);const se=this.parseChildren();w[z]=1===Object.keys(se).length?se[_t]:new xe([],se),this.consumeOptional("//")}return w}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class Ns{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const w=this.pathFromRoot(C);return w.length>1?w[w.length-2]:null}children(C){const w=br(C,this._root);return w?w.children.map(M=>M.value):[]}firstChild(C){const w=br(C,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(C){const w=Xn(C,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==C)}pathFromRoot(C){return Xn(C,this._root).map(w=>w.value)}}function br(I,C){if(I===C.value)return C;for(const w of C.children){const M=br(I,w);if(M)return M}return null}function Xn(I,C){if(I===C.value)return[C];for(const w of C.children){const M=Xn(I,w);if(M.length)return M.unshift(C),M}return[]}class hi{constructor(C,w){this.value=C,this.children=w}toString(){return`TreeNode(${this.value})`}}function Mn(I){const C={};return I&&I.children.forEach(w=>C[w.value.outlet]=w),C}class _i extends Ns{constructor(C,w){super(C),this.snapshot=w,lr(this,C)}toString(){return this.snapshot.toString()}}function Un(I,C){const w=function po(I,C){const se=new as([],{},{},"",{},_t,C,null,I.root,-1,{});return new Fo("",new hi(se,[]))}(I,C),M=new De.X([new li("",{})]),L=new De.X({}),z=new De.X({}),se=new De.X({}),ye=new De.X(""),Qe=new er(M,L,se,ye,z,_t,C,w.root);return Qe.snapshot=w.root,new _i(new hi(Qe,[]),w)}class er{constructor(C,w,M,L,z,se,ye,Qe){this.url=C,this.params=w,this.queryParams=M,this.fragment=L,this.data=z,this.outlet=se,this.component=ye,this._futureSnapshot=Qe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(C=>Ft(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(C=>Ft(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oi(I,C="emptyOnly"){const w=I.pathFromRoot;let M=0;if("always"!==C)for(M=w.length-1;M>=1;){const L=w[M],z=w[M-1];if(L.routeConfig&&""===L.routeConfig.path)M--;else{if(z.component)break;M--}}return function Nr(I){return I.reduce((C,w)=>({params:Object.assign(Object.assign({},C.params),w.params),data:Object.assign(Object.assign({},C.data),w.data),resolve:Object.assign(Object.assign({},C.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(M))}class as{constructor(C,w,M,L,z,se,ye,Qe,Et,dn,Ot){this.url=C,this.params=w,this.queryParams=M,this.fragment=L,this.data=z,this.outlet=se,this.component=ye,this.routeConfig=Qe,this._urlSegment=Et,this._lastPathIndex=dn,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fo extends Ns{constructor(C,w){super(w),this.url=C,lr(this,w)}toString(){return Er(this._root)}}function lr(I,C){C.value._routerState=I,C.children.forEach(w=>lr(I,w))}function Er(I){const C=I.children.length>0?` { ${I.children.map(Er).join(", ")} } `:"";return`${I.value}${C}`}function tr(I){if(I.snapshot){const C=I.snapshot,w=I._futureSnapshot;I.snapshot=w,ai(C.queryParams,w.queryParams)||I.queryParams.next(w.queryParams),C.fragment!==w.fragment&&I.fragment.next(w.fragment),ai(C.params,w.params)||I.params.next(w.params),function Ji(I,C){if(I.length!==C.length)return!1;for(let w=0;w<I.length;++w)if(!ai(I[w],C[w]))return!1;return!0}(C.url,w.url)||I.url.next(w.url),ai(C.data,w.data)||I.data.next(w.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function so(I,C){const w=ai(I.params,C.params)&&function Wn(I,C){return Dt(I,C)&&I.every((w,M)=>ai(w.parameters,C[M].parameters))}(I.url,C.url);return w&&!(!I.parent!=!C.parent)&&(!I.parent||so(I.parent,C.parent))}function yi(I,C,w){if(w&&I.shouldReuseRoute(C.value,w.value.snapshot)){const M=w.value;M._futureSnapshot=C.value;const L=function ur(I,C,w){return C.children.map(M=>{for(const L of w.children)if(I.shouldReuseRoute(M.value,L.value.snapshot))return yi(I,M,L);return yi(I,M)})}(I,C,w);return new hi(M,L)}{if(I.shouldAttach(C.value)){const z=I.retrieve(C.value);if(null!==z){const se=z.route;return se.value._futureSnapshot=C.value,se.children=C.children.map(ye=>yi(I,ye)),se}}const M=function Lo(I){return new er(new De.X(I.url),new De.X(I.params),new De.X(I.queryParams),new De.X(I.fragment),new De.X(I.data),I.outlet,I.component,I)}(C.value),L=C.children.map(z=>yi(I,z));return new hi(M,L)}}function nr(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function go(I){return"object"==typeof I&&null!=I&&I.outlets}function Vo(I,C,w,M,L){let z={};if(M&&pe(M,(ye,Qe)=>{z[Qe]=Array.isArray(ye)?ye.map(Et=>`${Et}`):`${ye}`}),I===C)return new Tt(w,z,L);const se=oo(I,C,w);return new Tt(se,z,L)}function oo(I,C,w){const M={};return pe(I.children,(L,z)=>{M[z]=L===C?w:oo(L,C,w)}),new xe(I.segments,M)}class us{constructor(C,w,M){if(this.isAbsolute=C,this.numberOfDoubleDots=w,this.commands=M,C&&M.length>0&&nr(M[0]))throw new Error("Root segment cannot have matrix parameters");const L=M.find(go);if(L&&L!==Ee(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mo{constructor(C,w,M){this.segmentGroup=C,this.processChildren=w,this.index=M}}function cs(I,C,w){if(I||(I=new xe([],{})),0===I.segments.length&&I.hasChildren())return vo(I,C,w);const M=function ds(I,C,w){let M=0,L=C;const z={match:!1,pathIndex:0,commandIndex:0};for(;L<I.segments.length;){if(M>=w.length)return z;const se=I.segments[L],ye=w[M];if(go(ye))break;const Qe=`${ye}`,Et=M<w.length-1?w[M+1]:null;if(L>0&&void 0===Qe)break;if(Qe&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!Ei(Qe,Et,se))return z;M+=2}else{if(!Ei(Qe,{},se))return z;M++}L++}return{match:!0,pathIndex:L,commandIndex:M}}(I,C,w),L=w.slice(M.commandIndex);if(M.match&&M.pathIndex<I.segments.length){const z=new xe(I.segments.slice(0,M.pathIndex),{});return z.children[_t]=new xe(I.segments.slice(M.pathIndex),I.children),vo(z,0,L)}return M.match&&0===L.length?new xe(I.segments,{}):M.match&&!I.hasChildren()?ks(I,C,w):M.match?vo(I,0,L):ks(I,C,w)}function vo(I,C,w){if(0===w.length)return new xe(I.segments,{});{const M=function yo(I){return go(I[0])?I[0].outlets:{[_t]:I}}(w),L={};return pe(M,(z,se)=>{"string"==typeof z&&(z=[z]),null!==z&&(L[se]=cs(I.children[se],C,z))}),pe(I.children,(z,se)=>{void 0===M[se]&&(L[se]=z)}),new xe(I.segments,L)}}function ks(I,C,w){const M=I.segments.slice(0,C);let L=0;for(;L<w.length;){const z=w[L];if(go(z)){const Qe=wo(z.outlets);return new xe(M,Qe)}if(0===L&&nr(w[0])){M.push(new li(I.segments[C].path,Uo(w[0]))),L++;continue}const se=go(z)?z.outlets[_t]:`${z}`,ye=L<w.length-1?w[L+1]:null;se&&ye&&nr(ye)?(M.push(new li(se,Uo(ye))),L+=2):(M.push(new li(se,{})),L++)}return new xe(M,{})}function wo(I){const C={};return pe(I,(w,M)=>{"string"==typeof w&&(w=[w]),null!==w&&(C[M]=ks(new xe([],{}),0,w))}),C}function Uo(I){const C={};return pe(I,(w,M)=>C[M]=`${w}`),C}function Ei(I,C,w){return I==w.path&&ai(C,w.parameters)}class Cr{constructor(C,w,M,L){this.routeReuseStrategy=C,this.futureState=w,this.currState=M,this.forwardEvent=L}activate(C){const w=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,M,C),tr(this.futureState.root),this.activateChildRoutes(w,M,C)}deactivateChildRoutes(C,w,M){const L=Mn(w);C.children.forEach(z=>{const se=z.value.outlet;this.deactivateRoutes(z,L[se],M),delete L[se]}),pe(L,(z,se)=>{this.deactivateRouteAndItsChildren(z,M)})}deactivateRoutes(C,w,M){const L=C.value,z=w?w.value:null;if(L===z)if(L.component){const se=M.getContext(L.outlet);se&&this.deactivateChildRoutes(C,w,se.children)}else this.deactivateChildRoutes(C,w,M);else z&&this.deactivateRouteAndItsChildren(w,M)}deactivateRouteAndItsChildren(C,w){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,w):this.deactivateRouteAndOutlet(C,w)}detachAndStoreRouteSubtree(C,w){const M=w.getContext(C.value.outlet),L=M&&C.value.component?M.children:w,z=Mn(C);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],L);if(M&&M.outlet){const se=M.outlet.detach(),ye=M.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:se,route:C,contexts:ye})}}deactivateRouteAndOutlet(C,w){const M=w.getContext(C.value.outlet),L=M&&C.value.component?M.children:w,z=Mn(C);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],L);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(C,w,M){const L=Mn(w);C.children.forEach(z=>{this.activateRoutes(z,L[z.value.outlet],M),this.forwardEvent(new ar(z.value.snapshot))}),C.children.length&&this.forwardEvent(new Vi(C.value.snapshot))}activateRoutes(C,w,M){const L=C.value,z=w?w.value:null;if(tr(L),L===z)if(L.component){const se=M.getOrCreateContext(L.outlet);this.activateChildRoutes(C,w,se.children)}else this.activateChildRoutes(C,w,M);else if(L.component){const se=M.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const ye=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),se.children.onOutletReAttached(ye.contexts),se.attachRef=ye.componentRef,se.route=ye.route.value,se.outlet&&se.outlet.attach(ye.componentRef,ye.route.value),tr(ye.route.value),this.activateChildRoutes(C,null,se.children)}else{const ye=function Is(I){for(let C=I.parent;C;C=C.parent){const w=C.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(L.snapshot),Qe=ye?ye.module.componentFactoryResolver:null;se.attachRef=null,se.route=L,se.resolver=Qe,se.outlet&&se.outlet.activateWith(L,Qe),this.activateChildRoutes(C,null,se.children)}}else this.activateChildRoutes(C,null,M)}}class bo{constructor(C,w){this.routes=C,this.module=w}}function Gr(I){return"function"==typeof I}function Nn(I){return I instanceof Tt}const Ds=Symbol("INITIAL_VALUE");function wi(){return(0,Ct.w)(I=>function X(...I){const C=(0,Q.yG)(I),w=(0,Q.jO)(I),{args:M,keys:L}=(0,j.D)(I);if(0===M.length)return(0,ae.D)([],C);const z=new u.y(function fe(I,C,w=B.y){return M=>{$e(C,()=>{const{length:L}=I,z=new Array(L);let se=L,ye=L;for(let Qe=0;Qe<L;Qe++)$e(C,()=>{const Et=(0,ae.D)(I[Qe],C);let dn=!1;Et.subscribe((0,re.x)(M,Ot=>{z[Qe]=Ot,dn||(dn=!0,ye--),ye||M.next(w(z.slice()))},()=>{--se||M.complete()}))},M)},M)}}(M,C,L?se=>(0,ne.n)(L,se):B.y));return w?z.pipe((0,J.Z)(w)):z}(I.map(C=>C.pipe((0,Ie.q)(1),(0,ct.O)(Ds)))).pipe((0,ft.R)((C,w)=>{let M=!1;return w.reduce((L,z,se)=>L!==Ds?L:(z===Ds&&(M=!0),M||!1!==z&&se!==w.length-1&&!Nn(z)?L:z),C)},Ds),(0,ze.h)(C=>C!==Ds),(0,Ve.U)(C=>Nn(C)?C:!0===C),(0,Ie.q)(1)))}class Bo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zr,this.attachRef=null}}class zr{constructor(){this.contexts=new Map}onChildOutletCreated(C,w){const M=this.getOrCreateContext(C);M.outlet=w,this.contexts.set(C,M)}onChildOutletDestroyed(C){const w=this.getContext(C);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let w=this.getContext(C);return w||(w=new Bo,this.contexts.set(C,w)),w}getContext(C){return this.contexts.get(C)||null}}let Zs=(()=>{class I{constructor(w,M,L,z,se){this.parentContexts=w,this.location=M,this.resolver=L,this.changeDetector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=z||_t,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,M){this.activated=w,this._activatedRoute=M,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const se=(M=M||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),ye=this.parentContexts.getOrCreateContext(this.name).children,Qe=new Ss(w,ye,this.location.injector);this.activated=this.location.createComponent(se,this.location.length,Qe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(w){return new(w||I)(p.Y36(zr),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},I.\u0275dir=p.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class Ss{constructor(C,w,M){this.route=C,this.childContexts=w,this.parent=M}get(C,w){return C===er?this.route:C===zr?this.childContexts:this.parent.get(C,w)}}let qr=(()=>{class I{}return I.\u0275fac=function(w){return new(w||I)},I.\u0275cmp=p.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,M){1&w&&p._UZ(0,"router-outlet")},directives:[Zs],encapsulation:2}),I})();function kr(I,C=""){for(let w=0;w<I.length;w++){const M=I[w];Fr(M,Cn(C,M))}}function Fr(I,C){I.children&&kr(I.children,C)}function Cn(I,C){return C?I||C.path?I&&!C.path?`${I}/`:!I&&C.path?C.path:`${I}/${C.path}`:"":I}function R(I){const C=I.children&&I.children.map(R),w=C?Object.assign(Object.assign({},I),{children:C}):Object.assign({},I);return!w.component&&(C||w.loadChildren)&&w.outlet&&w.outlet!==_t&&(w.component=qr),w}function G(I){return I.outlet||_t}function P(I,C){const w=I.filter(M=>G(M)===C);return w.push(...I.filter(M=>G(M)!==C)),w}const K={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ge(I,C,w){var M;if(""===C.path)return"full"===C.pathMatch&&(I.hasChildren()||w.length>0)?Object.assign({},K):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const z=(C.matcher||ro)(w,I,C);if(!z)return Object.assign({},K);const se={};pe(z.posParams,(Qe,Et)=>{se[Et]=Qe.path});const ye=z.consumed.length>0?Object.assign(Object.assign({},se),z.consumed[z.consumed.length-1].parameters):se;return{matched:!0,consumedSegments:z.consumed,remainingSegments:w.slice(z.consumed.length),parameters:ye,positionalParamSegments:null!==(M=z.posParams)&&void 0!==M?M:{}}}function qe(I,C,w,M,L="corrected"){if(w.length>0&&function Jt(I,C,w){return w.some(M=>nn(I,C,M)&&G(M)!==_t)}(I,w,M)){const se=new xe(C,function xt(I,C,w,M){const L={};L[_t]=M,M._sourceSegment=I,M._segmentIndexShift=C.length;for(const z of w)if(""===z.path&&G(z)!==_t){const se=new xe([],{});se._sourceSegment=I,se._segmentIndexShift=C.length,L[G(z)]=se}return L}(I,C,M,new xe(w,I.children)));return se._sourceSegment=I,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:[]}}if(0===w.length&&function On(I,C,w){return w.some(M=>nn(I,C,M))}(I,w,M)){const se=new xe(I.segments,function nt(I,C,w,M,L,z){const se={};for(const ye of M)if(nn(I,w,ye)&&!L[G(ye)]){const Qe=new xe([],{});Qe._sourceSegment=I,Qe._segmentIndexShift="legacy"===z?I.segments.length:C.length,se[G(ye)]=Qe}return Object.assign(Object.assign({},L),se)}(I,C,w,M,I.children,L));return se._sourceSegment=I,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:w}}const z=new xe(I.segments,I.children);return z._sourceSegment=I,z._segmentIndexShift=C.length,{segmentGroup:z,slicedSegments:w}}function nn(I,C,w){return(!(I.hasChildren()||C.length>0)||"full"!==w.pathMatch)&&""===w.path}function _n(I,C,w,M){return!!(G(I)===M||M!==_t&&nn(C,w,I))&&("**"===I.path||ge(C,I,w).matched)}function ei(I,C,w){return 0===C.length&&!I.children[w]}class kn{constructor(C){this.segmentGroup=C||null}}class jn{constructor(C){this.urlTree=C}}function $i(I){return Fe(new kn(I))}function dr(I){return Fe(new jn(I))}class Ws{constructor(C,w,M,L,z){this.configLoader=w,this.urlSerializer=M,this.urlTree=L,this.config=z,this.allowRedirects=!0,this.ngModule=C.get(p.h0i)}apply(){const C=qe(this.urlTree.root,[],[],this.config).segmentGroup,w=new xe(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,w,_t).pipe((0,Ve.U)(z=>this.createUrlTree(k(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_e(z=>{if(z instanceof jn)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof kn?this.noMatchError(z):z}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,_t).pipe((0,Ve.U)(L=>this.createUrlTree(k(L),C.queryParams,C.fragment))).pipe(_e(L=>{throw L instanceof kn?this.noMatchError(L):L}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,w,M){const L=C.segments.length>0?new xe([],{[_t]:C}):C;return new Tt(L,w,M)}expandSegmentGroup(C,w,M,L){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(C,w,M).pipe((0,Ve.U)(z=>new xe([],z))):this.expandSegment(C,M,w,M.segments,L,!0)}expandChildren(C,w,M){const L=[];for(const z of Object.keys(M.children))"primary"===z?L.unshift(z):L.push(z);return(0,ae.D)(L).pipe(Oe(z=>{const se=M.children[z],ye=P(w,z);return this.expandSegmentGroup(C,ye,se,z).pipe((0,Ve.U)(Qe=>({segment:Qe,outlet:z})))}),(0,ft.R)((z,se)=>(z[se.outlet]=se.segment,z),{}),function wn(I,C){const w=arguments.length>=2;return M=>M.pipe(I?(0,ze.h)((L,z)=>I(L,z,M)):B.y,je(1),w?(0,Nt.d)(C):(0,at.T)(()=>new ue.K))}())}expandSegment(C,w,M,L,z,se){return(0,ae.D)(M).pipe(Oe(ye=>this.expandSegmentAgainstRoute(C,w,M,ye,L,z,se).pipe(_e(Et=>{if(Et instanceof kn)return(0,Z.of)(null);throw Et}))),(0,Xt.P)(ye=>!!ye),_e((ye,Qe)=>{if(ye instanceof ue.K||"EmptyError"===ye.name)return ei(w,L,z)?(0,Z.of)(new xe([],{})):$i(w);throw ye}))}expandSegmentAgainstRoute(C,w,M,L,z,se,ye){return _n(L,w,z,se)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(C,w,L,z,se):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,w,M,L,z,se):$i(w):$i(w)}expandSegmentAgainstRouteUsingRedirect(C,w,M,L,z,se){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,M,L,se):this.expandRegularSegmentAgainstRouteUsingRedirect(C,w,M,L,z,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,w,M,L){const z=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?dr(z):this.lineralizeSegments(M,z).pipe((0,Me.z)(se=>{const ye=new xe(se,{});return this.expandSegment(C,ye,w,se,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,w,M,L,z,se){const{matched:ye,consumedSegments:Qe,remainingSegments:Et,positionalParamSegments:dn}=ge(w,L,z);if(!ye)return $i(w);const Ot=this.applyRedirectCommands(Qe,L.redirectTo,dn);return L.redirectTo.startsWith("/")?dr(Ot):this.lineralizeSegments(L,Ot).pipe((0,Me.z)(Fn=>this.expandSegment(C,w,M,Fn.concat(Et),se,!1)))}matchSegmentAgainstRoute(C,w,M,L,z){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,Z.of)(M._loadedConfig):this.configLoader.load(C.injector,M)).pipe((0,Ve.U)(Ot=>(M._loadedConfig=Ot,new xe(L,{})))):(0,Z.of)(new xe(L,{}));const{matched:se,consumedSegments:ye,remainingSegments:Qe}=ge(w,M,L);return se?this.getChildConfig(C,M,L).pipe((0,Me.z)(dn=>{const Ot=dn.module,Fn=dn.routes,{segmentGroup:Ln,slicedSegments:Ni}=qe(w,ye,Qe,Fn),Us=new xe(Ln.segments,Ln.children);if(0===Ni.length&&Us.hasChildren())return this.expandChildren(Ot,Fn,Us).pipe((0,Ve.U)(Wo=>new xe(ye,Wo)));if(0===Fn.length&&0===Ni.length)return(0,Z.of)(new xe(ye,{}));const Ai=G(M)===z;return this.expandSegment(Ot,Us,Fn,Ni,Ai?_t:z,!0).pipe((0,Ve.U)(ri=>new xe(ye.concat(ri.segments),ri.children)))})):$i(w)}getChildConfig(C,w,M){return w.children?(0,Z.of)(new bo(w.children,C)):w.loadChildren?void 0!==w._loadedConfig?(0,Z.of)(w._loadedConfig):this.runCanLoadGuards(C.injector,w,M).pipe((0,Me.z)(L=>L?this.configLoader.load(C.injector,w).pipe((0,Ve.U)(z=>(w._loadedConfig=z,z))):function hr(I){return Fe(vr(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))}(w))):(0,Z.of)(new bo([],C))}runCanLoadGuards(C,w,M){const L=w.canLoad;if(!L||0===L.length)return(0,Z.of)(!0);const z=L.map(se=>{const ye=C.get(se);let Qe;if(function hs(I){return I&&Gr(I.canLoad)}(ye))Qe=ye.canLoad(w,M);else{if(!Gr(ye))throw new Error("Invalid CanLoad guard");Qe=ye(w,M)}return Ae(Qe)});return(0,Z.of)(z).pipe(wi(),(0,jt.b)(se=>{if(!Nn(se))return;const ye=vr(`Redirecting to "${this.urlSerializer.serialize(se)}"`);throw ye.url=se,ye}),(0,Ve.U)(se=>!0===se))}lineralizeSegments(C,w){let M=[],L=w.root;for(;;){if(M=M.concat(L.segments),0===L.numberOfChildren)return(0,Z.of)(M);if(L.numberOfChildren>1||!L.children[_t])return Fe(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C.redirectTo}'`));L=L.children[_t]}}applyRedirectCommands(C,w,M){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),C,M)}applyRedirectCreatreUrlTree(C,w,M,L){const z=this.createSegmentGroup(C,w.root,M,L);return new Tt(z,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(C,w){const M={};return pe(C,(L,z)=>{if("string"==typeof L&&L.startsWith(":")){const ye=L.substring(1);M[z]=w[ye]}else M[z]=L}),M}createSegmentGroup(C,w,M,L){const z=this.createSegments(C,w.segments,M,L);let se={};return pe(w.children,(ye,Qe)=>{se[Qe]=this.createSegmentGroup(C,ye,M,L)}),new xe(z,se)}createSegments(C,w,M,L){return w.map(z=>z.path.startsWith(":")?this.findPosParam(C,z,L):this.findOrReturn(z,M))}findPosParam(C,w,M){const L=M[w.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${C}'. Cannot find '${w.path}'.`);return L}findOrReturn(C,w){let M=0;for(const L of w){if(L.path===C.path)return w.splice(M),L;M++}return C}}function k(I){const C={};for(const M of Object.keys(I.children)){const z=k(I.children[M]);(z.segments.length>0||z.hasChildren())&&(C[M]=z)}return function Di(I){if(1===I.numberOfChildren&&I.children[_t]){const C=I.children[_t];return new xe(I.segments.concat(C.segments),C.children)}return I}(new xe(I.segments,C))}class A{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class q{constructor(C,w){this.component=C,this.route=w}}function de(I,C,w){const M=I._root;return Tr(M,C?C._root:null,w,[M.value])}function an(I,C,w){const M=function xn(I){if(!I)return null;for(let C=I.parent;C;C=C.parent){const w=C.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(C);return(M?M.module.injector:w).get(I)}function Tr(I,C,w,M,L={canDeactivateChecks:[],canActivateChecks:[]}){const z=Mn(C);return I.children.forEach(se=>{(function fs(I,C,w,M,L={canDeactivateChecks:[],canActivateChecks:[]}){const z=I.value,se=C?C.value:null,ye=w?w.getContext(I.value.outlet):null;if(se&&z.routeConfig===se.routeConfig){const Qe=function fr(I,C,w){if("function"==typeof w)return w(I,C);switch(w){case"pathParamsChange":return!Dt(I.url,C.url);case"pathParamsOrQueryParamsChange":return!Dt(I.url,C.url)||!ai(I.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!so(I,C)||!ai(I.queryParams,C.queryParams);default:return!so(I,C)}}(se,z,z.routeConfig.runGuardsAndResolvers);Qe?L.canActivateChecks.push(new A(M)):(z.data=se.data,z._resolvedData=se._resolvedData),Tr(I,C,z.component?ye?ye.children:null:w,M,L),Qe&&ye&&ye.outlet&&ye.outlet.isActivated&&L.canDeactivateChecks.push(new q(ye.outlet.component,se))}else se&&As(C,ye,L),L.canActivateChecks.push(new A(M)),Tr(I,null,z.component?ye?ye.children:null:w,M,L)})(se,z[se.value.outlet],w,M.concat([se.value]),L),delete z[se.value.outlet]}),pe(z,(se,ye)=>As(se,w.getContext(ye),L)),L}function As(I,C,w){const M=Mn(I),L=I.value;pe(M,(z,se)=>{As(z,L.component?C?C.children.getContext(se):null:C,w)}),w.canDeactivateChecks.push(new q(L.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,L))}class Ks{}function ps(I){return new u.y(C=>C.error(I))}class ul{constructor(C,w,M,L,z,se){this.rootComponentType=C,this.config=w,this.urlTree=M,this.url=L,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=se}recognize(){const C=qe(this.urlTree.root,[],[],this.config.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,C,_t);if(null===w)return null;const M=new as([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new hi(M,w),z=new Fo(this.url,L);return this.inheritParamsAndData(z._root),z}inheritParamsAndData(C){const w=C.value,M=Oi(w,this.paramsInheritanceStrategy);w.params=Object.freeze(M.params),w.data=Object.freeze(M.data),C.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(C,w,M){return 0===w.segments.length&&w.hasChildren()?this.processChildren(C,w):this.processSegment(C,w,w.segments,M)}processChildren(C,w){const M=[];for(const z of Object.keys(w.children)){const se=w.children[z],ye=P(C,z),Qe=this.processSegmentGroup(ye,se,z);if(null===Qe)return null;M.push(...Qe)}const L=ha(M);return function cl(I){I.sort((C,w)=>C.value.outlet===_t?-1:w.value.outlet===_t?1:C.value.outlet.localeCompare(w.value.outlet))}(L),L}processSegment(C,w,M,L){for(const z of C){const se=this.processSegmentAgainstRoute(z,w,M,L);if(null!==se)return se}return ei(w,M,L)?[]:null}processSegmentAgainstRoute(C,w,M,L){if(C.redirectTo||!_n(C,w,M,L))return null;let z,se=[],ye=[];if("**"===C.path){const Ln=M.length>0?Ee(M).parameters:{};z=new as(M,Ln,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fa(C),G(C),C.component,C,Pa(w),dl(w)+M.length,Co(C))}else{const Ln=ge(w,C,M);if(!Ln.matched)return null;se=Ln.consumedSegments,ye=Ln.remainingSegments,z=new as(se,Ln.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fa(C),G(C),C.component,C,Pa(w),dl(w)+se.length,Co(C))}const Qe=function $l(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(C),{segmentGroup:Et,slicedSegments:dn}=qe(w,se,ye,Qe.filter(Ln=>void 0===Ln.redirectTo),this.relativeLinkResolution);if(0===dn.length&&Et.hasChildren()){const Ln=this.processChildren(Qe,Et);return null===Ln?null:[new hi(z,Ln)]}if(0===Qe.length&&0===dn.length)return[new hi(z,[])];const Ot=G(C)===L,Fn=this.processSegment(Qe,Et,dn,Ot?_t:L);return null===Fn?null:[new hi(z,Fn)]}}function da(I){const C=I.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function ha(I){const C=[],w=new Set;for(const M of I){if(!da(M)){C.push(M);continue}const L=C.find(z=>M.value.routeConfig===z.value.routeConfig);void 0!==L?(L.children.push(...M.children),w.add(L)):C.push(M)}for(const M of w){const L=ha(M.children);C.push(new hi(M.value,L))}return C.filter(M=>!w.has(M))}function Pa(I){let C=I;for(;C._sourceSegment;)C=C._sourceSegment;return C}function dl(I){let C=I,w=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,w+=C._segmentIndexShift?C._segmentIndexShift:0;return w-1}function fa(I){return I.data||{}}function Co(I){return I.resolve||{}}function pa(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function gl(I){return(0,Ct.w)(C=>{const w=I(C);return w?(0,ae.D)(w).pipe((0,Ve.U)(()=>C)):(0,Z.of)(C)})}class Pi extends class ga{shouldDetach(C){return!1}store(C,w){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,w){return C.routeConfig===w.routeConfig}}{}const ml=new p.OlP("ROUTES");class Md{constructor(C,w,M,L){this.injector=C,this.compiler=w,this.onLoadStartListener=M,this.onLoadEndListener=L}load(C,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactory(w.loadChildren).pipe((0,Ve.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(w);const se=z.create(C);return new bo(be(se.injector.get(ml,void 0,p.XFs.Self|p.XFs.Optional)).map(R),se)}),_e(z=>{throw w._loader$=void 0,z}));return w._loader$=new Le(L,()=>new He.x).pipe(et()),w._loader$}loadModuleFactory(C){return Ae(C()).pipe((0,Me.z)(w=>w instanceof p.YKP?(0,Z.of)(w):(0,ae.D)(this.compiler.compileModuleAsync(w))))}}class zl{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,w){return C}}function Tc(I){throw I}function Od(I,C,w){return C.parse("/")}function Ho(I,C){return(0,Z.of)(null)}const Ys={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ma={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class I{constructor(w,M,L,z,se,ye,Qe){this.rootComponentType=w,this.urlSerializer=M,this.rootContexts=L,this.location=z,this.config=Qe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new He.x,this.errorHandler=Tc,this.malformedUriErrorHandler=Od,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ho,afterPreactivation:Ho},this.urlHandlingStrategy=new zl,this.routeReuseStrategy=new Pi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=se.get(p.h0i),this.console=se.get(p.c2e);const Ot=se.get(p.R0b);this.isNgZoneEnabled=Ot instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Qe),this.currentUrlTree=function it(){return new Tt(new xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Md(se,ye,Fn=>this.triggerEvent(new bn(Fn)),Fn=>this.triggerEvent(new ss(Fn))),this.routerState=Un(this.currentUrlTree,this.rootComponentType),this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const M=this.events;return w.pipe((0,ze.h)(L=>0!==L.id),(0,Ve.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Ct.w)(L=>{let z=!1,se=!1;return(0,Z.of)(L).pipe((0,jt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.currentRawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ct.w)(ye=>{const Qe=this.browserUrlTree.toString(),Et=!this.navigated||ye.extractedUrl.toString()!==Qe||Qe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Et)&&this.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return Du(ye.source)&&(this.browserUrlTree=ye.extractedUrl),(0,Z.of)(ye).pipe((0,Ct.w)(Ot=>{const Fn=this.transitions.getValue();return M.next(new Zn(Ot.id,this.serializeUrl(Ot.extractedUrl),Ot.source,Ot.restoredState)),Fn!==this.transitions.getValue()?oe.E:Promise.resolve(Ot)}),function O(I,C,w,M){return(0,Ct.w)(L=>function jo(I,C,w,M,L){return new Ws(I,C,w,M,L).apply()}(I,C,w,L.extractedUrl,M).pipe((0,Ve.U)(z=>Object.assign(Object.assign({},L),{urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,jt.b)(Ot=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ot.urlAfterRedirects})}),function hl(I,C,w,M,L){return(0,Me.z)(z=>function Hl(I,C,w,M,L="emptyOnly",z="legacy"){try{const se=new ul(I,C,w,M,L,z).recognize();return null===se?ps(new Ks):(0,Z.of)(se)}catch(se){return ps(se)}}(I,C,z.urlAfterRedirects,w(z.urlAfterRedirects),M,L).pipe((0,Ve.U)(se=>Object.assign(Object.assign({},z),{targetSnapshot:se}))))}(this.rootComponentType,this.config,Ot=>this.serializeUrl(Ot),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jt.b)(Ot=>{if("eager"===this.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const Ln=this.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);this.setBrowserUrl(Ln,Ot)}this.browserUrlTree=Ot.urlAfterRedirects}const Fn=new Ci(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);M.next(Fn)}));if(Et&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Fn,extractedUrl:Ln,source:Ni,restoredState:Us,extras:Ai}=ye,Zo=new Zn(Fn,this.serializeUrl(Ln),Ni,Us);M.next(Zo);const ri=Un(Ln,this.rootComponentType).snapshot;return(0,Z.of)(Object.assign(Object.assign({},ye),{targetSnapshot:ri,urlAfterRedirects:Ln,extras:Object.assign(Object.assign({},Ai),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ye.rawUrl,ye.resolve(null),oe.E}),gl(ye=>{const{targetSnapshot:Qe,id:Et,extractedUrl:dn,rawUrl:Ot,extras:{skipLocationChange:Fn,replaceUrl:Ln}}=ye;return this.hooks.beforePreactivation(Qe,{navigationId:Et,appliedUrlTree:dn,rawUrlTree:Ot,skipLocationChange:!!Fn,replaceUrl:!!Ln})}),(0,jt.b)(ye=>{const Qe=new Or(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);this.triggerEvent(Qe)}),(0,Ve.U)(ye=>Object.assign(Object.assign({},ye),{guards:de(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)})),function Ls(I,C){return(0,Me.z)(w=>{const{targetSnapshot:M,currentSnapshot:L,guards:{canActivateChecks:z,canDeactivateChecks:se}}=w;return 0===se.length&&0===z.length?(0,Z.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function Tu(I,C,w,M){return(0,ae.D)(I).pipe((0,Me.z)(L=>function Oa(I,C,w,M,L){const z=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,Z.of)(!0);const se=z.map(ye=>{const Qe=an(ye,C,L);let Et;if(function Hi(I){return I&&Gr(I.canDeactivate)}(Qe))Et=Ae(Qe.canDeactivate(I,C,w,M));else{if(!Gr(Qe))throw new Error("Invalid CanDeactivate guard");Et=Ae(Qe(I,C,w,M))}return Et.pipe((0,Xt.P)())});return(0,Z.of)(se).pipe(wi())}(L.component,L.route,w,C,M)),(0,Xt.P)(L=>!0!==L,!0))}(se,M,L,I).pipe((0,Me.z)(ye=>ye&&function ca(I){return"boolean"==typeof I}(ye)?function Iu(I,C,w,M){return(0,ae.D)(C).pipe(Oe(L=>(0,Ce.z)(function Eo(I,C){return null!==I&&C&&C(new Pr(I)),(0,Z.of)(!0)}(L.route.parent,M),function Cc(I,C){return null!==I&&C&&C(new vi(I)),(0,Z.of)(!0)}(L.route,M),function xs(I,C,w){const M=C[C.length-1],z=C.slice(0,C.length-1).reverse().map(se=>function st(I){const C=I.routeConfig?I.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:I,guards:C}:null}(se)).filter(se=>null!==se).map(se=>me(()=>{const ye=se.guards.map(Qe=>{const Et=an(Qe,se.node,w);let dn;if(function Fs(I){return I&&Gr(I.canActivateChild)}(Et))dn=Ae(Et.canActivateChild(M,I));else{if(!Gr(Et))throw new Error("Invalid CanActivateChild guard");dn=Ae(Et(M,I))}return dn.pipe((0,Xt.P)())});return(0,Z.of)(ye).pipe(wi())}));return(0,Z.of)(z).pipe(wi())}(I,L.path,w),function Lr(I,C,w){const M=C.routeConfig?C.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Z.of)(!0);const L=M.map(z=>me(()=>{const se=an(z,C,w);let ye;if(function ir(I){return I&&Gr(I.canActivate)}(se))ye=Ae(se.canActivate(C,I));else{if(!Gr(se))throw new Error("Invalid CanActivate guard");ye=Ae(se(C,I))}return ye.pipe((0,Xt.P)())}));return(0,Z.of)(L).pipe(wi())}(I,L.route,w))),(0,Xt.P)(L=>!0!==L,!0))}(M,z,I,C):(0,Z.of)(ye)),(0,Ve.U)(ye=>Object.assign(Object.assign({},w),{guardsResult:ye})))})}(this.ngModule.injector,ye=>this.triggerEvent(ye)),(0,jt.b)(ye=>{if(Nn(ye.guardsResult)){const Et=vr(`Redirecting to "${this.serializeUrl(ye.guardsResult)}"`);throw Et.url=ye.guardsResult,Et}const Qe=new $t(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.triggerEvent(Qe)}),(0,ze.h)(ye=>!!ye.guardsResult||(this.restoreHistory(ye),this.cancelNavigationTransition(ye,""),!1)),gl(ye=>{if(ye.guards.canActivateChecks.length)return(0,Z.of)(ye).pipe((0,jt.b)(Qe=>{const Et=new yr(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(Et)}),(0,Ct.w)(Qe=>{let Et=!1;return(0,Z.of)(Qe).pipe(function To(I,C){return(0,Me.z)(w=>{const{targetSnapshot:M,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,Z.of)(w);let z=0;return(0,ae.D)(L).pipe(Oe(se=>function fl(I,C,w,M){return function pl(I,C,w,M){const L=pa(I);if(0===L.length)return(0,Z.of)({});const z={};return(0,ae.D)(L).pipe((0,Me.z)(se=>function xd(I,C,w,M){const L=an(I,C,M);return Ae(L.resolve?L.resolve(C,w):L(C,w))}(I[se],C,w,M).pipe((0,jt.b)(ye=>{z[se]=ye}))),je(1),(0,Me.z)(()=>pa(z).length===L.length?(0,Z.of)(z):oe.E))}(I._resolve,I,C,M).pipe((0,Ve.U)(z=>(I._resolvedData=z,I.data=Object.assign(Object.assign({},I.data),Oi(I,w).resolve),null)))}(se.route,M,I,C)),(0,jt.b)(()=>z++),je(1),(0,Me.z)(se=>z===L.length?(0,Z.of)(w):oe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,jt.b)({next:()=>Et=!0,complete:()=>{Et||(this.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"At least one route resolver didn't emit any value."))}}))}),(0,jt.b)(Qe=>{const Et=new Bn(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(Et)}))}),gl(ye=>{const{targetSnapshot:Qe,id:Et,extractedUrl:dn,rawUrl:Ot,extras:{skipLocationChange:Fn,replaceUrl:Ln}}=ye;return this.hooks.afterPreactivation(Qe,{navigationId:Et,appliedUrlTree:dn,rawUrlTree:Ot,skipLocationChange:!!Fn,replaceUrl:!!Ln})}),(0,Ve.U)(ye=>{const Qe=function ls(I,C,w){const M=yi(I,C._root,w?w._root:void 0);return new _i(M,C)}(this.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return Object.assign(Object.assign({},ye),{targetRouterState:Qe})}),(0,jt.b)(ye=>{this.currentUrlTree=ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),this.routerState=ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ye),this.browserUrlTree=ye.urlAfterRedirects)}),((I,C,w)=>(0,Ve.U)(M=>(new Cr(C,M.targetRouterState,M.currentRouterState,w).activate(I),M)))(this.rootContexts,this.routeReuseStrategy,ye=>this.triggerEvent(ye)),(0,jt.b)({next(){z=!0},complete(){z=!0}}),function un(I){return(0,Ye.e)((C,w)=>{try{C.subscribe(w)}finally{w.add(I)}})}(()=>{var ye;z||se||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ye=this.currentNavigation)||void 0===ye?void 0:ye.id)===L.id&&(this.currentNavigation=null)}),_e(ye=>{if(se=!0,function Dn(I){return I&&I[Ti]}(ye)){const Qe=Nn(ye.url);Qe||(this.navigated=!0,this.restoreHistory(L,!0));const Et=new Li(L.id,this.serializeUrl(L.extractedUrl),ye.message);M.next(Et),Qe?setTimeout(()=>{const dn=this.urlHandlingStrategy.merge(ye.url,this.rawUrlTree),Ot={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Du(L.source)};this.scheduleNavigation(dn,"imperative",null,Ot,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const Qe=new or(L.id,this.serializeUrl(L.extractedUrl),ye);M.next(Qe);try{L.resolve(this.errorHandler(ye))}catch(Et){L.reject(Et)}}return oe.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const M="popstate"===w.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var L;const z={replaceUrl:!0},se=(null===(L=w.state)||void 0===L?void 0:L.navigationId)?w.state:null;if(se){const Qe=Object.assign({},se);delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(z.state=Qe)}const ye=this.parseUrl(w.url);this.scheduleNavigation(ye,M,se,z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){kr(w),this.config=w.map(R),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,M={}){const{relativeTo:L,queryParams:z,fragment:se,queryParamsHandling:ye,preserveFragment:Qe}=M,Et=L||this.routerState.root,dn=Qe?this.currentUrlTree.fragment:se;let Ot=null;switch(ye){case"merge":Ot=Object.assign(Object.assign({},this.currentUrlTree.queryParams),z);break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=z||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),function ll(I,C,w,M,L){if(0===w.length)return Vo(C.root,C.root,C.root,M,L);const z=function Ma(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new us(!0,0,I);let C=0,w=!1;const M=I.reduce((L,z,se)=>{if("object"==typeof z&&null!=z){if(z.outlets){const ye={};return pe(z.outlets,(Qe,Et)=>{ye[Et]="string"==typeof Qe?Qe.split("/"):Qe}),[...L,{outlets:ye}]}if(z.segmentPath)return[...L,z.segmentPath]}return"string"!=typeof z?[...L,z]:0===se?(z.split("/").forEach((ye,Qe)=>{0==Qe&&"."===ye||(0==Qe&&""===ye?w=!0:".."===ye?C++:""!=ye&&L.push(ye))}),L):[...L,z]},[]);return new us(w,C,M)}(w);if(z.toRoot())return Vo(C.root,C.root,new xe([],{}),M,L);const se=function cr(I,C,w){if(I.isAbsolute)return new mo(C.root,!0,0);if(-1===w.snapshot._lastPathIndex){const z=w.snapshot._urlSegment;return new mo(z,z===C.root,0)}const M=nr(I.commands[0])?0:1;return function _o(I,C,w){let M=I,L=C,z=w;for(;z>L;){if(z-=L,M=M.parent,!M)throw new Error("Invalid number of '../'");L=M.segments.length}return new mo(M,!1,L-z)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+M,I.numberOfDoubleDots)}(z,C,I),ye=se.processChildren?vo(se.segmentGroup,se.index,z.commands):cs(se.segmentGroup,se.index,z.commands);return Vo(C.root,se.segmentGroup,ye,M,L)}(Et,this.currentUrlTree,w,Ot,null!=dn?dn:null)}navigateByUrl(w,M={skipLocationChange:!1}){const L=Nn(w)?w:this.parseUrl(w),z=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,M)}navigate(w,M={skipLocationChange:!1}){return function ql(I){for(let C=0;C<I.length;C++){const w=I[C];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${C}`)}}(w),this.navigateByUrl(this.createUrlTree(w,M),M)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let M;try{M=this.urlSerializer.parse(w)}catch(L){M=this.malformedUriErrorHandler(L,this.urlSerializer,w)}return M}isActive(w,M){let L;if(L=!0===M?Object.assign({},Ys):!1===M?Object.assign({},ma):M,Nn(w))return qt(this.currentUrlTree,w,L);const z=this.parseUrl(w);return qt(this.currentUrlTree,z,L)}removeEmptyProps(w){return Object.keys(w).reduce((M,L)=>{const z=w[L];return null!=z&&(M[L]=z),M},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new oi(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,M,L,z,se){var ye,Qe;if(this.disposed)return Promise.resolve(!1);let Et,dn,Ot;se?(Et=se.resolve,dn=se.reject,Ot=se.promise):Ot=new Promise((Ni,Us)=>{Et=Ni,dn=Us});const Fn=++this.navigationId;let Ln;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Ln=L&&L.\u0275routerPageId?L.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?null!==(ye=this.browserPageId)&&void 0!==ye?ye:0:(null!==(Qe=this.browserPageId)&&void 0!==Qe?Qe:0)+1):Ln=0,this.setTransition({id:Fn,targetPageId:Ln,source:M,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:z,resolve:Et,reject:dn,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(Ni=>Promise.reject(Ni))}setBrowserUrl(w,M){const L=this.urlSerializer.serialize(w),z=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(L)||M.extras.replaceUrl?this.location.replaceState(L,"",z):this.location.go(L,"",z)}restoreHistory(w,M=!1){var L,z;if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===se?this.currentUrlTree===(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)&&0===se&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(se)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,M){const L=new Li(w.id,this.serializeUrl(w.extractedUrl),M);this.triggerEvent(L),w.resolve(!1)}generateNgRouterState(w,M){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:M}:{navigationId:w}}}return I.\u0275fac=function(w){p.$Z()},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})();function Du(I){return"imperative"!==I}let Zr=(()=>{class I{constructor(w,M,L,z,se){this.router=w,this.route=M,this.tabIndexAttribute=L,this.renderer=z,this.el=se,this.commands=null,this.onChanges=new He.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const M=this.renderer,L=this.el.nativeElement;null!==w?M.setAttribute(L,"tabindex",w):M.removeAttribute(L,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:zi(this.skipLocationChange),replaceUrl:zi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zi(this.preserveFragment)})}}return I.\u0275fac=function(w){return new(w||I)(p.Y36(Hn),p.Y36(er),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},I.\u0275dir=p.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,M){1&w&&p.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),I})(),Gi=(()=>{class I{constructor(w,M,L){this.router=w,this.route=M,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new He.x,this.subscription=w.events.subscribe(z=>{z instanceof oi&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,M,L,z,se){if(0!==w||M||L||z||se||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ye={skipLocationChange:zi(this.skipLocationChange),replaceUrl:zi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ye),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zi(this.preserveFragment)})}}return I.\u0275fac=function(w){return new(w||I)(p.Y36(Hn),p.Y36(er),p.Y36(An.S$))},I.\u0275dir=p.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,M){1&w&&p.NdJ("click",function(z){return M.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&w&&p.uIk("target",M.target)("href",M.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),I})();function zi(I){return""===I||!!I}class ao{}class $o{preload(C,w){return(0,Z.of)(null)}}let _l=(()=>{class I{constructor(w,M,L,z){this.router=w,this.injector=L,this.preloadingStrategy=z,this.loader=new Md(L,M,Qe=>w.triggerEvent(new bn(Qe)),Qe=>w.triggerEvent(new ss(Qe)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(w=>w instanceof oi),Oe(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(p.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,M){const L=[];for(const z of M)if(z.loadChildren&&!z.canLoad&&z._loadedConfig){const se=z._loadedConfig;L.push(this.processRoutes(se.module,se.routes))}else z.loadChildren&&!z.canLoad?L.push(this.preloadConfig(w,z)):z.children&&L.push(this.processRoutes(w,z.children));return(0,ae.D)(L).pipe((0,Yt.J)(),(0,Ve.U)(z=>{}))}preloadConfig(w,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,Z.of)(M._loadedConfig):this.loader.load(w.injector,M)).pipe((0,Me.z)(z=>(M._loadedConfig=z,this.processRoutes(z.module,z.routes)))))}}return I.\u0275fac=function(w){return new(w||I)(p.LFG(Hn),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(ao))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})(),ci=(()=>{class I{constructor(w,M,L={}){this.router=w,this.viewportScroller=M,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof oi&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Mi&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,M){this.router.triggerEvent(new Mi(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(w){p.$Z()},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})();const Go=new p.OlP("ROUTER_CONFIGURATION"),Ms=new p.OlP("ROUTER_FORROOT_GUARD"),Na=[An.Ye,{provide:Xi,useClass:qs},{provide:Hn,useFactory:function Wr(I,C,w,M,L,z,se={},ye,Qe){const Et=new Hn(null,I,C,w,M,L,be(z));return ye&&(Et.urlHandlingStrategy=ye),Qe&&(Et.routeReuseStrategy=Qe),function St(I,C){I.errorHandler&&(C.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(C.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(C.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(C.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(C.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(C.canceledNavigationResolution=I.canceledNavigationResolution)}(se,Et),se.enableTracing&&Et.events.subscribe(dn=>{var Ot,Fn;null===(Ot=console.group)||void 0===Ot||Ot.call(console,`Router Event: ${dn.constructor.name}`),console.log(dn.toString()),console.log(dn),null===(Fn=console.groupEnd)||void 0===Fn||Fn.call(console)}),Et},deps:[Xi,zr,An.Ye,p.zs3,p.Sil,ml,Go,[class jh{},new p.FiY],[class Vr{},new p.FiY]]},zr,{provide:er,useFactory:function yl(I){return I.routerState.root},deps:[Hn]},_l,$o,class Ra{preload(C,w){return w().pipe(_e(()=>(0,Z.of)(null)))}},{provide:Go,useValue:{enableTracing:!1}}];function ka(){return new p.PXZ("Router",Hn)}let Si=(()=>{class I{constructor(w,M){}static forRoot(w,M){return{ngModule:I,providers:[Na,qo(w),{provide:Ms,useFactory:Ur,deps:[[Hn,new p.FiY,new p.tp0]]},{provide:Go,useValue:M||{}},{provide:An.S$,useFactory:Ri,deps:[An.lw,[new p.tBr(An.mr),new p.FiY],Go]},{provide:ci,useFactory:zo,deps:[Hn,An.EM,Go]},{provide:ao,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:$o},{provide:p.PXZ,multi:!0,useFactory:ka},[tn,{provide:p.ip1,multi:!0,useFactory:Fa,deps:[tn]},{provide:gs,useFactory:La,deps:[tn]},{provide:p.tb,multi:!0,useExisting:gs}]]}}static forChild(w){return{ngModule:I,providers:[qo(w)]}}}return I.\u0275fac=function(w){return new(w||I)(p.LFG(Ms,8),p.LFG(Hn,8))},I.\u0275mod=p.oAB({type:I}),I.\u0275inj=p.cJS({}),I})();function zo(I,C,w){return w.scrollOffset&&C.setOffset(w.scrollOffset),new ci(I,C,w)}function Ri(I,C,w={}){return w.useHash?new An.Do(I,C):new An.b0(I,C)}function Ur(I){return"guarded"}function qo(I){return[{provide:p.deG,multi:!0,useValue:I},{provide:ml,multi:!0,useValue:I}]}let tn=(()=>{class I{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new He.x}appInitializer(){return this.injector.get(An.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const L=new Promise(ye=>M=ye),z=this.injector.get(Hn),se=this.injector.get(Go);return"disabled"===se.initialNavigation?(z.setUpLocationChangeListener(),M(!0)):"enabled"===se.initialNavigation||"enabledBlocking"===se.initialNavigation?(z.hooks.afterPreactivation=()=>this.initNavigation?(0,Z.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),z.initialNavigation()):M(!0),L})}bootstrapListener(w){const M=this.injector.get(Go),L=this.injector.get(_l),z=this.injector.get(ci),se=this.injector.get(Hn),ye=this.injector.get(p.z2F);w===ye.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&se.initialNavigation(),L.setUpPreloading(),z.init(),se.resetRootComponentType(ye.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(w){return new(w||I)(p.LFG(p.zs3))},I.\u0275prov=p.Yz7({token:I,factory:I.\u0275fac}),I})();function Fa(I){return I.appInitializer.bind(I)}function La(I){return I.bootstrapListener.bind(I)}const gs=new p.OlP("Router Initializer")},3942:(lt,Se,F)=>{"use strict";F.d(Se,{Z:()=>Fe});var p=F(2090),u=F(4859),j=F(9681),ae=F(1877);class B{constructor(me,ce){this._delegate=me,this.firebase=ce,(0,j._addComponent)(me,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(me,ce=j._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(me);return!et.isInitialized()&&"EXPLICIT"===(null===(Ye=et.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&et.initialize(),et.getImmediate({identifier:ce})}_removeServiceInstance(me,ce=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(ce)}_addComponent(me){(0,j._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,j._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function re(){const Be=function ne(Be){const me={},ce={__esModule:!0,initializeApp:function Le(Ce,oe={}){const He=j.initializeApp(Ce,oe);if((0,p.r3)(me,He.name))return me[He.name];const _e=new Be(He,ce);return me[He.name]=_e,_e},app:et,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function De(Ce){const oe=Ce.name,He=oe.replace("-compat","");if(j._registerComponent(Ce)&&"PUBLIC"===Ce.type){const _e=(Me=et())=>{if("function"!=typeof Me[He])throw Q.create("invalid-app-argument",{appName:oe});return Me[He]()};void 0!==Ce.serviceProps&&(0,p.ZB)(_e,Ce.serviceProps),ce[He]=_e,Be.prototype[He]=function(...Me){return this._getService.bind(this,oe).apply(this,Ce.multipleInstances?Me:[])}}return"PUBLIC"===Ce.type?ce[He]:null},removeApp:function Ye(Ce){delete me[Ce]},useAsService:function ue(Ce,oe){return"serverAuth"===oe?null:oe},modularAPIs:j}};function et(Ce){if(!(0,p.r3)(me,Ce=Ce||j._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:Ce});return me[Ce]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function Z(){return Object.keys(me).map(Ce=>me[Ce])}}),et.App=Be,ce}(B);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function me(ce){(0,p.ZB)(Be,ce)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Be}(),X=new ae.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=ee;!function ke(Be){(0,j.registerVersion)("@firebase/app-compat","0.1.26",Be)}()},9681:(lt,Se,F)=>{"use strict";F.r(Se),F.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Li,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>ct,_addOrOverwriteComponent:()=>ft,_apps:()=>Ct,_clearComponents:()=>An,_components:()=>Ie,_getProvider:()=>jt,_registerComponent:()=>Xt,_removeServiceInstance:()=>Yt,deleteApp:()=>$t,getApp:()=>Ci,getApps:()=>Or,initializeApp:()=>or,onLog:()=>bn,registerVersion:()=>Bn,setLogLevel:()=>ss});var p=F(5861),u=F(4859),j=F(1877),ae=F(2090),B=F(8766);class J{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function Q(pe){const Ae=pe.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(it)){const vt=it.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(it=>it).join(" ")}}const ne="@firebase/app",ee=new j.Yd("@firebase/app"),un="[DEFAULT]",Ve={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,Ie=new Map;function ct(pe,Ae){try{pe.container.addComponent(Ae)}catch(it){ee.debug(`Component ${Ae.name} failed to register with FirebaseApp ${pe.name}`,it)}}function ft(pe,Ae){pe.container.addOrOverwriteComponent(Ae)}function Xt(pe){const Ae=pe.name;if(Ie.has(Ae))return ee.debug(`There were multiple attempts to register component ${Ae}.`),!1;Ie.set(Ae,pe);for(const it of Ct.values())ct(it,pe);return!0}function jt(pe,Ae){const it=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),pe.container.getProvider(Ae)}function Yt(pe,Ae,it=un){jt(pe,Ae).clearInstance(it)}function An(){Ie.clear()}const Zn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class oi{constructor(Ae,it,vt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const Li="9.8.2";function or(pe,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const it=Object.assign({name:un,automaticDataCollectionEnabled:!1},Ae),vt=it.name;if("string"!=typeof vt||!vt)throw Zn.create("bad-app-name",{appName:String(vt)});const Ut=Ct.get(vt);if(Ut){if((0,ae.vZ)(pe,Ut.options)&&(0,ae.vZ)(it,Ut.config))return Ut;throw Zn.create("duplicate-app",{appName:vt})}const qt=new u.H0(vt);for(const Zt of Ie.values())qt.addComponent(Zt);const ii=new oi(pe,it,qt);return Ct.set(vt,ii),ii}function Ci(pe=un){const Ae=Ct.get(pe);if(!Ae)throw Zn.create("no-app",{appName:pe});return Ae}function Or(){return Array.from(Ct.values())}function $t(pe){return yr.apply(this,arguments)}function yr(){return(yr=(0,p.Z)(function*(pe){const Ae=pe.name;Ct.has(Ae)&&(Ct.delete(Ae),yield Promise.all(pe.container.getProviders().map(it=>it.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function Bn(pe,Ae,it){var vt;let Ut=null!==(vt=Ve[pe])&&void 0!==vt?vt:pe;it&&(Ut+=`-${it}`);const qt=Ut.match(/\s|\//),ii=Ae.match(/\s|\//);if(qt||ii){const Zt=[`Unable to register library "${Ut}" with version "${Ae}":`];return qt&&Zt.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),qt&&ii&&Zt.push("and"),ii&&Zt.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ee.warn(Zt.join(" "))}Xt(new u.wA(`${Ut}-version`,()=>({library:Ut,version:Ae}),"VERSION"))}function bn(pe,Ae){if(null!==pe&&"function"!=typeof pe)throw Zn.create("invalid-log-argument");(0,j.Am)(pe,Ae)}function ss(pe){(0,j.Ub)(pe)}const vi="firebase-heartbeat-store";let ar=null;function Mi(){return ar||(ar=(0,B.X3)("firebase-heartbeat-database",1,{upgrade:(pe,Ae)=>{0===Ae&&pe.createObjectStore(vi)}}).catch(pe=>{throw Zn.create("storage-open",{originalErrorMessage:pe.message})})),ar}function kt(){return(kt=(0,p.Z)(function*(pe){try{return(yield Mi()).transaction(vi).objectStore(vi).get(vr(pe))}catch(Ae){throw Zn.create("storage-get",{originalErrorMessage:Ae.message})}})).apply(this,arguments)}function Ft(pe,Ae){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(pe,Ae){try{const vt=(yield Mi()).transaction(vi,"readwrite");return yield vt.objectStore(vi).put(Ae,vr(pe)),vt.done}catch(it){throw Zn.create("storage-set",{originalErrorMessage:it.message})}})).apply(this,arguments)}function vr(pe){return`${pe.name}!${pe.options.appId}`}class Ji{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new be(it),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ae=this;return(0,p.Z)(function*(){const vt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=ai();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!Ae._heartbeatsCache.heartbeats.some(qt=>qt.date===Ut))return Ae._heartbeatsCache.heartbeats.push({date:Ut,agent:vt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(qt=>{const ii=new Date(qt.date).valueOf();return Date.now()-ii<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,p.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const it=ai(),{heartbeatsToSend:vt,unsentEntries:Ut}=function he(pe,Ae=1024){const it=[];let vt=pe.slice();for(const Ut of pe){const qt=it.find(ii=>ii.agent===Ut.agent);if(qt){if(qt.dates.push(Ut.date),Ee(it)>Ae){qt.dates.pop();break}}else if(it.push({agent:Ut.agent,dates:[Ut.date]}),Ee(it)>Ae){it.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:it,unsentEntries:vt}}(Ae._heartbeatsCache.heartbeats),qt=(0,ae.L)(JSON.stringify({version:2,heartbeats:vt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=it,Ut.length>0?(Ae._heartbeatsCache.heartbeats=Ut,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),qt})()}}function ai(){return(new Date).toISOString().substring(0,10)}class be{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,p.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function _t(pe){return kt.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var it=this;return(0,p.Z)(function*(){var vt;if(yield it._canUseIndexedDBPromise){const qt=yield it.read();return Ft(it.app,{lastSentHeartbeatDate:null!==(vt=Ae.lastSentHeartbeatDate)&&void 0!==vt?vt:qt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var it=this;return(0,p.Z)(function*(){var vt;if(yield it._canUseIndexedDBPromise){const qt=yield it.read();return Ft(it.app,{lastSentHeartbeatDate:null!==(vt=Ae.lastSentHeartbeatDate)&&void 0!==vt?vt:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Ae.heartbeats]})}})()}}function Ee(pe){return(0,ae.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function tt(pe){Xt(new u.wA("platform-logger",Ae=>new J(Ae),"PRIVATE")),Xt(new u.wA("heartbeat",Ae=>new Ji(Ae),"PRIVATE")),Bn(ne,"0.7.25",pe),Bn(ne,"0.7.25","esm2017"),Bn("fire-js","")}("")},4859:(lt,Se,F)=>{"use strict";F.d(Se,{H0:()=>ne,wA:()=>j});var p=F(5861),u=F(2090);class j{constructor(ee,X,fe){this.name=ee,this.instanceFactory=X,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const ae="[DEFAULT]";class B{constructor(ee,X){this.name=ee,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const X=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(X)){const fe=new u.BH;if(this.instancesDeferred.set(X,fe),this.isInitialized(X)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:X});$e&&fe.resolve($e)}catch($e){}}return this.instancesDeferred.get(X).promise}getImmediate(ee){var X;const fe=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),$e=null!==(X=null==ee?void 0:ee.optional)&&void 0!==X&&X;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(ke){if($e)return null;throw ke}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Q(re){return"EAGER"===re.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(X){}for(const[X,fe]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(X);try{const ke=this.getOrInitializeService({instanceIdentifier:$e});fe.resolve(ke)}catch(ke){}}}}clearInstance(ee=ae){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,p.Z)(function*(){const X=Array.from(ee.instances.values());yield Promise.all([...X.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...X.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=ae){return this.instances.has(ee)}getOptions(ee=ae){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:X={}}=ee,fe=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:fe,options:X});for(const[ke,Fe]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(ke)&&Fe.resolve($e);return $e}onInit(ee,X){var fe;const $e=this.normalizeInstanceIdentifier(X),ke=null!==(fe=this.onInitCallbacks.get($e))&&void 0!==fe?fe:new Set;ke.add(ee),this.onInitCallbacks.set($e,ke);const Fe=this.instances.get($e);return Fe&&ee(Fe,$e),()=>{ke.delete(ee)}}invokeOnInitCallbacks(ee,X){const fe=this.onInitCallbacks.get(X);if(fe)for(const $e of fe)try{$e(ee,X)}catch(ke){}}getOrInitializeService({instanceIdentifier:ee,options:X={}}){let fe=this.instances.get(ee);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(re=ee,re===ae?void 0:re),options:X}),this.instances.set(ee,fe),this.instancesOptions.set(ee,X),this.invokeOnInitCallbacks(fe,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,fe)}catch($e){}var re;return fe||null}normalizeInstanceIdentifier(ee=ae){return this.component?this.component.multipleInstances?ee:ae:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const X=this.getProvider(ee.name);if(X.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);X.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const X=new B(ee,this);return this.providers.set(ee,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Se,F)=>{"use strict";F.d(Se,{Am:()=>re,Ub:()=>ne,Yd:()=>Q,in:()=>u});const p=[];var u=(()=>{return(ee=u||(u={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",u;var ee})();const j={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},ae=u.INFO,B={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},J=(ee,X,...fe)=>{if(X<ee.logLevel)return;const $e=(new Date).toISOString(),ke=B[X];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[ke](`[${$e}]  ${ee.name}:`,...fe)};class Q{constructor(X){this.name=X,this._logLevel=ae,this._logHandler=J,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in u))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?j[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...X),this._logHandler(this,u.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...X),this._logHandler(this,u.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,u.INFO,...X),this._logHandler(this,u.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,u.WARN,...X),this._logHandler(this,u.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...X),this._logHandler(this,u.ERROR,...X)}}function ne(ee){p.forEach(X=>{X.setLogLevel(ee)})}function re(ee,X){for(const fe of p){let $e=null;X&&X.level&&($e=j[X.level]),fe.userLogHandler=null===ee?null:(ke,Fe,...Be)=>{const me=Be.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch(Ye){return null}}).filter(ce=>ce).join(" ");Fe>=(null!=$e?$e:ke.logLevel)&&ee({level:u[Fe].toLowerCase(),message:me,args:Be,type:ke.name})}}}},8766:(lt,Se,F)=>{"use strict";F.d(Se,{Lj:()=>Le,X3:()=>et});var p=F(5861);let j,ae;const Q=new WeakMap,ne=new WeakMap,re=new WeakMap,ee=new WeakMap,X=new WeakMap;let ke={get(oe,He,_e){if(oe instanceof IDBTransaction){if("done"===He)return ne.get(oe);if("objectStoreNames"===He)return oe.objectStoreNames||re.get(oe);if("store"===He)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return ce(oe[He])},set:(oe,He,_e)=>(oe[He]=_e,!0),has:(oe,He)=>oe instanceof IDBTransaction&&("done"===He||"store"===He)||He in oe};function me(oe){return"function"==typeof oe?function Be(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...He){return oe.apply(Ye(this),He),ce(Q.get(this))}:function(...He){return ce(oe.apply(Ye(this),He))}:function(He,..._e){const Me=oe.call(Ye(this),He,..._e);return re.set(Me,He.sort?He.sort():[He]),ce(Me)}}(oe):(oe instanceof IDBTransaction&&function $e(oe){if(ne.has(oe))return;const He=new Promise((_e,Me)=>{const Oe=()=>{oe.removeEventListener("complete",ze),oe.removeEventListener("error",je),oe.removeEventListener("abort",je)},ze=()=>{_e(),Oe()},je=()=>{Me(oe.error||new DOMException("AbortError","AbortError")),Oe()};oe.addEventListener("complete",ze),oe.addEventListener("error",je),oe.addEventListener("abort",je)});ne.set(oe,He)}(oe),((oe,He)=>He.some(_e=>oe instanceof _e))(oe,function B(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,ke):oe)}function ce(oe){if(oe instanceof IDBRequest)return function fe(oe){const He=new Promise((_e,Me)=>{const Oe=()=>{oe.removeEventListener("success",ze),oe.removeEventListener("error",je)},ze=()=>{_e(ce(oe.result)),Oe()},je=()=>{Me(oe.error),Oe()};oe.addEventListener("success",ze),oe.addEventListener("error",je)});return He.then(_e=>{_e instanceof IDBCursor&&Q.set(_e,oe)}).catch(()=>{}),X.set(He,oe),He}(oe);if(ee.has(oe))return ee.get(oe);const He=me(oe);return He!==oe&&(ee.set(oe,He),X.set(He,oe)),He}const Ye=oe=>X.get(oe);function et(oe,He,{blocked:_e,upgrade:Me,blocking:Oe,terminated:ze}={}){const je=indexedDB.open(oe,He),at=ce(je);return Me&&je.addEventListener("upgradeneeded",Nt=>{Me(ce(je.result),Nt.oldVersion,Nt.newVersion,ce(je.transaction))}),_e&&je.addEventListener("blocked",()=>_e()),at.then(Nt=>{ze&&Nt.addEventListener("close",()=>ze()),Oe&&Nt.addEventListener("versionchange",()=>Oe())}).catch(()=>{}),at}function Le(oe,{blocked:He}={}){const _e=indexedDB.deleteDatabase(oe);return He&&_e.addEventListener("blocked",()=>He()),ce(_e).then(()=>{})}const Z=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],ue=new Map;function Ce(oe,He){if(!(oe instanceof IDBDatabase)||He in oe||"string"!=typeof He)return;if(ue.get(He))return ue.get(He);const _e=He.replace(/FromIndex$/,""),Me=He!==_e,Oe=De.includes(_e);if(!(_e in(Me?IDBIndex:IDBObjectStore).prototype)||!Oe&&!Z.includes(_e))return;const ze=function(){var je=(0,p.Z)(function*(at,...Nt){const wn=this.transaction(at,Oe?"readwrite":"readonly");let un=wn.store;return Me&&(un=un.index(Nt.shift())),(yield Promise.all([un[_e](...Nt),Oe&&wn.done]))[0]});return function(Nt){return je.apply(this,arguments)}}();return ue.set(He,ze),ze}!function Fe(oe){ke=oe(ke)}(oe=>VS(LS({},oe),{get:(He,_e,Me)=>Ce(He,_e)||oe.get(He,_e,Me),has:(He,_e)=>!!Ce(He,_e)||oe.has(He,_e)}))},9783:(lt,Se,F)=>{"use strict";F.d(Se,{$_:()=>ce,F0:()=>ke,b4:()=>Q,h4:()=>me,iZ:()=>X,jx:()=>Ye,m8:()=>et,ws:()=>ne});var p=F(5e3),u=F(7579),j=F(5921),ae=F(9808);const B=["*"];let J=(()=>{class Z{}return Z.STARTS_WITH="startsWith",Z.CONTAINS="contains",Z.NOT_CONTAINS="notContains",Z.ENDS_WITH="endsWith",Z.EQUALS="equals",Z.NOT_EQUALS="notEquals",Z.IN="in",Z.LESS_THAN="lt",Z.LESS_THAN_OR_EQUAL_TO="lte",Z.GREATER_THAN="gt",Z.GREATER_THAN_OR_EQUAL_TO="gte",Z.BETWEEN="between",Z.IS="is",Z.IS_NOT="isNot",Z.BEFORE="before",Z.AFTER="after",Z.DATE_IS="dateIs",Z.DATE_IS_NOT="dateIsNot",Z.DATE_BEFORE="dateBefore",Z.DATE_AFTER="dateAfter",Z})(),Q=(()=>{class Z{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[J.STARTS_WITH,J.CONTAINS,J.NOT_CONTAINS,J.ENDS_WITH,J.EQUALS,J.NOT_EQUALS],numeric:[J.EQUALS,J.NOT_EQUALS,J.LESS_THAN,J.LESS_THAN_OR_EQUAL_TO,J.GREATER_THAN,J.GREATER_THAN_OR_EQUAL_TO],date:[J.DATE_IS,J.DATE_IS_NOT,J.DATE_BEFORE,J.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new u.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(ue){return this.translation[ue]}setTranslation(ue){this.translation=Object.assign(Object.assign({},this.translation),ue),this.translationSource.next(this.translation)}}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275prov=p.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),ne=(()=>{class Z{}return Z.STARTS_WITH="startsWith",Z.CONTAINS="contains",Z.NOT_CONTAINS="notContains",Z.ENDS_WITH="endsWith",Z.EQUALS="equals",Z.NOT_EQUALS="notEquals",Z.NO_FILTER="noFilter",Z.LT="lt",Z.LTE="lte",Z.GT="gt",Z.GTE="gte",Z.IS="is",Z.IS_NOT="isNot",Z.BEFORE="before",Z.AFTER="after",Z.CLEAR="clear",Z.APPLY="apply",Z.MATCH_ALL="matchAll",Z.MATCH_ANY="matchAny",Z.ADD_RULE="addRule",Z.REMOVE_RULE="removeRule",Z.ACCEPT="accept",Z.REJECT="reject",Z.CHOOSE="choose",Z.UPLOAD="upload",Z.CANCEL="cancel",Z.DAY_NAMES="dayNames",Z.DAY_NAMES_SHORT="dayNamesShort",Z.DAY_NAMES_MIN="dayNamesMin",Z.MONTH_NAMES="monthNames",Z.MONTH_NAMES_SHORT="monthNamesShort",Z.FIRST_DAY_OF_WEEK="firstDayOfWeek",Z.TODAY="today",Z.WEEK_HEADER="weekHeader",Z.WEAK="weak",Z.MEDIUM="medium",Z.STRONG="strong",Z.PASSWORD_PROMPT="passwordPrompt",Z.EMPTY_MESSAGE="emptyMessage",Z.EMPTY_FILTER_MESSAGE="emptyFilterMessage",Z})(),X=(()=>{class Z{constructor(){this.filters={startsWith:(ue,Ce,oe)=>{if(null==Ce||""===Ce.trim())return!0;if(null==ue)return!1;let He=j.gb.removeAccents(Ce.toString()).toLocaleLowerCase(oe);return j.gb.removeAccents(ue.toString()).toLocaleLowerCase(oe).slice(0,He.length)===He},contains:(ue,Ce,oe)=>{if(null==Ce||"string"==typeof Ce&&""===Ce.trim())return!0;if(null==ue)return!1;let He=j.gb.removeAccents(Ce.toString()).toLocaleLowerCase(oe);return-1!==j.gb.removeAccents(ue.toString()).toLocaleLowerCase(oe).indexOf(He)},notContains:(ue,Ce,oe)=>{if(null==Ce||"string"==typeof Ce&&""===Ce.trim())return!0;if(null==ue)return!1;let He=j.gb.removeAccents(Ce.toString()).toLocaleLowerCase(oe);return-1===j.gb.removeAccents(ue.toString()).toLocaleLowerCase(oe).indexOf(He)},endsWith:(ue,Ce,oe)=>{if(null==Ce||""===Ce.trim())return!0;if(null==ue)return!1;let He=j.gb.removeAccents(Ce.toString()).toLocaleLowerCase(oe),_e=j.gb.removeAccents(ue.toString()).toLocaleLowerCase(oe);return-1!==_e.indexOf(He,_e.length-He.length)},equals:(ue,Ce,oe)=>null==Ce||"string"==typeof Ce&&""===Ce.trim()||null!=ue&&(ue.getTime&&Ce.getTime?ue.getTime()===Ce.getTime():j.gb.removeAccents(ue.toString()).toLocaleLowerCase(oe)==j.gb.removeAccents(Ce.toString()).toLocaleLowerCase(oe)),notEquals:(ue,Ce,oe)=>!(null==Ce||"string"==typeof Ce&&""===Ce.trim()||null!=ue&&(ue.getTime&&Ce.getTime?ue.getTime()===Ce.getTime():j.gb.removeAccents(ue.toString()).toLocaleLowerCase(oe)==j.gb.removeAccents(Ce.toString()).toLocaleLowerCase(oe))),in:(ue,Ce)=>{if(null==Ce||0===Ce.length)return!0;for(let oe=0;oe<Ce.length;oe++)if(j.gb.equals(ue,Ce[oe]))return!0;return!1},between:(ue,Ce)=>null==Ce||null==Ce[0]||null==Ce[1]||null!=ue&&(ue.getTime?Ce[0].getTime()<=ue.getTime()&&ue.getTime()<=Ce[1].getTime():Ce[0]<=ue&&ue<=Ce[1]),lt:(ue,Ce,oe)=>null==Ce||null!=ue&&(ue.getTime&&Ce.getTime?ue.getTime()<Ce.getTime():ue<Ce),lte:(ue,Ce,oe)=>null==Ce||null!=ue&&(ue.getTime&&Ce.getTime?ue.getTime()<=Ce.getTime():ue<=Ce),gt:(ue,Ce,oe)=>null==Ce||null!=ue&&(ue.getTime&&Ce.getTime?ue.getTime()>Ce.getTime():ue>Ce),gte:(ue,Ce,oe)=>null==Ce||null!=ue&&(ue.getTime&&Ce.getTime?ue.getTime()>=Ce.getTime():ue>=Ce),is:(ue,Ce,oe)=>this.filters.equals(ue,Ce,oe),isNot:(ue,Ce,oe)=>this.filters.notEquals(ue,Ce,oe),before:(ue,Ce,oe)=>this.filters.lt(ue,Ce,oe),after:(ue,Ce,oe)=>this.filters.gt(ue,Ce,oe),dateIs:(ue,Ce)=>null==Ce||null!=ue&&ue.toDateString()===Ce.toDateString(),dateIsNot:(ue,Ce)=>null==Ce||null!=ue&&ue.toDateString()!==Ce.toDateString(),dateBefore:(ue,Ce)=>null==Ce||null!=ue&&ue.getTime()<Ce.getTime(),dateAfter:(ue,Ce)=>null==Ce||null!=ue&&ue.getTime()>Ce.getTime()}}filter(ue,Ce,oe,He,_e){let Me=[];if(ue)for(let Oe of ue)for(let ze of Ce){let je=j.gb.resolveFieldData(Oe,ze);if(this.filters[He](je,oe,_e)){Me.push(Oe);break}}return Me}register(ue,Ce){this.filters[ue]=Ce}}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275prov=p.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),ke=(()=>{class Z{constructor(){this.clickSource=new u.x,this.clickObservable=this.clickSource.asObservable()}add(ue){ue&&this.clickSource.next(ue)}}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275prov=p.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),me=(()=>{class Z{}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275cmp=p.Xpm({type:Z,selectors:[["p-header"]],ngContentSelectors:B,decls:1,vars:0,template:function(ue,Ce){1&ue&&(p.F$t(),p.Hsn(0))},encapsulation:2}),Z})(),ce=(()=>{class Z{}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275cmp=p.Xpm({type:Z,selectors:[["p-footer"]],ngContentSelectors:B,decls:1,vars:0,template:function(ue,Ce){1&ue&&(p.F$t(),p.Hsn(0))},encapsulation:2}),Z})(),Ye=(()=>{class Z{constructor(ue){this.template=ue}getType(){return this.name}}return Z.\u0275fac=function(ue){return new(ue||Z)(p.Y36(p.Rgc))},Z.\u0275dir=p.lG2({type:Z,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),Z})(),et=(()=>{class Z{}return Z.\u0275fac=function(ue){return new(ue||Z)},Z.\u0275mod=p.oAB({type:Z}),Z.\u0275inj=p.cJS({imports:[[ae.ez]]}),Z})()},845:(lt,Se,F)=>{"use strict";F.d(Se,{hJ:()=>ke,zx:()=>$e});var p=F(5e3),u=F(9808),j=F(5787),ae=F(9783);function B(Fe,Be){1&Fe&&p.GkF(0)}const J=function(Fe,Be,me,ce){return{"p-button-icon":!0,"p-button-icon-left":Fe,"p-button-icon-right":Be,"p-button-icon-top":me,"p-button-icon-bottom":ce}};function Q(Fe,Be){if(1&Fe&&p._UZ(0,"span",4),2&Fe){const me=p.oxw();p.Tol(me.loading?"p-button-loading-icon "+me.loadingIcon:me.icon),p.Q6J("ngClass",p.l5B(4,J,"left"===me.iconPos&&me.label,"right"===me.iconPos&&me.label,"top"===me.iconPos&&me.label,"bottom"===me.iconPos&&me.label)),p.uIk("aria-hidden",!0)}}function ne(Fe,Be){if(1&Fe&&(p.TgZ(0,"span",5),p._uU(1),p.qZA()),2&Fe){const me=p.oxw();p.uIk("aria-hidden",me.icon&&!me.label),p.xp6(1),p.Oqu(me.label||"\xa0")}}function re(Fe,Be){if(1&Fe&&(p.TgZ(0,"span",4),p._uU(1),p.qZA()),2&Fe){const me=p.oxw();p.Tol(me.badgeClass),p.Q6J("ngClass",me.badgeStyleClass()),p.xp6(1),p.Oqu(me.badge)}}const ee=function(Fe,Be,me,ce,Ye){return{"p-button p-component":!0,"p-button-icon-only":Fe,"p-button-vertical":Be,"p-disabled":me,"p-button-loading":ce,"p-button-loading-label-only":Ye}},X=["*"];let $e=(()=>{class Fe{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new p.vpe,this.onFocus=new p.vpe,this.onBlur=new p.vpe}ngAfterContentInit(){this.templates.forEach(me=>{me.getType(),this.contentTemplate=me.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Fe.\u0275fac=function(me){return new(me||Fe)},Fe.\u0275cmp=p.Xpm({type:Fe,selectors:[["p-button"]],contentQueries:function(me,ce,Ye){if(1&me&&p.Suo(Ye,ae.jx,4),2&me){let et;p.iGM(et=p.CRH())&&(ce.templates=et)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:X,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(me,ce){1&me&&(p.F$t(),p.TgZ(0,"button",0),p.NdJ("click",function(et){return ce.onClick.emit(et)})("focus",function(et){return ce.onFocus.emit(et)})("blur",function(et){return ce.onBlur.emit(et)}),p.Hsn(1),p.YNc(2,B,1,0,"ng-container",1),p.YNc(3,Q,1,9,"span",2),p.YNc(4,ne,2,2,"span",3),p.YNc(5,re,2,4,"span",2),p.qZA()),2&me&&(p.Tol(ce.styleClass),p.Q6J("ngStyle",ce.style)("disabled",ce.disabled||ce.loading)("ngClass",p.qbA(11,ee,ce.icon&&!ce.label,("top"===ce.iconPos||"bottom"===ce.iconPos)&&ce.label,ce.disabled||ce.loading,ce.loading,ce.loading&&!ce.icon&&ce.label)),p.uIk("type",ce.type)("aria-label",ce.ariaLabel),p.xp6(2),p.Q6J("ngTemplateOutlet",ce.contentTemplate),p.xp6(1),p.Q6J("ngIf",!ce.contentTemplate&&(ce.icon||ce.loading)),p.xp6(1),p.Q6J("ngIf",!ce.contentTemplate),p.xp6(1),p.Q6J("ngIf",!ce.contentTemplate&&ce.badge))},directives:[j.H,u.PC,u.mk,u.tP,u.O5],encapsulation:2,changeDetection:0}),Fe})(),ke=(()=>{class Fe{}return Fe.\u0275fac=function(me){return new(me||Fe)},Fe.\u0275mod=p.oAB({type:Fe}),Fe.\u0275inj=p.cJS({imports:[[u.ez,j.T]]}),Fe})()},5315:(lt,Se,F)=>{"use strict";F.d(Se,{V:()=>wn,S:()=>un});var p=F(5e3),u=F(1777),j=F(9808),ae=F(5730),B=F(9783);let J=(()=>{class Ve{constructor(Ie){this.el=Ie}onkeydown(Ie){if(!0!==this.pFocusTrapDisabled){Ie.preventDefault();let ct=ae.p.getFocusableElements(this.el.nativeElement);if(ct&&ct.length>0)if(ct[0].ownerDocument.activeElement){let ft=ct.indexOf(ct[0].ownerDocument.activeElement);Ie.shiftKey?-1==ft||0===ft?ct[ct.length-1].focus():ct[ft-1].focus():-1==ft||ft===ct.length-1?ct[0].focus():ct[ft+1].focus()}else ct[0].focus()}}}return Ve.\u0275fac=function(Ie){return new(Ie||Ve)(p.Y36(p.SBq))},Ve.\u0275dir=p.lG2({type:Ve,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],hostBindings:function(Ie,ct){1&Ie&&p.NdJ("keydown.tab",function(Xt){return ct.onkeydown(Xt)})("keydown.shift.tab",function(Xt){return ct.onkeydown(Xt)})},inputs:{pFocusTrapDisabled:"pFocusTrapDisabled"}}),Ve})(),Q=(()=>{class Ve{}return Ve.\u0275fac=function(Ie){return new(Ie||Ve)},Ve.\u0275mod=p.oAB({type:Ve}),Ve.\u0275inj=p.cJS({imports:[[j.ez]]}),Ve})();var ne=F(5787),re=F(5921);const ee=["titlebar"],X=["content"],fe=["footer"];function $e(Ve,Ct){if(1&Ve&&(p.TgZ(0,"span",17),p._uU(1),p.qZA()),2&Ve){const Ie=p.oxw(4);p.uIk("id",Ie.id+"-label"),p.xp6(1),p.Oqu(Ie.header)}}function ke(Ve,Ct){if(1&Ve&&(p.TgZ(0,"span",17),p.Hsn(1,1),p.qZA()),2&Ve){const Ie=p.oxw(4);p.uIk("id",Ie.id+"-label")}}function Fe(Ve,Ct){1&Ve&&p.GkF(0)}const Be=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function me(Ve,Ct){if(1&Ve){const Ie=p.EpF();p.TgZ(0,"button",18),p.NdJ("click",function(){return p.CHM(Ie),p.oxw(4).maximize()})("keydown.enter",function(){return p.CHM(Ie),p.oxw(4).maximize()}),p._UZ(1,"span",19),p.qZA()}if(2&Ve){const Ie=p.oxw(4);p.Q6J("ngClass",p.DdM(2,Be)),p.xp6(1),p.Q6J("ngClass",Ie.maximized?Ie.minimizeIcon:Ie.maximizeIcon)}}const ce=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Ye(Ve,Ct){if(1&Ve){const Ie=p.EpF();p.TgZ(0,"button",20),p.NdJ("click",function(ft){return p.CHM(Ie),p.oxw(4).close(ft)})("keydown.enter",function(ft){return p.CHM(Ie),p.oxw(4).close(ft)}),p._UZ(1,"span",21),p.qZA()}if(2&Ve){const Ie=p.oxw(4);p.Q6J("ngClass",p.DdM(4,ce)),p.uIk("aria-label",Ie.closeAriaLabel)("tabindex",Ie.closeTabindex),p.xp6(1),p.Q6J("ngClass",Ie.closeIcon)}}function et(Ve,Ct){if(1&Ve){const Ie=p.EpF();p.TgZ(0,"div",11,12),p.NdJ("mousedown",function(ft){return p.CHM(Ie),p.oxw(3).initDrag(ft)}),p.YNc(2,$e,2,2,"span",13),p.YNc(3,ke,2,1,"span",13),p.YNc(4,Fe,1,0,"ng-container",8),p.TgZ(5,"div",14),p.YNc(6,me,2,3,"button",15),p.YNc(7,Ye,2,5,"button",16),p.qZA()()}if(2&Ve){const Ie=p.oxw(3);p.xp6(2),p.Q6J("ngIf",!Ie.headerFacet&&!Ie.headerTemplate),p.xp6(1),p.Q6J("ngIf",Ie.headerFacet),p.xp6(1),p.Q6J("ngTemplateOutlet",Ie.headerTemplate),p.xp6(2),p.Q6J("ngIf",Ie.maximizable),p.xp6(1),p.Q6J("ngIf",Ie.closable)}}function Le(Ve,Ct){1&Ve&&p.GkF(0)}function Z(Ve,Ct){1&Ve&&p.GkF(0)}function De(Ve,Ct){if(1&Ve&&(p.TgZ(0,"div",22,23),p.Hsn(2,2),p.YNc(3,Z,1,0,"ng-container",8),p.qZA()),2&Ve){const Ie=p.oxw(3);p.xp6(3),p.Q6J("ngTemplateOutlet",Ie.footerTemplate)}}function ue(Ve,Ct){if(1&Ve){const Ie=p.EpF();p.TgZ(0,"div",24),p.NdJ("mousedown",function(ft){return p.CHM(Ie),p.oxw(3).initResize(ft)}),p.qZA()}}const Ce=function(Ve,Ct,Ie,ct){return{"p-dialog p-component":!0,"p-dialog-rtl":Ve,"p-dialog-draggable":Ct,"p-dialog-resizable":Ie,"p-dialog-maximized":ct}},oe=function(Ve,Ct){return{transform:Ve,transition:Ct}},He=function(Ve){return{value:"visible",params:Ve}};function _e(Ve,Ct){if(1&Ve){const Ie=p.EpF();p.TgZ(0,"div",3,4),p.NdJ("@animation.start",function(ft){return p.CHM(Ie),p.oxw(2).onAnimationStart(ft)})("@animation.done",function(ft){return p.CHM(Ie),p.oxw(2).onAnimationEnd(ft)}),p.YNc(2,et,8,5,"div",5),p.TgZ(3,"div",6,7),p.Hsn(5),p.YNc(6,Le,1,0,"ng-container",8),p.qZA(),p.YNc(7,De,4,1,"div",9),p.YNc(8,ue,1,0,"div",10),p.qZA()}if(2&Ve){const Ie=p.oxw(2);p.Tol(Ie.styleClass),p.Q6J("ngClass",p.l5B(15,Ce,Ie.rtl,Ie.draggable,Ie.resizable,Ie.maximized))("ngStyle",Ie.style)("pFocusTrapDisabled",!1===Ie.focusTrap)("@animation",p.VKq(23,He,p.WLB(20,oe,Ie.transformOptions,Ie.transitionOptions))),p.uIk("aria-labelledby",Ie.id+"-label"),p.xp6(2),p.Q6J("ngIf",Ie.showHeader),p.xp6(1),p.Tol(Ie.contentStyleClass),p.Q6J("ngClass","p-dialog-content")("ngStyle",Ie.contentStyle),p.xp6(3),p.Q6J("ngTemplateOutlet",Ie.contentTemplate),p.xp6(1),p.Q6J("ngIf",Ie.footerFacet||Ie.footerTemplate),p.xp6(1),p.Q6J("ngIf",Ie.resizable)}}const Me=function(Ve,Ct,Ie,ct,ft,Xt,jt,Yt,An,mn){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":Ve,"p-dialog-mask-scrollblocker":Ct,"p-dialog-left":Ie,"p-dialog-right":ct,"p-dialog-top":ft,"p-dialog-top-left":Xt,"p-dialog-top-right":jt,"p-dialog-bottom":Yt,"p-dialog-bottom-left":An,"p-dialog-bottom-right":mn}};function Oe(Ve,Ct){if(1&Ve&&(p.TgZ(0,"div",1),p.YNc(1,_e,9,25,"div",2),p.qZA()),2&Ve){const Ie=p.oxw();p.Tol(Ie.maskStyleClass),p.Q6J("ngClass",p.rFY(4,Me,[Ie.modal,Ie.modal||Ie.blockScroll,"left"===Ie.position,"right"===Ie.position,"top"===Ie.position,"topleft"===Ie.position||"top-left"===Ie.position,"topright"===Ie.position||"top-right"===Ie.position,"bottom"===Ie.position,"bottomleft"===Ie.position||"bottom-left"===Ie.position,"bottomright"===Ie.position||"bottom-right"===Ie.position])),p.xp6(1),p.Q6J("ngIf",Ie.visible)}}const ze=["*",[["p-header"]],[["p-footer"]]],je=["*","p-header","p-footer"],at=(0,u.oQ)([(0,u.oB)({transform:"{{transform}}",opacity:0}),(0,u.jt)("{{transition}}")]),Nt=(0,u.oQ)([(0,u.jt)("{{transition}}",(0,u.oB)({transform:"{{transform}}",opacity:0}))]);let wn=(()=>{class Ve{constructor(Ie,ct,ft,Xt,jt){this.el=Ie,this.renderer=ct,this.zone=ft,this.cd=Xt,this.config=jt,this.draggable=!0,this.resizable=!0,this.closeOnEscape=!0,this.closable=!0,this.showHeader=!0,this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.minX=0,this.minY=0,this.focusOnShow=!0,this.keepInViewport=!0,this.focusTrap=!0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.closeIcon="pi pi-times",this.closeTabindex="-1",this.minimizeIcon="pi pi-window-minimize",this.maximizeIcon="pi pi-window-maximize",this.onShow=new p.vpe,this.onHide=new p.vpe,this.visibleChange=new p.vpe,this.onResizeInit=new p.vpe,this.onResizeEnd=new p.vpe,this.onDragEnd=new p.vpe,this.onMaximize=new p.vpe,this.id=(0,re.Th)(),this._style={},this._position="center",this.transformOptions="scale(0.7)"}get positionLeft(){return 0}set positionLeft(Ie){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(Ie){console.log("positionTop property is deprecated.")}get responsive(){return!1}set responsive(Ie){console.log("Responsive property is deprecated.")}get breakpoint(){return 649}set breakpoint(Ie){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}ngAfterContentInit(){this.templates.forEach(Ie=>{switch(Ie.getType()){case"header":this.headerTemplate=Ie.template;break;case"content":default:this.contentTemplate=Ie.template;break;case"footer":this.footerTemplate=Ie.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}get visible(){return this._visible}set visible(Ie){this._visible=Ie,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(Ie){Ie&&(this._style=Object.assign({},Ie),this.originalStyle=Ie)}get position(){return this._position}set position(Ie){switch(this._position=Ie,Ie){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}focus(){let Ie=ae.p.findSingle(this.container,"[autofocus]");Ie&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Ie.focus(),5)})}close(Ie){this.visibleChange.emit(!1),Ie.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Ie=>{this.wrapper&&this.wrapper.isSameNode(Ie.target)&&this.close(Ie)})),this.modal&&ae.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.dismissableMask&&this.unbindMaskClickListener(),this.modal&&ae.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?ae.p.addClass(document.body,"p-overflow-hidden"):ae.p.removeClass(document.body,"p-overflow-hidden")),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(re.P9.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Ie="";for(let ct in this.breakpoints)Ie+=`\n                    @media screen and (max-width: ${ct}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[ct]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=Ie}}initDrag(Ie){ae.p.hasClass(Ie.target,"p-dialog-header-icon")||ae.p.hasClass(Ie.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=Ie.pageX,this.lastPageY=Ie.pageY,this.container.style.margin="0",ae.p.addClass(document.body,"p-unselectable-text"))}onKeydown(Ie){if(this.focusTrap&&9===Ie.which){Ie.preventDefault();let ct=ae.p.getFocusableElements(this.container);if(ct&&ct.length>0)if(ct[0].ownerDocument.activeElement){let ft=ct.indexOf(ct[0].ownerDocument.activeElement);Ie.shiftKey?-1==ft||0===ft?ct[ct.length-1].focus():ct[ft-1].focus():-1==ft||ft===ct.length-1?ct[0].focus():ct[ft+1].focus()}else ct[0].focus()}}onDrag(Ie){if(this.dragging){let ct=ae.p.getOuterWidth(this.container),ft=ae.p.getOuterHeight(this.container),Xt=Ie.pageX-this.lastPageX,jt=Ie.pageY-this.lastPageY,Yt=this.container.getBoundingClientRect(),An=Yt.left+Xt,mn=Yt.top+jt,Zn=ae.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(An>=this.minX&&An+ct<Zn.width&&(this._style.left=An+"px",this.lastPageX=Ie.pageX,this.container.style.left=An+"px"),mn>=this.minY&&mn+ft<Zn.height&&(this._style.top=mn+"px",this.lastPageY=Ie.pageY,this.container.style.top=mn+"px")):(this.lastPageX=Ie.pageX,this.container.style.left=An+"px",this.lastPageY=Ie.pageY,this.container.style.top=mn+"px")}}endDrag(Ie){this.dragging&&(this.dragging=!1,ae.p.removeClass(document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(Ie))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(Ie){this.resizable&&(this.resizing=!0,this.lastPageX=Ie.pageX,this.lastPageY=Ie.pageY,ae.p.addClass(document.body,"p-unselectable-text"),this.onResizeInit.emit(Ie))}onResize(Ie){if(this.resizing){let ct=Ie.pageX-this.lastPageX,ft=Ie.pageY-this.lastPageY,Xt=ae.p.getOuterWidth(this.container),jt=ae.p.getOuterHeight(this.container),Yt=ae.p.getOuterHeight(this.contentViewChild.nativeElement),An=Xt+ct,mn=jt+ft,Zn=this.container.style.minWidth,oi=this.container.style.minHeight,Li=this.container.getBoundingClientRect(),or=ae.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(An+=ct,mn+=ft),(!Zn||An>parseInt(Zn))&&Li.left+An<or.width&&(this._style.width=An+"px",this.container.style.width=this._style.width),(!oi||mn>parseInt(oi))&&Li.top+mn<or.height&&(this.contentViewChild.nativeElement.style.height=Yt+mn-jt+"px",this._style.height&&(this._style.height=mn+"px",this.container.style.height=this._style.height)),this.lastPageX=Ie.pageX,this.lastPageY=Ie.pageY}}resizeEnd(Ie){this.resizing&&(this.resizing=!1,ae.p.removeClass(document.body,"p-unselectable-text"),this.onResizeEnd.emit(Ie))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",ct=>{27==ct.which&&this.close(ct)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):ae.p.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}onAnimationStart(Ie){switch(Ie.toState){case"visible":this.container=Ie.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&ae.p.addClass(document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&ae.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Ie){switch(Ie.toState){case"void":this.onContainerDestroy(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(ae.p.removeClass(document.body,"p-overflow-hidden"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&ae.p.removeClass(document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&re.P9.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Object.assign({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}}return Ve.\u0275fac=function(Ie){return new(Ie||Ve)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.R0b),p.Y36(p.sBO),p.Y36(B.b4))},Ve.\u0275cmp=p.Xpm({type:Ve,selectors:[["p-dialog"]],contentQueries:function(Ie,ct,ft){if(1&Ie&&(p.Suo(ft,B.h4,5),p.Suo(ft,B.$_,5),p.Suo(ft,B.jx,4)),2&Ie){let Xt;p.iGM(Xt=p.CRH())&&(ct.headerFacet=Xt.first),p.iGM(Xt=p.CRH())&&(ct.footerFacet=Xt.first),p.iGM(Xt=p.CRH())&&(ct.templates=Xt)}},viewQuery:function(Ie,ct){if(1&Ie&&(p.Gf(ee,5),p.Gf(X,5),p.Gf(fe,5)),2&Ie){let ft;p.iGM(ft=p.CRH())&&(ct.headerViewChild=ft.first),p.iGM(ft=p.CRH())&&(ct.contentViewChild=ft.first),p.iGM(ft=p.CRH())&&(ct.footerViewChild=ft.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:"draggable",resizable:"resizable",positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:"modal",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",rtl:"rtl",closable:"closable",responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",showHeader:"showHeader",breakpoint:"breakpoint",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",minX:"minX",minY:"minY",focusOnShow:"focusOnShow",maximizable:"maximizable",keepInViewport:"keepInViewport",focusTrap:"focusTrap",transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},ngContentSelectors:je,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],["container",""],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["content",""],[4,"ngTemplateOutlet"],["class","p-dialog-footer",4,"ngIf"],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"],["footer",""],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"]],template:function(Ie,ct){1&Ie&&(p.F$t(ze),p.YNc(0,Oe,2,15,"div",0)),2&Ie&&p.Q6J("ngIf",ct.maskVisible)},directives:[j.O5,j.mk,J,j.PC,j.tP,ne.H],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,u.X$)("animation",[(0,u.eR)("void => visible",[(0,u._7)(at)]),(0,u.eR)("visible => void",[(0,u._7)(Nt)])])]},changeDetection:0}),Ve})(),un=(()=>{class Ve{}return Ve.\u0275fac=function(Ie){return new(Ie||Ve)},Ve.\u0275mod=p.oAB({type:Ve}),Ve.\u0275inj=p.cJS({imports:[[j.ez,Q,ne.T],B.m8]}),Ve})()},5730:(lt,Se,F)=>{"use strict";F.d(Se,{V:()=>u,p:()=>p});let p=(()=>{class j{static addClass(B,J){B.classList?B.classList.add(J):B.className+=" "+J}static addMultipleClasses(B,J){if(B.classList){let Q=J.trim().split(" ");for(let ne=0;ne<Q.length;ne++)B.classList.add(Q[ne])}else{let Q=J.split(" ");for(let ne=0;ne<Q.length;ne++)B.className+=" "+Q[ne]}}static removeClass(B,J){B.classList?B.classList.remove(J):B.className=B.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(B,J){return B.classList?B.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test(B.className)}static siblings(B){return Array.prototype.filter.call(B.parentNode.children,function(J){return J!==B})}static find(B,J){return Array.from(B.querySelectorAll(J))}static findSingle(B,J){return B?B.querySelector(J):null}static index(B){let J=B.parentNode.childNodes,Q=0;for(var ne=0;ne<J.length;ne++){if(J[ne]==B)return Q;1==J[ne].nodeType&&Q++}return-1}static indexWithinGroup(B,J){let Q=B.parentNode?B.parentNode.childNodes:[],ne=0;for(var re=0;re<Q.length;re++){if(Q[re]==B)return ne;Q[re].attributes&&Q[re].attributes[J]&&1==Q[re].nodeType&&ne++}return-1}static relativePosition(B,J){let Q=B.offsetParent?{width:B.offsetWidth,height:B.offsetHeight}:this.getHiddenElementDimensions(B);const ne=J.offsetHeight,re=J.getBoundingClientRect(),ee=this.getViewport();let X,fe;re.top+ne+Q.height>ee.height?(X=-1*Q.height,B.style.transformOrigin="bottom",re.top+X<0&&(X=-1*re.top)):(X=ne,B.style.transformOrigin="top"),fe=Q.width>ee.width?-1*re.left:re.left+Q.width>ee.width?-1*(re.left+Q.width-ee.width):0,B.style.top=X+"px",B.style.left=fe+"px"}static absolutePosition(B,J){let Be,me,Q=B.offsetParent?{width:B.offsetWidth,height:B.offsetHeight}:this.getHiddenElementDimensions(B),ne=Q.height,re=Q.width,ee=J.offsetHeight,X=J.offsetWidth,fe=J.getBoundingClientRect(),$e=this.getWindowScrollTop(),ke=this.getWindowScrollLeft(),Fe=this.getViewport();fe.top+ee+ne>Fe.height?(Be=fe.top+$e-ne,B.style.transformOrigin="bottom",Be<0&&(Be=$e)):(Be=ee+fe.top+$e,B.style.transformOrigin="top"),me=fe.left+re>Fe.width?Math.max(0,fe.left+ke+X-re):fe.left+ke,B.style.top=Be+"px",B.style.left=me+"px"}static getParents(B,J=[]){return null===B.parentNode?J:this.getParents(B.parentNode,J.concat([B.parentNode]))}static getScrollableParents(B){let J=[];if(B){let Q=this.getParents(B);const ne=/(auto|scroll)/,re=ee=>{let X=window.getComputedStyle(ee,null);return ne.test(X.getPropertyValue("overflow"))||ne.test(X.getPropertyValue("overflowX"))||ne.test(X.getPropertyValue("overflowY"))};for(let ee of Q){let X=1===ee.nodeType&&ee.dataset.scrollselectors;if(X){let fe=X.split(",");for(let $e of fe){let ke=this.findSingle(ee,$e);ke&&re(ke)&&J.push(ke)}}9!==ee.nodeType&&re(ee)&&J.push(ee)}}return J}static getHiddenElementOuterHeight(B){B.style.visibility="hidden",B.style.display="block";let J=B.offsetHeight;return B.style.display="none",B.style.visibility="visible",J}static getHiddenElementOuterWidth(B){B.style.visibility="hidden",B.style.display="block";let J=B.offsetWidth;return B.style.display="none",B.style.visibility="visible",J}static getHiddenElementDimensions(B){let J={};return B.style.visibility="hidden",B.style.display="block",J.width=B.offsetWidth,J.height=B.offsetHeight,B.style.display="none",B.style.visibility="visible",J}static scrollInView(B,J){let Q=getComputedStyle(B).getPropertyValue("borderTopWidth"),ne=Q?parseFloat(Q):0,re=getComputedStyle(B).getPropertyValue("paddingTop"),ee=re?parseFloat(re):0,X=B.getBoundingClientRect(),$e=J.getBoundingClientRect().top+document.body.scrollTop-(X.top+document.body.scrollTop)-ne-ee,ke=B.scrollTop,Fe=B.clientHeight,Be=this.getOuterHeight(J);$e<0?B.scrollTop=ke+$e:$e+Be>Fe&&(B.scrollTop=ke+$e-Fe+Be)}static fadeIn(B,J){B.style.opacity=0;let Q=+new Date,ne=0,re=function(){ne=+B.style.opacity.replace(",",".")+((new Date).getTime()-Q)/J,B.style.opacity=ne,Q=+new Date,+ne<1&&(window.requestAnimationFrame&&requestAnimationFrame(re)||setTimeout(re,16))};re()}static fadeOut(B,J){var Q=1,ee=50/J;let X=setInterval(()=>{(Q-=ee)<=0&&(Q=0,clearInterval(X)),B.style.opacity=Q},50)}static getWindowScrollTop(){let B=document.documentElement;return(window.pageYOffset||B.scrollTop)-(B.clientTop||0)}static getWindowScrollLeft(){let B=document.documentElement;return(window.pageXOffset||B.scrollLeft)-(B.clientLeft||0)}static matches(B,J){var Q=Element.prototype;return(Q.matches||Q.webkitMatchesSelector||Q.mozMatchesSelector||Q.msMatchesSelector||function(re){return-1!==[].indexOf.call(document.querySelectorAll(re),this)}).call(B,J)}static getOuterWidth(B,J){let Q=B.offsetWidth;if(J){let ne=getComputedStyle(B);Q+=parseFloat(ne.marginLeft)+parseFloat(ne.marginRight)}return Q}static getHorizontalPadding(B){let J=getComputedStyle(B);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin(B){let J=getComputedStyle(B);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth(B){let J=B.offsetWidth,Q=getComputedStyle(B);return J+=parseFloat(Q.paddingLeft)+parseFloat(Q.paddingRight),J}static width(B){let J=B.offsetWidth,Q=getComputedStyle(B);return J-=parseFloat(Q.paddingLeft)+parseFloat(Q.paddingRight),J}static getInnerHeight(B){let J=B.offsetHeight,Q=getComputedStyle(B);return J+=parseFloat(Q.paddingTop)+parseFloat(Q.paddingBottom),J}static getOuterHeight(B,J){let Q=B.offsetHeight;if(J){let ne=getComputedStyle(B);Q+=parseFloat(ne.marginTop)+parseFloat(ne.marginBottom)}return Q}static getHeight(B){let J=B.offsetHeight,Q=getComputedStyle(B);return J-=parseFloat(Q.paddingTop)+parseFloat(Q.paddingBottom)+parseFloat(Q.borderTopWidth)+parseFloat(Q.borderBottomWidth),J}static getWidth(B){let J=B.offsetWidth,Q=getComputedStyle(B);return J-=parseFloat(Q.paddingLeft)+parseFloat(Q.paddingRight)+parseFloat(Q.borderLeftWidth)+parseFloat(Q.borderRightWidth),J}static getViewport(){let B=window,J=document,Q=J.documentElement,ne=J.getElementsByTagName("body")[0];return{width:B.innerWidth||Q.clientWidth||ne.clientWidth,height:B.innerHeight||Q.clientHeight||ne.clientHeight}}static getOffset(B){var J=B.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(B,J){let Q=B.parentNode;if(!Q)throw"Can't replace element";return Q.replaceChild(J,B)}static getUserAgent(){return navigator.userAgent}static isIE(){var B=window.navigator.userAgent;return B.indexOf("MSIE ")>0||(B.indexOf("Trident/")>0?(B.indexOf("rv:"),!0):B.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(B,J){if(this.isElement(J))J.appendChild(B);else{if(!J.el||!J.el.nativeElement)throw"Cannot append "+J+" to "+B;J.el.nativeElement.appendChild(B)}}static removeChild(B,J){if(this.isElement(J))J.removeChild(B);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+B+" from "+J;J.el.nativeElement.removeChild(B)}}static removeElement(B){"remove"in Element.prototype?B.remove():B.parentNode.removeChild(B)}static isElement(B){return"object"==typeof HTMLElement?B instanceof HTMLElement:B&&"object"==typeof B&&null!==B&&1===B.nodeType&&"string"==typeof B.nodeName}static calculateScrollbarWidth(B){if(B){let J=getComputedStyle(B);return B.offsetWidth-B.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let Q=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=Q,Q}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let B=document.createElement("div");B.className="p-scrollbar-measure",document.body.appendChild(B);let J=B.offsetHeight-B.clientHeight;return document.body.removeChild(B),this.calculatedScrollbarWidth=J,J}static invokeElementMethod(B,J,Q){B[J].apply(B,Q)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(B){}}static getBrowser(){if(!this.browser){let B=this.resolveUserAgent();this.browser={},B.browser&&(this.browser[B.browser]=!0,this.browser.version=B.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let B=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec(B)||/(webkit)[ \/]([\w.]+)/.exec(B)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(B)||/(msie) ([\w.]+)/.exec(B)||B.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(B)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger(B){return Number.isInteger?Number.isInteger(B):"number"==typeof B&&isFinite(B)&&Math.floor(B)===B}static isHidden(B){return null===B.offsetParent}static getFocusableElements(B){let J=j.find(B,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),Q=[];for(let ne of J)"none"!=getComputedStyle(ne).display&&"hidden"!=getComputedStyle(ne).visibility&&Q.push(ne);return Q}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return j.zindex=1e3,j.calculatedScrollbarWidth=null,j.calculatedScrollbarHeight=null,j})();class u{constructor(ae,B=(()=>{})){this.element=ae,this.listener=B}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let ae=0;ae<this.scrollableParents.length;ae++)this.scrollableParents[ae].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let ae=0;ae<this.scrollableParents.length;ae++)this.scrollableParents[ae].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},5787:(lt,Se,F)=>{"use strict";F.d(Se,{H:()=>B,T:()=>J});var p=F(5e3),u=F(9808),j=F(5730),ae=F(9783);let B=(()=>{class Q{constructor(re,ee,X){this.el=re,this.zone=ee,this.config=X}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(re){let ee=this.getInk();if(!ee||"none"===getComputedStyle(ee,null).display)return;if(j.p.removeClass(ee,"p-ink-active"),!j.p.getHeight(ee)&&!j.p.getWidth(ee)){let ke=Math.max(j.p.getOuterWidth(this.el.nativeElement),j.p.getOuterHeight(this.el.nativeElement));ee.style.height=ke+"px",ee.style.width=ke+"px"}let X=j.p.getOffset(this.el.nativeElement),fe=re.pageX-X.left+document.body.scrollTop-j.p.getWidth(ee)/2,$e=re.pageY-X.top+document.body.scrollLeft-j.p.getHeight(ee)/2;ee.style.top=$e+"px",ee.style.left=fe+"px",j.p.addClass(ee,"p-ink-active")}getInk(){for(let re=0;re<this.el.nativeElement.children.length;re++)if(-1!==this.el.nativeElement.children[re].className.indexOf("p-ink"))return this.el.nativeElement.children[re];return null}resetInk(){let re=this.getInk();re&&j.p.removeClass(re,"p-ink-active")}onAnimationEnd(re){j.p.removeClass(re.currentTarget,"p-ink-active")}create(){let re=document.createElement("span");re.className="p-ink",this.el.nativeElement.appendChild(re),this.animationListener=this.onAnimationEnd.bind(this),re.addEventListener("animationend",this.animationListener)}remove(){let re=this.getInk();re&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),re.removeEventListener("animationend",this.animationListener),j.p.removeElement(re))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return Q.\u0275fac=function(re){return new(re||Q)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(ae.b4,8))},Q.\u0275dir=p.lG2({type:Q,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),Q})(),J=(()=>{class Q{}return Q.\u0275fac=function(re){return new(re||Q)},Q.\u0275mod=p.oAB({type:Q}),Q.\u0275inj=p.cJS({imports:[[u.ez]]}),Q})()},7102:(lt,Se,F)=>{"use strict";F.d(Se,{Qy:()=>Fe,UN:()=>ke});var p=F(5e3),u=F(9808),j=F(5921),ae=F(5787),B=F(2382);function J(Be,me){if(1&Be&&p._UZ(0,"span",8),2&Be){const ce=p.oxw(2).$implicit;p.Tol(ce.icon),p.Q6J("ngClass","p-button-icon p-button-icon-left")}}function Q(Be,me){if(1&Be&&(p.ynx(0),p.YNc(1,J,1,3,"span",6),p.TgZ(2,"span",7),p._uU(3),p.qZA(),p.BQk()),2&Be){const ce=p.oxw().$implicit,Ye=p.oxw();p.xp6(1),p.Q6J("ngIf",ce.icon),p.xp6(2),p.Oqu(Ye.getOptionLabel(ce))}}function ne(Be,me){1&Be&&p.GkF(0)}const re=function(Be,me){return{$implicit:Be,index:me}};function ee(Be,me){if(1&Be&&p.YNc(0,ne,1,0,"ng-container",9),2&Be){const ce=p.oxw(),Ye=ce.$implicit,et=ce.index,Le=p.oxw();p.Q6J("ngTemplateOutlet",Le.itemTemplate)("ngTemplateOutletContext",p.WLB(2,re,Ye,et))}}const X=function(Be,me,ce){return{"p-highlight":Be,"p-disabled":me,"p-button-icon-only":ce}};function fe(Be,me){if(1&Be){const ce=p.EpF();p.TgZ(0,"div",2,3),p.NdJ("click",function(et){const Le=p.CHM(ce),Z=Le.$implicit,De=Le.index;return p.oxw().onItemClick(et,Z,De)})("keydown.enter",function(et){const Le=p.CHM(ce),Z=Le.$implicit,De=Le.index;return p.oxw().onItemClick(et,Z,De)})("blur",function(){return p.CHM(ce),p.oxw().onBlur()}),p.YNc(2,Q,4,2,"ng-container",4),p.YNc(3,ee,1,5,"ng-template",null,5,p.W1O),p.qZA()}if(2&Be){const ce=me.$implicit,Ye=p.MAs(4),et=p.oxw();p.Tol(ce.styleClass),p.Q6J("ngClass",p.kEZ(10,X,et.isSelected(ce),et.disabled||et.isOptionDisabled(ce),ce.icon&&!et.getOptionLabel(ce))),p.uIk("aria-pressed",et.isSelected(ce))("title",ce.title)("aria-label",ce.label)("tabindex",et.disabled?null:et.tabindex)("aria-labelledby",et.getOptionLabel(ce)),p.xp6(2),p.Q6J("ngIf",!et.itemTemplate)("ngIfElse",Ye)}}const $e={provide:B.JU,useExisting:(0,p.Gpc)(()=>ke),multi:!0};let ke=(()=>{class Be{constructor(ce){this.cd=ce,this.tabindex=0,this.onOptionClick=new p.vpe,this.onChange=new p.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(ce){return this.optionLabel?j.gb.resolveFieldData(ce,this.optionLabel):null!=ce.label?ce.label:ce}getOptionValue(ce){return this.optionValue?j.gb.resolveFieldData(ce,this.optionValue):this.optionLabel||void 0===ce.value?ce:ce.value}isOptionDisabled(ce){return this.optionDisabled?j.gb.resolveFieldData(ce,this.optionDisabled):void 0!==ce.disabled&&ce.disabled}writeValue(ce){this.value=ce,this.cd.markForCheck()}registerOnChange(ce){this.onModelChange=ce}registerOnTouched(ce){this.onModelTouched=ce}setDisabledState(ce){this.disabled=ce,this.cd.markForCheck()}onItemClick(ce,Ye,et){if(!this.disabled&&!this.isOptionDisabled(Ye)){if(this.multiple)this.isSelected(Ye)?this.removeOption(Ye):this.value=[...this.value||[],this.getOptionValue(Ye)],this.onModelChange(this.value),this.onChange.emit({originalEvent:ce,value:this.value});else{let Le=this.getOptionValue(Ye);this.value!==Le&&(this.value=this.getOptionValue(Ye),this.onModelChange(this.value),this.onChange.emit({originalEvent:ce,value:this.value}))}this.onOptionClick.emit({originalEvent:ce,option:Ye,index:et})}}onBlur(){this.onModelTouched()}removeOption(ce){this.value=this.value.filter(Ye=>!j.gb.equals(Ye,this.getOptionValue(ce),this.dataKey))}isSelected(ce){let Ye=!1,et=this.getOptionValue(ce);if(this.multiple){if(this.value)for(let Le of this.value)if(j.gb.equals(Le,et,this.dataKey)){Ye=!0;break}}else Ye=j.gb.equals(this.getOptionValue(ce),this.value,this.dataKey);return Ye}}return Be.\u0275fac=function(ce){return new(ce||Be)(p.Y36(p.sBO))},Be.\u0275cmp=p.Xpm({type:Be,selectors:[["p-selectButton"]],contentQueries:function(ce,Ye,et){if(1&ce&&p.Suo(et,p.Rgc,5),2&ce){let Le;p.iGM(Le=p.CRH())&&(Ye.itemTemplate=Le.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[p._Bn([$e])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(ce,Ye){1&ce&&(p.TgZ(0,"div",0),p.YNc(1,fe,5,14,"div",1),p.qZA()),2&ce&&(p.Tol(Ye.styleClass),p.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",Ye.style),p.xp6(1),p.Q6J("ngForOf",Ye.options))},directives:[u.mk,u.PC,u.sg,ae.H,u.O5,u.tP],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),Be})(),Fe=(()=>{class Be{}return Be.\u0275fac=function(ce){return new(ce||Be)},Be.\u0275mod=p.oAB({type:Be}),Be.\u0275inj=p.cJS({imports:[[u.ez,ae.T]]}),Be})()},5921:(lt,Se,F)=>{"use strict";F.d(Se,{P9:()=>B,Th:()=>j,gb:()=>p});class p{static equals(Q,ne,re){return re?this.resolveFieldData(Q,re)===this.resolveFieldData(ne,re):this.equalsByValue(Q,ne)}static equalsByValue(Q,ne){if(Q===ne)return!0;if(Q&&ne&&"object"==typeof Q&&"object"==typeof ne){var X,fe,$e,re=Array.isArray(Q),ee=Array.isArray(ne);if(re&&ee){if((fe=Q.length)!=ne.length)return!1;for(X=fe;0!=X--;)if(!this.equalsByValue(Q[X],ne[X]))return!1;return!0}if(re!=ee)return!1;var ke=Q instanceof Date,Fe=ne instanceof Date;if(ke!=Fe)return!1;if(ke&&Fe)return Q.getTime()==ne.getTime();var Be=Q instanceof RegExp,me=ne instanceof RegExp;if(Be!=me)return!1;if(Be&&me)return Q.toString()==ne.toString();var ce=Object.keys(Q);if((fe=ce.length)!==Object.keys(ne).length)return!1;for(X=fe;0!=X--;)if(!Object.prototype.hasOwnProperty.call(ne,ce[X]))return!1;for(X=fe;0!=X--;)if(!this.equalsByValue(Q[$e=ce[X]],ne[$e]))return!1;return!0}return Q!=Q&&ne!=ne}static resolveFieldData(Q,ne){if(Q&&ne){if(this.isFunction(ne))return ne(Q);if(-1==ne.indexOf("."))return Q[ne];{let re=ne.split("."),ee=Q;for(let X=0,fe=re.length;X<fe;++X){if(null==ee)return null;ee=ee[re[X]]}return ee}}return null}static isFunction(Q){return!!(Q&&Q.constructor&&Q.call&&Q.apply)}static reorderArray(Q,ne,re){Q&&ne!==re&&(re>=Q.length&&(re%=Q.length,ne%=Q.length),Q.splice(re,0,Q.splice(ne,1)[0]))}static insertIntoOrderedArray(Q,ne,re,ee){if(re.length>0){let X=!1;for(let fe=0;fe<re.length;fe++)if(this.findIndexInList(re[fe],ee)>ne){re.splice(fe,0,Q),X=!0;break}X||re.push(Q)}else re.push(Q)}static findIndexInList(Q,ne){let re=-1;if(ne)for(let ee=0;ee<ne.length;ee++)if(ne[ee]==Q){re=ee;break}return re}static contains(Q,ne){if(null!=Q&&ne&&ne.length)for(let re of ne)if(this.equals(Q,re))return!0;return!1}static removeAccents(Q){return Q&&Q.search(/[\xC0-\xFF]/g)>-1&&(Q=Q.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),Q}static isEmpty(Q){return null==Q||""===Q||Array.isArray(Q)&&0===Q.length||!(Q instanceof Date)&&"object"==typeof Q&&0===Object.keys(Q).length}static isNotEmpty(Q){return!this.isEmpty(Q)}}var u=0;function j(){return"pr_id_"+ ++u}var B=function ae(){let J=[];const ee=X=>X&&parseInt(X.style.zIndex,10)||0;return{get:ee,set:(X,fe,$e)=>{fe&&(fe.style.zIndex=String(((X,fe)=>{let $e=J.length>0?J[J.length-1]:{key:X,value:fe},ke=$e.value+($e.key===X?0:fe)+1;return J.push({key:X,value:ke}),ke})(X,$e)))},clear:X=>{X&&((X=>{J=J.filter(fe=>fe.value!==X)})(ee(X)),X.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(lt,Se,F)=>{"use strict";function p(j,ae,B,J,Q,ne,re){try{var ee=j[ne](re),X=ee.value}catch(fe){return void B(fe)}ee.done?ae(X):Promise.resolve(X).then(J,Q)}function u(j){return function(){var ae=this,B=arguments;return new Promise(function(J,Q){var ne=j.apply(ae,B);function re(X){p(ne,J,Q,re,ee,"next",X)}function ee(X){p(ne,J,Q,re,ee,"throw",X)}re(void 0)})}}F.d(Se,{Z:()=>u})}},lt=>{lt(lt.s=855)}]);